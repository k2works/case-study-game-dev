
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Site Description">
      
      
        <meta name="author" content="Project Team">
      
      
      
      
      
      <link rel="icon" href="../../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>設計 - Site Name</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../.." title="Site Name" class="md-header__button md-logo" aria-label="Site Name" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Site Name
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              設計
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/claude-code-booster" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    claude-code-booster
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="Site Name" class="md-nav__button md-logo" aria-label="Site Name" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Site Name
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/claude-code-booster" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    claude-code-booster
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="_1">設計<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">概要<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>このドキュメントは、ぷよぷよゲームの詳細設計について説明します。テスト駆動開発（TDD）とドメイン駆動設計（DDD）の手法を適用し、保守性と拡張性の高いソフトウェア設計を実現しています。</p>
<h2 id="_3">設計原則<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h3 id="ddd">ドメイン駆動設計（DDD）<a class="headerlink" href="#ddd" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjY1MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MTEwMnB4O2hlaWdodDo2NTFweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMTAyIDY1MSIgd2lkdGg9IjExMDJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyID8/Pz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyXy4uLi4uLi4uIj48cGF0aCBkPSJNMTMuNSwxMSBMMTI2LjQ5OTUsMTEgQTMuNzUsMy43NSAwIDAgMSAxMjguOTk5NSwxMy41IEwxMzUuOTk5NSwzMy4yOTY5IEwxMDkyLjUsMzMuMjk2OSBBMi41LDIuNSAwIDAgMSAxMDk1LDM1Ljc5NjkgTDEwOTUsNjQxLjY0IEEyLjUsMi41IDAgMCAxIDEwOTIuNSw2NDQuMTQgTDEzLjUsNjQ0LjE0IEEyLjUsMi41IDAgMCAxIDExLDY0MS42NCBMMTEsMTMuNSBBMi41LDIuNSAwIDAgMSAxMy41LDExIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjExIiB4Mj0iMTM1Ljk5OTUiIHkxPSIzMy4yOTY5IiB5Mj0iMzMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEuOTk5NSIgeD0iMTUiIHk9IjI1Ljk5NTEiPiYjMTI0MDc7JiMxMjQyNDsmIzEyNDA3OyYjMTI0MjQ7JiMxMjQ4OTsmIzEyNTEzOyYjMTI0NTI7JiMxMjUzMTs8L3RleHQ+PC9nPjwhLS1jbGFzcyBHYW1lLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdhbWUiIGRhdGEtc291cmNlLWxpbmU9IjUiIGRhdGEtdWlkPSJlbnQwMDAzIiBpZD0iZW50aXR5X0dhbWUiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMTcwLjM0MzgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyNTcuMDAyOSIgeD0iNTc0LjUiIHk9IjQ2Ii8+PGVsbGlwc2UgY3g9IjY3Ni4zOTMxIiBjeT0iNjYuMTMyOCIgZmlsbD0iI0ZGRkZGRiIgcng9IjkiIHJ5PSI5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTY3OS4zNjE4LDcxLjc3MzQgUTY3OC43ODM3LDcyLjA3MDMgNjc4LjE0MzEsNzIuMjEwOSBRNjc3LjUwMjQsNzIuMzY3MiA2NzYuNzk5Myw3Mi4zNjcyIFE2NzQuMjk5Myw3Mi4zNjcyIDY3Mi45NzEyLDcwLjcyNjYgUTY3MS42NTg3LDY5LjA3MDMgNjcxLjY1ODcsNjUuOTQ1MyBRNjcxLjY1ODcsNjIuODIwMyA2NzIuOTcxMiw2MS4xNjQxIFE2NzQuMjk5Myw1OS41MDc4IDY3Ni43OTkzLDU5LjUwNzggUTY3Ny41MDI0LDU5LjUwNzggNjc4LjE0MzEsNTkuNjY0MSBRNjc4Ljc5OTMsNTkuODIwMyA2NzkuMzYxOCw2MC4xMTcyIEw2NzkuMzYxOCw2Mi44MzU5IFE2NzguNzM2OCw2Mi4yNTc4IDY3OC4xNDMxLDYxLjk5MjIgUTY3Ny41NDkzLDYxLjcxMDkgNjc2LjkyNDMsNjEuNzEwOSBRNjc1LjU4MDYsNjEuNzEwOSA2NzQuODkzMSw2Mi43ODkxIFE2NzQuMjA1Niw2My44NTE2IDY3NC4yMDU2LDY1Ljk0NTMgUTY3NC4yMDU2LDY4LjAzOTEgNjc0Ljg5MzEsNjkuMTE3MiBRNjc1LjU4MDYsNzAuMTc5NyA2NzYuOTI0Myw3MC4xNzk3IFE2NzcuNTQ5Myw3MC4xNzk3IDY3OC4xNDMxLDY5LjkxNDEgUTY3OC43MzY4LDY5LjYzMjggNjc5LjM2MTgsNjkuMDU0NyBMNjc5LjM2MTgsNzEuNzczNCBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkuNzE2OCIgeD0iNjkxLjg5MzEiIHk9IjYyLjEzODciPiYjMTcxO0VudGl0eSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MS42Nzg3IiB4PSI2OTUuOTEyMSIgeT0iNzcuOTYzOSI+R2FtZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTc1LjUiIHgyPSI4MzAuNTAyOSIgeTE9Ijg2LjI2NTYiIHkyPSI4Ni4yNjU2Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNTgyLjUiIHk9Ijk2LjkxNDEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTcuMjI2NiIgeD0iNTkyLjUiIHk9IjEwMy4yNjA3Ij5nYW1lRmllbGQ6IEdhbWVGaWVsZDwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI1ODIuNSIgeT0iMTEzLjIxMDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjQuMjQwMiIgeD0iNTkyLjUiIHk9IjExOS41NTc2Ij5nYW1lTG9naWM6IEdhbWVMb2dpYzwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSI1ODIuNSIgeT0iMTI5LjUwNzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODEuODkwNiIgeD0iNTkyLjUiIHk9IjEzNS44NTQ1Ij5jdXJyZW50UHV5b1BhaXI6IFB1eW9QYWlyPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjU4Mi41IiB5PSIxNDUuODA0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NC42Nzc3IiB4PSI1OTIuNSIgeT0iMTUyLjE1MTQiPmdhbWVTdGF0ZTogR2FtZVN0YXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI1NzUuNSIgeDI9IjgzMC41MDI5IiB5MT0iMTU5LjQ1MzEiIHkyPSIxNTkuNDUzMSIvPjxlbGxpcHNlIGN4PSI1ODUuNSIgY3k9IjE3My4xMDE2IiBmaWxsPSIjRkZGRkZGIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzMuMDAyOSIgeD0iNTkyLjUiIHk9IjE3Ni40NDgyIj51cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkPC90ZXh0PjxlbGxpcHNlIGN4PSI1ODUuNSIgY3k9IjE4OS4zOTg0IiBmaWxsPSIjRkZGRkZGIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDguMDQ0OSIgeD0iNTkyLjUiIHk9IjE5Mi43NDUxIj5oYW5kbGVJbnB1dChrZXk6IHN0cmluZyk6IHZvaWQ8L3RleHQ+PGVsbGlwc2UgY3g9IjU4NS41IiBjeT0iMjA1LjY5NTMiIGZpbGw9IiNGRkZGRkYiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2LjY5NDMiIHg9IjU5Mi41IiB5PSIyMDkuMDQyIj5yZXN0YXJ0KCk6IHZvaWQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBHYW1lRmllbGQtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR2FtZUZpZWxkIiBkYXRhLXNvdXJjZS1saW5lPSIxNSIgZGF0YS11aWQ9ImVudDAwMDQiIGlkPSJlbnRpdHlfR2FtZUZpZWxkIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjE3MC4zNDM4IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMzg5LjU0NDkiIHg9IjI3LjIzIiB5PSIyNzYuMzQiLz48ZWxsaXBzZSBjeD0iMTgwLjc0NzEiIGN5PSIyOTYuNDcyOCIgZmlsbD0iI0ZGRkZGRiIgcng9IjkiIHJ5PSI5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTE4My43MTU4LDMwMi4xMTM0IFExODMuMTM3NywzMDIuNDEwMyAxODIuNDk3MSwzMDIuNTUwOSBRMTgxLjg1NjUsMzAyLjcwNzIgMTgxLjE1MzMsMzAyLjcwNzIgUTE3OC42NTMzLDMwMi43MDcyIDE3Ny4zMjUyLDMwMS4wNjY2IFExNzYuMDEyNywyOTkuNDEwMyAxNzYuMDEyNywyOTYuMjg1MyBRMTc2LjAxMjcsMjkzLjE2MDMgMTc3LjMyNTIsMjkxLjUwNDEgUTE3OC42NTMzLDI4OS44NDc4IDE4MS4xNTMzLDI4OS44NDc4IFExODEuODU2NSwyODkuODQ3OCAxODIuNDk3MSwyOTAuMDA0MSBRMTgzLjE1MzMsMjkwLjE2MDMgMTgzLjcxNTgsMjkwLjQ1NzIgTDE4My43MTU4LDI5My4xNzU5IFExODMuMDkwOCwyOTIuNTk3OCAxODIuNDk3MSwyOTIuMzMyMiBRMTgxLjkwMzMsMjkyLjA1MDkgMTgxLjI3ODMsMjkyLjA1MDkgUTE3OS45MzQ2LDI5Mi4wNTA5IDE3OS4yNDcxLDI5My4xMjkxIFExNzguNTU5NiwyOTQuMTkxNiAxNzguNTU5NiwyOTYuMjg1MyBRMTc4LjU1OTYsMjk4LjM3OTEgMTc5LjI0NzEsMjk5LjQ1NzIgUTE3OS45MzQ2LDMwMC41MTk3IDE4MS4yNzgzLDMwMC41MTk3IFExODEuOTAzMywzMDAuNTE5NyAxODIuNDk3MSwzMDAuMjU0MSBRMTgzLjA5MDgsMjk5Ljk3MjggMTgzLjcxNTgsMjk5LjM5NDcgTDE4My43MTU4LDMwMi4xMTM0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OS43MTY4IiB4PSIyMTAuODk0MSIgeT0iMjkyLjQ3ODciPiYjMTcxO0VudGl0eSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS4wMTA3IiB4PSIxOTguMjQ3MSIgeT0iMzA4LjMwMzkiPkdhbWVGaWVsZDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjguMjMiIHgyPSI0MTUuNzc0OSIgeTE9IjMxNi42MDU2IiB5Mj0iMzE2LjYwNTYiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIzNS4yMyIgeT0iMzI3LjI1NDEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUuODYyMyIgeD0iNDUuMjMiIHk9IjMzMy42MDA3Ij5maWVsZDogbnVtYmVyW11bXTwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIzNS4yMyIgeT0iMzQzLjU1MDkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzEuOTMzNiIgeD0iNDUuMjMiIHk9IjM0OS44OTc2Ij53aWR0aDogbnVtYmVyID0gNjwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2IiB4PSIzNS4yMyIgeT0iMzU5Ljg0NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDYuODc3IiB4PSI0NS4yMyIgeT0iMzY2LjE5NDUiPmhlaWdodDogbnVtYmVyID0gMTI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjI4LjIzIiB4Mj0iNDE1Ljc3NDkiIHkxPSIzNzMuNDk2MyIgeTI9IjM3My40OTYzIi8+PGVsbGlwc2UgY3g9IjM4LjIzIiBjeT0iMzg3LjE0NDciIGZpbGw9IiNGRkZGRkYiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwOC45NTciIHg9IjQ1LjIzIiB5PSIzOTAuNDkxNCI+Y2FuTW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbjwvdGV4dD48ZWxsaXBzZSBjeD0iMzguMjMiIGN5PSI0MDMuNDQxNiIgZmlsbD0iI0ZGRkZGRiIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzY1LjU0NDkiIHg9IjQ1LjIzIiB5PSI0MDYuNzg4MiI+c2V0UHV5byh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IG51bWJlcik6IHZvaWQ8L3RleHQ+PGVsbGlwc2UgY3g9IjM4LjIzIiBjeT0iNDE5LjczODQiIGZpbGw9IiNGRkZGRkYiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NS4wNDU5IiB4PSI0NS4yMyIgeT0iNDIzLjA4NTEiPmVyYXNlUHV5b3MoKTogbnVtYmVyPC90ZXh0PjxlbGxpcHNlIGN4PSIzOC4yMyIgY3k9IjQzNi4wMzUzIiBmaWxsPSIjRkZGRkZGIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzkuMzc3OSIgeD0iNDUuMjMiIHk9IjQzOS4zODIiPmFwcGx5R3Jhdml0eSgpOiB2b2lkPC90ZXh0PjwvZz48IS0tY2xhc3MgR2FtZUxvZ2ljLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdhbWVMb2dpYyIgZGF0YS1zb3VyY2UtbGluZT0iMjUiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X0dhbWVMb2dpYyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIxMDUuMTU2MyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjI0Ni43ODMyIiB4PSI0NTEuNjEiIHk9IjMwOC45NCIvPjxlbGxpcHNlIGN4PSI1MTguNTQ1NSIgY3k9IjMyOS4wNzI4IiBmaWxsPSIjRkZGRkZGIiByeD0iOSIgcnk9IjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNTIxLjUxNDMsMzM0LjcxMzQgUTUyMC45MzYyLDMzNS4wMTAzIDUyMC4yOTU1LDMzNS4xNTA5IFE1MTkuNjU0OSwzMzUuMzA3MiA1MTguOTUxOCwzMzUuMzA3MiBRNTE2LjQ1MTgsMzM1LjMwNzIgNTE1LjEyMzcsMzMzLjY2NjYgUTUxMy44MTEyLDMzMi4wMTAzIDUxMy44MTEyLDMyOC44ODUzIFE1MTMuODExMiwzMjUuNzYwMyA1MTUuMTIzNywzMjQuMTA0MSBRNTE2LjQ1MTgsMzIyLjQ0NzggNTE4Ljk1MTgsMzIyLjQ0NzggUTUxOS42NTQ5LDMyMi40NDc4IDUyMC4yOTU1LDMyMi42MDQxIFE1MjAuOTUxOCwzMjIuNzYwMyA1MjEuNTE0MywzMjMuMDU3MiBMNTIxLjUxNDMsMzI1Ljc3NTkgUTUyMC44ODkzLDMyNS4xOTc4IDUyMC4yOTU1LDMyNC45MzIyIFE1MTkuNzAxOCwzMjQuNjUwOSA1MTkuMDc2OCwzMjQuNjUwOSBRNTE3LjczMywzMjQuNjUwOSA1MTcuMDQ1NSwzMjUuNzI5MSBRNTE2LjM1OCwzMjYuNzkxNiA1MTYuMzU4LDMyOC44ODUzIFE1MTYuMzU4LDMzMC45NzkxIDUxNy4wNDU1LDMzMi4wNTcyIFE1MTcuNzMzLDMzMy4xMTk3IDUxOS4wNzY4LDMzMy4xMTk3IFE1MTkuNzAxOCwzMzMuMTE5NyA1MjAuMjk1NSwzMzIuODU0MSBRNTIwLjg4OTMsMzMyLjU3MjggNTIxLjUxNDMsMzMxLjk5NDcgTDUyMS41MTQzLDMzNC43MTM0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkuNDEyMSIgeD0iNTM0LjA0NTUiIHk9IjMyNS4wNzg3Ij4mIzE3MTtEb21haW4gU2VydmljZSYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OC41MTc2IiB4PSI1NDkuNDkyOCIgeT0iMzQwLjkwMzkiPkdhbWVMb2dpYzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDUyLjYxIiB4Mj0iNjk3LjM5MzIiIHkxPSIzNDkuMjA1NiIgeTI9IjM0OS4yMDU2Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNiIgeD0iNDU5LjYxIiB5PSIzNTkuODU0MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Ny4yMjY2IiB4PSI0NjkuNjEiIHk9IjM2Ni4yMDA3Ij5nYW1lRmllbGQ6IEdhbWVGaWVsZDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNDUyLjYxIiB4Mj0iNjk3LjM5MzIiIHkxPSIzNzMuNTAyNSIgeTI9IjM3My41MDI1Ii8+PGVsbGlwc2UgY3g9IjQ2Mi42MSIgY3k9IjM4Ny4xNTA5IiBmaWxsPSIjRkZGRkZGIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTguMDY0NSIgeD0iNDY5LjYxIiB5PSIzOTAuNDk3NiI+cHJvY2Vzc0NoYWluKCk6IENoYWluUmVzdWx0PC90ZXh0PjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYiIHg9IjQ1OS42MSIgeT0iNDAwLjQ0NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMjIuNzgzMiIgeD0iNDY5LjYxIiB5PSI0MDYuNzk0NSI+Y2hlY2taZW5rZXNoaUJvbnVzKCk6IG51bWJlcjwvdGV4dD48L2c+PCEtLWNsYXNzIFNjb3JlQ2FsY3VsYXRvci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJTY29yZUNhbGN1bGF0b3IiIGRhdGEtc291cmNlLWxpbmU9IjMxIiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9TY29yZUNhbGN1bGF0b3IiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMTA1LjE1NjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI1NjAuNTkzOCIgeD0iMTQ2LjciIHk9IjUxNC44NCIvPjxlbGxpcHNlIGN4PSIzNjcuOTQwNyIgY3k9IjUzNC45NzI4IiBmaWxsPSIjRkZGRkZGIiByeD0iOSIgcnk9IjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzcwLjkwOTUsNTQwLjYxMzQgUTM3MC4zMzEzLDU0MC45MTAzIDM2OS42OTA3LDU0MS4wNTA5IFEzNjkuMDUwMSw1NDEuMjA3MiAzNjguMzQ3LDU0MS4yMDcyIFEzNjUuODQ3LDU0MS4yMDcyIDM2NC41MTg4LDUzOS41NjY2IFEzNjMuMjA2Myw1MzcuOTEwMyAzNjMuMjA2Myw1MzQuNzg1MyBRMzYzLjIwNjMsNTMxLjY2MDMgMzY0LjUxODgsNTMwLjAwNDEgUTM2NS44NDcsNTI4LjM0NzggMzY4LjM0Nyw1MjguMzQ3OCBRMzY5LjA1MDEsNTI4LjM0NzggMzY5LjY5MDcsNTI4LjUwNDEgUTM3MC4zNDcsNTI4LjY2MDMgMzcwLjkwOTUsNTI4Ljk1NzIgTDM3MC45MDk1LDUzMS42NzU5IFEzNzAuMjg0NSw1MzEuMDk3OCAzNjkuNjkwNyw1MzAuODMyMiBRMzY5LjA5Nyw1MzAuNTUwOSAzNjguNDcyLDUzMC41NTA5IFEzNjcuMTI4Miw1MzAuNTUwOSAzNjYuNDQwNyw1MzEuNjI5MSBRMzY1Ljc1MzIsNTMyLjY5MTYgMzY1Ljc1MzIsNTM0Ljc4NTMgUTM2NS43NTMyLDUzNi44NzkxIDM2Ni40NDA3LDUzNy45NTcyIFEzNjcuMTI4Miw1MzkuMDE5NyAzNjguNDcyLDUzOS4wMTk3IFEzNjkuMDk3LDUzOS4wMTk3IDM2OS42OTA3LDUzOC43NTQxIFEzNzAuMjg0NSw1MzguNDcyOCAzNzAuOTA5NSw1MzcuODk0NyBMMzcwLjkwOTUsNTQwLjYxMzQgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOS40MTIxIiB4PSIzODYuMDQwOCIgeT0iNTMwLjk3ODciPiYjMTcxO0RvbWFpbiBTZXJ2aWNlJiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMC42MTIzIiB4PSIzODUuNDQwNyIgeT0iNTQ2LjgwMzkiPlNjb3JlQ2FsY3VsYXRvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ3LjciIHgyPSI3MDYuMjkzOCIgeTE9IjU1NS4xMDU2IiB5Mj0iNTU1LjEwNTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTQ3LjciIHgyPSI3MDYuMjkzOCIgeTE9IjU2My4xMDU2IiB5Mj0iNTYzLjEwNTYiLz48ZWxsaXBzZSBjeD0iMTU3LjciIGN5PSI1NzYuNzU0MSIgZmlsbD0iI0ZGRkZGRiIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTM2LjU5MzgiIHg9IjE2NC43IiB5PSI1ODAuMTAwNyI+Y2FsY3VsYXRlRXJhc3VyZVNjb3JlKGVyYXNlZENvdW50OiBudW1iZXIsIGNoYWluQ291bnQ6IG51bWJlcik6IG51bWJlcjwvdGV4dD48ZWxsaXBzZSBjeD0iMTU3LjciIGN5PSI1OTMuMDUwOSIgZmlsbD0iI0ZGRkZGRiIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzI0LjIxNDgiIHg9IjE2NC43IiB5PSI1OTYuMzk3NiI+Z2V0Q2hhaW5Cb251cyhjaGFpbkNvdW50OiBudW1iZXIpOiBudW1iZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjE1Ny43IiBjeT0iNjA5LjM0NzgiIGZpbGw9IiNGRkZGRkYiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIwNC43ODQyIiB4PSIxNjQuNyIgeT0iNjEyLjY5NDUiPmdldFplbmtlc2hpQm9udXMoKTogbnVtYmVyPC90ZXh0PjwvZz48IS0tY2xhc3MgUHV5b1BhaXItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iUHV5b1BhaXIiIGRhdGEtc291cmNlLWxpbmU9IjM3IiBkYXRhLXVpZD0iZW50MDAwNyIgaWQ9ImVudGl0eV9QdXlvUGFpciI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIxMzcuNzUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxOTUuMzE1NCIgeD0iNzMzLjM0IiB5PSIyOTIuNjQiLz48ZWxsaXBzZSBjeD0iNzgzLjUxNTMiIGN5PSIzMTIuNzcyOCIgZmlsbD0iI0ZGRkZGRiIgcng9IjkiIHJ5PSI5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTc4Ni40ODQsMzE4LjQxMzQgUTc4NS45MDU5LDMxOC43MTAzIDc4NS4yNjUzLDMxOC44NTA5IFE3ODQuNjI0NywzMTkuMDA3MiA3ODMuOTIxNSwzMTkuMDA3MiBRNzgxLjQyMTUsMzE5LjAwNzIgNzgwLjA5MzQsMzE3LjM2NjYgUTc3OC43ODA5LDMxNS43MTAzIDc3OC43ODA5LDMxMi41ODUzIFE3NzguNzgwOSwzMDkuNDYwMyA3ODAuMDkzNCwzMDcuODA0MSBRNzgxLjQyMTUsMzA2LjE0NzggNzgzLjkyMTUsMzA2LjE0NzggUTc4NC42MjQ3LDMwNi4xNDc4IDc4NS4yNjUzLDMwNi4zMDQxIFE3ODUuOTIxNSwzMDYuNDYwMyA3ODYuNDg0LDMwNi43NTcyIEw3ODYuNDg0LDMwOS40NzU5IFE3ODUuODU5LDMwOC44OTc4IDc4NS4yNjUzLDMwOC42MzIyIFE3ODQuNjcxNSwzMDguMzUwOSA3ODQuMDQ2NSwzMDguMzUwOSBRNzgyLjcwMjgsMzA4LjM1MDkgNzgyLjAxNTMsMzA5LjQyOTEgUTc4MS4zMjc4LDMxMC40OTE2IDc4MS4zMjc4LDMxMi41ODUzIFE3ODEuMzI3OCwzMTQuNjc5MSA3ODIuMDE1MywzMTUuNzU3MiBRNzgyLjcwMjgsMzE2LjgxOTcgNzg0LjA0NjUsMzE2LjgxOTcgUTc4NC42NzE1LDMxNi44MTk3IDc4NS4yNjUzLDMxNi41NTQxIFE3ODUuODU5LDMxNi4yNzI4IDc4Ni40ODQsMzE1LjY5NDcgTDc4Ni40ODQsMzE4LjQxMzQgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjQ2NDgiIHg9Ijc5OS4wMTUzIiB5PSIzMDguNzc4NyI+JiMxNzE7VmFsdWUgT2JqZWN0JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjgzMyIgeD0iODE0LjMzMTIiIHk9IjMyNC42MDM5Ij5QdXlvUGFpcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzM0LjM0IiB4Mj0iOTI3LjY1NTQiIHkxPSIzMzIuOTA1NiIgeTI9IjMzMi45MDU2Ii8+PGVsbGlwc2UgY3g9Ijc0NC4zNCIgY3k9IjM0Ni41NTQxIiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MS4zODA5IiB4PSI3NTEuMzQiIHk9IjM0OS45MDA3Ij5heGlzOiBQdXlvPC90ZXh0PjxlbGxpcHNlIGN4PSI3NDQuMzQiIGN5PSIzNjIuODUwOSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkuMDgwMSIgeD0iNzUxLjM0IiB5PSIzNjYuMTk3NiI+c2F0ZWxsaXRlOiBQdXlvPC90ZXh0PjxlbGxpcHNlIGN4PSI3NDQuMzQiIGN5PSIzNzkuMTQ3OCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5LjAxMzciIHg9Ijc1MS4zNCIgeT0iMzgyLjQ5NDUiPnJvdGF0aW9uOiBudW1iZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjczNC4zNCIgeDI9IjkyNy42NTU0IiB5MT0iMzg5Ljc5NjMiIHkyPSIzODkuNzk2MyIvPjxlbGxpcHNlIGN4PSI3NDQuMzQiIGN5PSI0MDMuNDQ0NyIgZmlsbD0iI0ZGRkZGRiIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTIuMjEiIHg9Ijc1MS4zNCIgeT0iNDA2Ljc5MTQiPnJvdGF0ZSgpOiB2b2lkPC90ZXh0PjxlbGxpcHNlIGN4PSI3NDQuMzQiIGN5PSI0MTkuNzQxNiIgZmlsbD0iI0ZGRkZGRiIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTcxLjMxNTQiIHg9Ijc1MS4zNCIgeT0iNDIzLjA4ODIiPmdldFBvc2l0aW9ucygpOiBQb3NpdGlvbltdPC90ZXh0PjwvZz48IS0tY2xhc3MgUHV5by0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJQdXlvIiBkYXRhLXNvdXJjZS1saW5lPSI0NSIgZGF0YS11aWQ9ImVudDAwMDgiIGlkPSJlbnRpdHlfUHV5byI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIxMjEuNDUzMSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjI4My4wMjA1IiB4PSI3NDIuNDkiIHk9IjUwNi42OSIvPjxlbGxpcHNlIGN4PSI4MzYuNTE3OCIgY3k9IjUyNi44MjI4IiBmaWxsPSIjRkZGRkZGIiByeD0iOSIgcnk9IjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNODM5LjQ4NjYsNTMyLjQ2MzQgUTgzOC45MDg1LDUzMi43NjAzIDgzOC4yNjc4LDUzMi45MDA5IFE4MzcuNjI3Miw1MzMuMDU3MiA4MzYuOTI0MSw1MzMuMDU3MiBRODM0LjQyNDEsNTMzLjA1NzIgODMzLjA5Niw1MzEuNDE2NiBRODMxLjc4MzUsNTI5Ljc2MDMgODMxLjc4MzUsNTI2LjYzNTMgUTgzMS43ODM1LDUyMy41MTAzIDgzMy4wOTYsNTIxLjg1NDEgUTgzNC40MjQxLDUyMC4xOTc4IDgzNi45MjQxLDUyMC4xOTc4IFE4MzcuNjI3Miw1MjAuMTk3OCA4MzguMjY3OCw1MjAuMzU0MSBRODM4LjkyNDEsNTIwLjUxMDMgODM5LjQ4NjYsNTIwLjgwNzIgTDgzOS40ODY2LDUyMy41MjU5IFE4MzguODYxNiw1MjIuOTQ3OCA4MzguMjY3OCw1MjIuNjgyMiBRODM3LjY3NDEsNTIyLjQwMDkgODM3LjA0OTEsNTIyLjQwMDkgUTgzNS43MDUzLDUyMi40MDA5IDgzNS4wMTc4LDUyMy40NzkxIFE4MzQuMzMwMyw1MjQuNTQxNiA4MzQuMzMwMyw1MjYuNjM1MyBRODM0LjMzMDMsNTI4LjcyOTEgODM1LjAxNzgsNTI5LjgwNzIgUTgzNS43MDUzLDUzMC44Njk3IDgzNy4wNDkxLDUzMC44Njk3IFE4MzcuNjc0MSw1MzAuODY5NyA4MzguMjY3OCw1MzAuNjA0MSBRODM4Ljg2MTYsNTMwLjMyMjggODM5LjQ4NjYsNTI5Ljc0NDcgTDgzOS40ODY2LDUzMi40NjM0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS40NjQ4IiB4PSI4NTIuMDE3OCIgeT0iNTIyLjgyODciPiYjMTcxO1ZhbHVlIE9iamVjdCYjMTg3OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC4xNjYiIHg9Ijg4MC42NjcyIiB5PSI1MzguNjUzOSI+UHV5bzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzQzLjQ5IiB4Mj0iMTAyNC41MTA1IiB5MT0iNTQ2Ljk1NTYiIHkyPSI1NDYuOTU1NiIvPjxlbGxpcHNlIGN4PSI3NTMuNDkiIGN5PSI1NjAuNjA0MSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDkxOCIgeD0iNzYwLjQ5IiB5PSI1NjMuOTUwNyI+eDogbnVtYmVyPC90ZXh0PjxlbGxpcHNlIGN4PSI3NTMuNDkiIGN5PSI1NzYuOTAwOSIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDkxOCIgeD0iNzYwLjQ5IiB5PSI1ODAuMjQ3NiI+eTogbnVtYmVyPC90ZXh0PjxlbGxpcHNlIGN4PSI3NTMuNDkiIGN5PSI1OTMuMTk3OCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTguMjgwMyIgeD0iNzYwLjQ5IiB5PSI1OTYuNTQ0NSI+Y29sb3I6IG51bWJlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzQzLjQ5IiB4Mj0iMTAyNC41MTA1IiB5MT0iNjAzLjg0NjIiIHkyPSI2MDMuODQ2MiIvPjxlbGxpcHNlIGN4PSI3NTMuNDkiIGN5PSI2MTcuNDk0NyIgZmlsbD0iI0ZGRkZGRiIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjU5LjAyMDUiIHg9Ijc2MC40OSIgeT0iNjIwLjg0MTQiPm1vdmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBHYW1lU3RhdGUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR2FtZVN0YXRlIiBkYXRhLXNvdXJjZS1saW5lPSI1MiIgZGF0YS11aWQ9ImVudDAwMDkiIGlkPSJlbnRpdHlfR2FtZVN0YXRlIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9Ijg4Ljg1OTQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMTUuNDY0OCIgeD0iOTYzLjI3IiB5PSIzMTcuMDkiLz48ZWxsaXBzZSBjeD0iOTc2LjI3IiBjeT0iMzM3LjIyMjgiIGZpbGw9IiNGRkZGRkYiIHJ4PSI5IiByeT0iOSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik05ODAuMzc5NCwzNDMuMjIyOCBMOTcyLjY2MDYsMzQzLjIyMjggTDk3Mi42NjA2LDMzMC44MzIyIEw5ODAuMzc5NCwzMzAuODMyMiBMOTgwLjM3OTQsMzMyLjk4ODQgTDk3NS4xMTM4LDMzMi45ODg0IEw5NzUuMTEzOCwzMzUuNjYwMyBMOTc5Ljg3OTQsMzM1LjY2MDMgTDk3OS44Nzk0LDMzNy44MTY2IEw5NzUuMTEzOCwzMzcuODE2NiBMOTc1LjExMzgsMzQxLjA2NjYgTDk4MC4zNzk0LDM0MS4wNjY2IEw5ODAuMzc5NCwzNDMuMjIyOCBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuNDY0OCIgeD0iOTg2LjI3IiB5PSIzMzMuMjI4NyI+JiMxNzE7VmFsdWUgT2JqZWN0JiMxODc7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4LjczNjMiIHg9Ijk5Mi42MzQzIiB5PSIzNDkuMDUzOSI+R2FtZVN0YXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI5NjQuMjciIHgyPSIxMDc3LjczNDgiIHkxPSIzNTcuMzU1NiIgeTI9IjM1Ny4zNTU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkuODIxMyIgeD0iOTY5LjI3IiB5PSIzNzQuMzUwNyI+UExBWUlORzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4Ny41MjA1IiB4PSI5NjkuMjciIHk9IjM5MC42NDc2Ij5HQU1FX09WRVI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9Ijk2NC4yNyIgeDI9IjEwNzcuNzM0OCIgeTE9IjM5Ny45NDk0IiB5Mj0iMzk3Ljk0OTQiLz48L2c+PCEtLXJldmVyc2UgbGluayBHYW1lIHRvIEdhbWVGaWVsZC0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJHYW1lIiBkYXRhLWVudGl0eS0yPSJHYW1lRmllbGQiIGRhdGEtc291cmNlLWxpbmU9IjU3IiBkYXRhLXVpZD0ibG5rMTAiIGlkPSJsaW5rX0dhbWVfR2FtZUZpZWxkIj48cGF0aCBjb2RlTGluZT0iNTciIGQ9Ik01NjMuMjU5OSwxOTguNTA3MiBDNTA5LjgyOTksMjIzLjg3NzIgNDU3LjgsMjQ4LjU3IDQwMC4wOCwyNzUuOTciIGZpbGw9Im5vbmUiIGlkPSJHYW1lLWJhY2t0by1HYW1lRmllbGQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjU3NC4xLDE5My4zNiw1NjYuOTY0MywxOTIuMzIwMiw1NjMuMjU5OSwxOTguNTA3Miw1NzAuMzk1NywxOTkuNTQ2OSw1NzQuMSwxOTMuMzYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLXJldmVyc2UgbGluayBHYW1lIHRvIEdhbWVMb2dpYy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJHYW1lIiBkYXRhLWVudGl0eS0yPSJHYW1lTG9naWMiIGRhdGEtc291cmNlLWxpbmU9IjU4IiBkYXRhLXVpZD0ibG5rMTEiIGlkPSJsaW5rX0dhbWVfR2FtZUxvZ2ljIj48cGF0aCBjb2RlTGluZT0iNTgiIGQ9Ik02NDkuODMzNSwyMjcuMDE4MiBDNjMyLjUzMzUsMjU3Ljg4ODIgNjE5LjM0LDI4MS40MiA2MDQuMDksMzA4LjYyIiBmaWxsPSJub25lIiBpZD0iR2FtZS1iYWNrdG8tR2FtZUxvZ2ljIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI2NTUuNywyMTYuNTUsNjQ5LjI3NzMsMjE5LjgyODYsNjQ5LjgzMzUsMjI3LjAxODIsNjU2LjI1NjEsMjIzLjczOTYsNjU1LjcsMjE2LjU1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgR2FtZSB0byBQdXlvUGFpci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJHYW1lIiBkYXRhLWVudGl0eS0yPSJQdXlvUGFpciIgZGF0YS1zb3VyY2UtbGluZT0iNTkiIGRhdGEtdWlkPSJsbmsxMiIgaWQ9ImxpbmtfR2FtZV9QdXlvUGFpciI+PHBhdGggY29kZUxpbmU9IjU5IiBkPSJNNzU2LjE2ODQsMjI3LjAxNzIgQzc3MC4xMjg0LDI1MS45MTcyIDc3OS4zNSwyNjguMzggNzkyLjY3LDI5Mi4xNCIgZmlsbD0ibm9uZSIgaWQ9IkdhbWUtYmFja3RvLVB1eW9QYWlyIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI3NTAuMywyMTYuNTUsNzQ5Ljc0NTEsMjIzLjczOTcsNzU2LjE2ODQsMjI3LjAxNzIsNzU2LjcyMzIsMjE5LjgyNzUsNzUwLjMsMjE2LjU1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgR2FtZSB0byBHYW1lU3RhdGUtLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iR2FtZSIgZGF0YS1lbnRpdHktMj0iR2FtZVN0YXRlIiBkYXRhLXNvdXJjZS1saW5lPSI2MCIgZGF0YS11aWQ9ImxuazEzIiBpZD0ibGlua19HYW1lX0dhbWVTdGF0ZSI+PHBhdGggY29kZUxpbmU9IjYwIiBkPSJNODQyLjIwNTIsMjA0Ljc1NjggQzg4MC41ODUyLDIyNy4xNDY4IDkxMS4yNywyNDcuNzIgOTQ2LDI3Ni4zNCBDOTYwLjUsMjg4LjI5IDk3NC42NywzMDMuMTIgOTg2LjcyLDMxNi45OCIgZmlsbD0ibm9uZSIgaWQ9IkdhbWUtYmFja3RvLUdhbWVTdGF0ZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iODMxLjg0LDE5OC43MSw4MzUuMDA3LDIwNS4xODg0LDg0Mi4yMDUyLDIwNC43NTY4LDgzOS4wMzgyLDE5OC4yNzgzLDgzMS44NCwxOTguNzEiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLXJldmVyc2UgbGluayBQdXlvUGFpciB0byBQdXlvLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9IlB1eW9QYWlyIiBkYXRhLWVudGl0eS0yPSJQdXlvIiBkYXRhLXNvdXJjZS1saW5lPSI2MSIgZGF0YS11aWQ9ImxuazE0IiBpZD0ibGlua19QdXlvUGFpcl9QdXlvIj48cGF0aCBjb2RlTGluZT0iNjEiIGQ9Ik04NTEuNzM4Myw0NDIuMzA0MiBDODU4LjExODMsNDY2Ljg1NDIgODYyLjI1LDQ4Mi43MiA4NjguNDMsNTA2LjUxIiBmaWxsPSJub25lIiBpZD0iUHV5b1BhaXItYmFja3RvLVB1eW8iIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9Ijg0OC43Miw0MzAuNjksODQ2LjM1NzcsNDM3LjUwMzIsODUxLjczODMsNDQyLjMwNDIsODU0LjEwMDUsNDM1LjQ5MSw4NDguNzIsNDMwLjY5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1saW5rIEdhbWVMb2dpYyB0byBTY29yZUNhbGN1bGF0b3ItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iR2FtZUxvZ2ljIiBkYXRhLWVudGl0eS0yPSJTY29yZUNhbGN1bGF0b3IiIGRhdGEtc291cmNlLWxpbmU9IjYyIiBkYXRhLXVpZD0ibG5rMTUiIGlkPSJsaW5rX0dhbWVMb2dpY19TY29yZUNhbGN1bGF0b3IiPjxwYXRoIGNvZGVMaW5lPSI2MiIgZD0iTTUzNy4yNyw0MTQuNDkgQzUxNSw0NDUuMTcgNDkwLjQ0NTEsNDc5LjAxNDcgNDY4LjE4NTEsNTA5LjY3NDciIGZpbGw9Im5vbmUiIGlkPSJHYW1lTG9naWMtdG8tU2NvcmVDYWxjdWxhdG9yIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTo3LDc7Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI0NjQuNjYsNTE0LjUzLDQ3My4xODQ1LDUwOS41OTcxLDQ2Ny41OTc2LDUxMC40ODM5LDQ2Ni43MTA4LDUwNC44OTcsNDY0LjY2LDUxNC41MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tU1JDPVtYTEZEUmpEMDRCeGxLb216NkxuTldXRTdnOHJLR2VXZ2pKSGdnYWZHTE1ZcDdrbWJ3cnJoVnE4aXIwRkQxSHdaNGNfMFdHVkFZeDNVbk92VGVsUFlaeC1QeU5tcHl5cXBhcUMxa0VJNDJPSEFHWFNhMHhvdC1WdmRTX1ZadHRGelN4RS10enB6c2duX3gtNWwyNTVFakNPSnVsOEUzeVYyQzVDRFh5d0hQMHZ3bnUyZDAtX3JQYTFGUFNQZUdCczk0Y2dMMGM2Y2pmOUptakcwRHJQOGMxYlk4Mkh1NHlNc0pEcXhJZTRSU2lhQXZuSXNjOER3RmkxQm9MOEt2cUlhNzR2NFFLc3FXNmcwakw1Q1BBclZXSlA0Y1FXMVJoa1RVQXVGc2xhU01XYmJoYy1rUnIzb2JRS2NSbzF5WDUtWjkwVU12UVEzbE5vNU9haDRjTHAyZk9uTVpNU1ZMbnRBU29hdjQ4NVkzTnU2RS1Gc0NQTFNnbHl3MUtLcXI1Y3dSWU91S0twQWFiU0pIUFFrV1RyRC1qNng5al9BbWdxUnBxMGo2T0w3VFhVTkliQkdVZkl4LUZnVnRoVzBSUmJuQXlvMUJadzJNODNFc0hpZlI5VEVNdFg2Zk84SHVUSG9PZ0pRTlR1REIwSjBzRkxjNVZZaW8zVVFaZ0dMZlpFSmNhQ0Z3bW1YMC1DdjFaZkZYSnY5bFg2Yk90cjVrMEx5Rmx5MnIwSkVQQ0xxcUFyUmV3RkVFUWlyNm0wYmRNb1A1RGp3N2U1c0N0TnpnVElpM2xBcmNtLWRpcnh6ZFJMTnNfek1NeENkNW5HTlpxZ21xR1N1UDdqZWt3ZkRKdXlfZEJvVmVDZG5zVlpKLVROdWVheHB6X3lZSUpmb3dLN1hwYmtlRlV6VUtCWmpUaWZEOERnZ3pVMVctNTEyd0ZPbF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_4">エンティティの設計<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h4 id="game">Game（ゲームエンティティ）<a class="headerlink" href="#game" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務</strong>: ゲーム全体の状態管理とライフサイクル制御</li>
<li><strong>不変条件</strong>: ゲーム状態の整合性維持</li>
<li><strong>ライフサイクル</strong>: 初期化 → プレイ中 → ゲームオーバー → リスタート</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Game</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ゲーム状態の管理</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">gameState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">GameState</span><span class="p">.</span><span class="nx">PLAYING</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">chainCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>

<span class="w">  </span><span class="c1">// コンポーネントの協調</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">gameField</span><span class="o">:</span><span class="w"> </span><span class="kt">GameField</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">gameLogic</span><span class="o">:</span><span class="w"> </span><span class="kt">GameLogic</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">currentPuyoPair</span><span class="o">:</span><span class="w"> </span><span class="kt">PuyoPair</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span>

<span class="w">  </span><span class="c1">// ライフサイクル管理</span>
<span class="w">  </span><span class="nx">update</span><span class="p">(</span><span class="nx">deltaTime?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span>
<span class="w">  </span><span class="nx">restart</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="gamefield">GameField（フィールドエンティティ）<a class="headerlink" href="#gamefield" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務</strong>: ゲームフィールドの状態管理とぷよの物理的配置</li>
<li><strong>不変条件</strong>: フィールドサイズ（6x12）の維持、座標の妥当性</li>
<li><strong>ビジネスルール</strong>: ぷよの配置規則、消去規則、重力規則</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">GameField</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">field</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">[][]</span><span class="w"> </span><span class="c1">// 6x12のフィールド</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">6</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12</span>

<span class="w">  </span><span class="c1">// フィールド操作の基本メソッド</span>
<span class="w">  </span><span class="nx">canMoveTo</span><span class="p">(</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span>
<span class="w">  </span><span class="nx">setPuyo</span><span class="p">(</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span>

<span class="w">  </span><span class="c1">// ゲームルールの実装</span>
<span class="w">  </span><span class="nx">findConnectedPuyos</span><span class="p">(</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">Position</span><span class="p">[]</span>
<span class="w">  </span><span class="nx">erasePuyos</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
<span class="w">  </span><span class="nx">applyGravity</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_5">値オブジェクトの設計<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h4 id="puyopair">PuyoPair（ぷよペア値オブジェクト）<a class="headerlink" href="#puyopair" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>不変性</strong>: 作成後の状態変更は新しいインスタンスを生成</li>
<li><strong>自己妥当性</strong>: 軸-衛星の関係を常に維持</li>
<li><strong>振る舞い</strong>: 回転、移動、位置計算</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">PuyoPair</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nx">axis</span><span class="o">:</span><span class="w"> </span><span class="kt">Puyo</span><span class="w">      </span><span class="c1">// 軸ぷよ</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nx">satellite</span><span class="o">:</span><span class="w"> </span><span class="kt">Puyo</span><span class="w"> </span><span class="c1">// 衛星ぷよ</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nx">rotation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="w">    </span><span class="c1">// 回転状態（0-3）</span>

<span class="w">  </span><span class="c1">// 回転状態に基づく位置計算</span>
<span class="w">  </span><span class="nx">updateSatellitePosition</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">offsets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// 上</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">},</span><span class="w">  </span><span class="c1">// 右</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="w"> </span><span class="p">},</span><span class="w">  </span><span class="c1">// 下</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// 左</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">offsets</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">rotation</span><span class="p">]</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">satellite</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">offset</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">offset</span><span class="p">.</span><span class="nx">y</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="puyo">Puyo（ぷよ値オブジェクト）<a class="headerlink" href="#puyo" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>基本属性</strong>: 位置（x, y）と色（color）</li>
<li><strong>不変性</strong>: 移動時は新しい位置に更新</li>
<li><strong>妥当性</strong>: 座標とカラーの有効性を保証</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Puyo</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kr">constructor</span><span class="p">(</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="w">  </span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_6">ドメインサービスの設計<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<h4 id="gamelogic">GameLogic（連鎖処理サービス）<a class="headerlink" href="#gamelogic" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務</strong>: 複雑な連鎖ロジックのカプセル化</li>
<li><strong>協調</strong>: GameFieldとScoreCalculatorとの連携</li>
<li><strong>状態管理</strong>: 連鎖の進行状態を管理</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">GameLogic</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">processChain</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">totalScore</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span><span class="w"> </span><span class="nx">chainCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">chainCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">totalScore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>

<span class="w">    </span><span class="c1">// 連鎖ループ</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">erasedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">gameField</span><span class="p">.</span><span class="nx">erasePuyos</span><span class="p">()</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">erasedCount</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="k">break</span>

<span class="w">      </span><span class="nx">chainCount</span><span class="o">++</span>
<span class="w">      </span><span class="nx">totalScore</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">ScoreCalculator</span><span class="p">.</span><span class="nx">calculateErasureScore</span><span class="p">(</span><span class="nx">erasedCount</span><span class="p">,</span><span class="w"> </span><span class="nx">chainCount</span><span class="p">)</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">gameField</span><span class="p">.</span><span class="nx">applyGravity</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 全消しボーナスチェック</span>
<span class="w">    </span><span class="nx">totalScore</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">checkZenkeshiBonus</span><span class="p">()</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">totalScore</span><span class="p">,</span><span class="w"> </span><span class="nx">chainCount</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="scorecalculator">ScoreCalculator（スコア計算サービス）<a class="headerlink" href="#scorecalculator" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>責務</strong>: スコア計算の純粋な計算ロジック</li>
<li><strong>ステートレス</strong>: 副作用のない純粋関数として実装</li>
<li><strong>テスト容易性</strong>: 入力に対する出力が決定的</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">ScoreCalculator</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 連鎖ボーナス倍率テーブル</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">CHAIN_BONUS_TABLE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">16</span><span class="p">,</span><span class="w"> </span><span class="mf">32</span><span class="p">,</span><span class="w"> </span><span class="mf">64</span><span class="p">,</span><span class="w"> </span><span class="mf">128</span><span class="p">]</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="nx">ZENKESHI_BONUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2000</span>

<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="nx">calculateErasureScore</span><span class="p">(</span><span class="nx">erasedCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">chainCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">baseScore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">erasedCount</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">10</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">chainBonus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">getChainBonus</span><span class="p">(</span><span class="nx">chainCount</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">baseScore</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">chainBonus</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="nx">getChainBonus</span><span class="p">(</span><span class="nx">chainCount</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">chainCount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">CHAIN_BONUS_TABLE</span><span class="p">.</span><span class="nx">length</span>
<span class="w">      </span><span class="o">?</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">CHAIN_BONUS_TABLE</span><span class="p">[</span><span class="nx">chainCount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">]</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="mf">256</span><span class="w"> </span><span class="c1">// 8連鎖以降は固定</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="_7">アルゴリズム設計<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="dfs">ぷよ消去アルゴリズム（DFS）<a class="headerlink" href="#dfs" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjUwMXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzE0cHg7aGVpZ2h0OjUwMXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMxNCA1MDEiIHdpZHRoPSIzMTRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxlbGxpcHNlIGN4PSIxNTMuNDE4NSIgY3k9IjE1IiBmaWxsPSIjRkZGRkZGIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTQwLjAwMDkiIHg9IjgzLjQxOCIgeT0iNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjAuMDAwOSIgeD0iOTMuNDE4IiB5PSI2Ni4xMzg3Ij4mIzEyNTAxOyYjMTI0NTE7JiMxMjU0MDsmIzEyNTIzOyYjMTI0ODk7JiMxMjQzNDsmIzEyNDczOyYjMTI0NjE7JiMxMjUxNTsmIzEyNTMxOzwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE0MC4wMDA5IiB4PSI4My40MTgiIHk9Ijk4Ljk2ODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjAuMDAwOSIgeD0iOTMuNDE4IiB5PSIxMjAuMTA3NCI+JiMyMTUwODsmIzEyNDA3OyYjMTI0MjQ7JiMxMjQzNDsmIzM4MjgzOyYjMjI5ODc7JiMyODg1NzsmIzEyMzkyOyYjMTIzNzU7JiMxMjM5MDs8L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMDMuNzYwMiIgeD0iMTAxLjUzODQiIHk9IjE1Mi45Mzc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuNzYwMiIgeD0iMTExLjUzODQiIHk9IjE3NC4wNzYyIj5ERlMmIzI1NTA2OyYjMzIwMzQ7JiMxMjQzNDsmIzIzNDU1OyYjMzQ4OTI7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iOTIuMDAwNCwyMDYuOTA2MywyMTQuODM2NiwyMDYuOTA2MywyMjYuODM2NiwyMTguOTA2MywyMTQuODM2NiwyMzAuOTA2Myw5Mi4wMDA0LDIzMC45MDYzLDgwLjAwMDQsMjE4LjkwNjMsOTIuMDAwNCwyMDYuOTA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMi44MzYyIiB4PSI5Mi4wMDA0IiB5PSIyMjIuNzE0NCI+JiMyMTUxNjsmIzMzMzk0OyYjMTIzOTg7JiMzODU2MzsmIzI1NTA5OyYjMTI0MDc7JiMxMjQyNDs0JiMyMDQ5MTsmIzIwMTk3OyYjMTk5Nzg7PzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOS4wMDgzIiB4PSI2MC45OTIxIiB5PSIyMTYuMzEyIj55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iMjI2LjgzNjYiIHk9IjIxNi4zMTIiPm5vPC90ZXh0PjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTI4LjAwMDgiIHg9IjYiIHk9IjI0MC45MDYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA4LjAwMDgiIHg9IjE2IiB5PSIyNjIuMDQ0OSI+JiMyODA0MDsmIzIxNDM1OyYjMjM1NTA7JiMzNTkzNzsmIzEyMzkyOyYjMTIzNzU7JiMxMjM5MDsmIzM1MzUyOyYjMzc2ODI7PC90ZXh0PjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNjguMDAwNCIgeD0iMjAyLjgzNjQiIHk9IjI0MC45MDYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iMjEyLjgzNjQiIHk9IjI2Mi4wNDQ5Ij4mIzEyNDczOyYjMTI0NjE7JiMxMjQ4MzsmIzEyNTAzOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjE1My40MTg1LDI4MC44NzUsMTY1LjQxODUsMjkyLjg3NSwxNTMuNDE4NSwzMDQuODc1LDE0MS40MTg1LDI5Mi44NzUsMTUzLjQxODUsMjgwLjg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iODQuNDk5OCwzMjQuODc1LDIyMi4zMzcyLDMyNC44NzUsMjM0LjMzNzIsMzM2Ljg3NSwyMjIuMzM3MiwzNDguODc1LDg0LjQ5OTgsMzQ4Ljg3NSw3Mi40OTk4LDMzNi44NzUsODQuNDk5OCwzMjQuODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3LjgzNzUiIHg9Ijg0LjQ5OTgiIHk9IjM0MC42ODMxIj4mIzIwODQwOyYjMTI1MDE7JiMxMjQ1MTsmIzEyNTQwOyYjMTI1MjM7JiMxMjQ4OTsmIzEyNDczOyYjMTI0NjE7JiMxMjUxNTsmIzEyNTMxOyYjMjM0MzY7JiMyMDEwMjs/PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjcwMTciIHg9IjU4Ljc5ODEiIHk9IjMzNC4yODA4Ij5ubzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOS4wMDgzIiB4PSIyMzQuMzM3MiIgeT0iMzM0LjI4MDgiPnllczwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjgwLjAwMDUiIHg9IjIyLjQ5OTUiIHk9IjM1OC44NzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIzMi40OTk1IiB5PSIzODAuMDEzNyI+JiMyNzQyNTsmIzEyMzk4OyYjMTI0MDc7JiMxMjQyNDsmIzEyNDA4OzwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEyOC4wMDA4IiB4PSIxODAuMzM2OCIgeT0iMzU4Ljg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC4wMDA4IiB4PSIxOTAuMzM2OCIgeT0iMzgwLjAxMzciPiYjMjgwNDA7JiMyMTQzNTsmIzIzNTUwOyYjMzU5Mzc7JiMxMjQzNDsmIzE5OTY4OyYjMjUzMjQ7JiMyMTA2NjsmIzM4NTAwOzwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEwNC4wMDA2IiB4PSIxOTIuMzM2OSIgeT0iNDEyLjg0MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4wMDA2IiB4PSIyMDIuMzM2OSIgeT0iNDMzLjk4MjQiPiYjMzczMjU7JiMyMTE0NzsmIzIwOTY2OyYjMjk3MDI7JiMxMjQzNDsmIzIzNDU1OyYjMzQ4OTI7PC90ZXh0PjxlbGxpcHNlIGN4PSIyNDQuMzM3MiIgY3k9IjQ3Ny44MTI1IiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSIyNDQuMzM3MiIgY3k9IjQ3Ny44MTI1IiBmaWxsPSIjRkZGRkZGIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTUzLjQxODUiIHgyPSIxNTMuNDE4NSIgeTE9IjI1IiB5Mj0iNDUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE0OS40MTg1LDM1LDE1My40MTg1LDQ1LDE1Ny40MTg1LDM1LDE1My40MTg1LDM5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1My40MTg1IiB4Mj0iMTUzLjQxODUiIHkxPSI3OC45Njg4IiB5Mj0iOTguOTY4OCIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTQ5LjQxODUsODguOTY4OCwxNTMuNDE4NSw5OC45Njg4LDE1Ny40MTg1LDg4Ljk2ODgsMTUzLjQxODUsOTIuOTY4OCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNTMuNDE4NSIgeDI9IjE1My40MTg1IiB5MT0iMTMyLjkzNzUiIHkyPSIxNTIuOTM3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTQ5LjQxODUsMTQyLjkzNzUsMTUzLjQxODUsMTUyLjkzNzUsMTU3LjQxODUsMTQyLjkzNzUsMTUzLjQxODUsMTQ2LjkzNzUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODAuMDAwNCIgeDI9IjcwLjAwMDQiIHkxPSIyMTguOTA2MyIgeTI9IjIxOC45MDYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjcwLjAwMDQiIHgyPSI3MC4wMDA0IiB5MT0iMjE4LjkwNjMiIHkyPSIyNDAuOTA2MyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iNjYuMDAwNCwyMzAuOTA2Myw3MC4wMDA0LDI0MC45MDYzLDc0LjAwMDQsMjMwLjkwNjMsNzAuMDAwNCwyMzQuOTA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMjYuODM2NiIgeDI9IjIzNi44MzY2IiB5MT0iMjE4LjkwNjMiIHkyPSIyMTguOTA2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzYuODM2NiIgeDI9IjIzNi44MzY2IiB5MT0iMjE4LjkwNjMiIHkyPSIyNDAuOTA2MyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMjMyLjgzNjYsMjMwLjkwNjMsMjM2LjgzNjYsMjQwLjkwNjMsMjQwLjgzNjYsMjMwLjkwNjMsMjM2LjgzNjYsMjM0LjkwNjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNzAuMDAwNCIgeDI9IjcwLjAwMDQiIHkxPSIyNzQuODc1IiB5Mj0iMjkyLjg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI3MC4wMDA0IiB4Mj0iMTQxLjQxODUiIHkxPSIyOTIuODc1IiB5Mj0iMjkyLjg3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTMxLjQxODUsMjg4Ljg3NSwxNDEuNDE4NSwyOTIuODc1LDEzMS40MTg1LDI5Ni44NzUsMTM1LjQxODUsMjkyLjg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzYuODM2NiIgeDI9IjIzNi44MzY2IiB5MT0iMjc0Ljg3NSIgeTI9IjI5Mi44NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjM2LjgzNjYiIHgyPSIxNjUuNDE4NSIgeTE9IjI5Mi44NzUiIHkyPSIyOTIuODc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNzUuNDE4NSwyODguODc1LDE2NS40MTg1LDI5Mi44NzUsMTc1LjQxODUsMjk2Ljg3NSwxNzEuNDE4NSwyOTIuODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE1My40MTg1IiB4Mj0iMTUzLjQxODUiIHkxPSIxODYuOTA2MyIgeTI9IjIwNi45MDYzIi8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNDkuNDE4NSwxOTYuOTA2MywxNTMuNDE4NSwyMDYuOTA2MywxNTcuNDE4NSwxOTYuOTA2MywxNTMuNDE4NSwyMDAuOTA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDQuMzM3MiIgeDI9IjI0NC4zMzcyIiB5MT0iMzkyLjg0MzgiIHkyPSI0MTIuODQzOCIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMjQwLjMzNzIsNDAyLjg0MzgsMjQ0LjMzNzIsNDEyLjg0MzgsMjQ4LjMzNzIsNDAyLjg0MzgsMjQ0LjMzNzIsNDA2Ljg0MzgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ0LjMzNzIiIHgyPSIyNDQuMzM3MiIgeTE9IjQ0Ni44MTI1IiB5Mj0iNDY2LjgxMjUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjI0MC4zMzcyLDQ1Ni44MTI1LDI0NC4zMzcyLDQ2Ni44MTI1LDI0OC4zMzcyLDQ1Ni44MTI1LDI0NC4zMzcyLDQ2MC44MTI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjcyLjQ5OTgiIHgyPSI2Mi40OTk4IiB5MT0iMzM2Ljg3NSIgeTI9IjMzNi44NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjIuNDk5OCIgeDI9IjYyLjQ5OTgiIHkxPSIzMzYuODc1IiB5Mj0iMzU4Ljg3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iNTguNDk5OCwzNDguODc1LDYyLjQ5OTgsMzU4Ljg3NSw2Ni40OTk4LDM0OC44NzUsNjIuNDk5OCwzNTIuODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNC4zMzcyIiB4Mj0iMjQ0LjMzNzIiIHkxPSIzMzYuODc1IiB5Mj0iMzM2Ljg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDQuMzM3MiIgeDI9IjI0NC4zMzcyIiB5MT0iMzM2Ljg3NSIgeTI9IjM1OC44NzUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjI0MC4zMzcyLDM0OC44NzUsMjQ0LjMzNzIsMzU4Ljg3NSwyNDguMzM3MiwzNDguODc1LDI0NC4zMzcyLDM1Mi44NzUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjIuNDk5OCIgeDI9IjYyLjQ5OTgiIHkxPSIzOTIuODQzOCIgeTI9IjQ5NC44MTI1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjYyLjQ5OTgiIHgyPSIxNTMuNDE4NSIgeTE9IjQ5NC44MTI1IiB5Mj0iNDk0LjgxMjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTUzLjQxODUiIHgyPSIxNTMuNDE4NSIgeTE9IjMwNC44NzUiIHkyPSIzMjQuODc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNDkuNDE4NSwzMTQuODc1LDE1My40MTg1LDMyNC44NzUsMTU3LjQxODUsMzE0Ljg3NSwxNTMuNDE4NSwzMTguODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PCEtLVNSQz1bUk9fQkppOUc1NE5kem9sZ2hDbVRqR0NkblhfbTJxV2lpR2FNT1pqbm5ock5XSnZpNlhCNW55MDBXYXQ0NGY1VzVVRkZkOXUtX2k4UlVNWVlxdERzemJ2aG9waEtaWklmTll0aDFZNmNMSndzWTBCeTBqVzAtMFZtSC0wc2kwd21EczFGbUNObkhJS0ExZ1QwTnU2cm5Ra3VURjcxcEtJMFhhMnhHNFNZaUJrdGRfaHpSRE9OME9wa3lmd2Q0ZzlOOTFhM0J4VWRHQUZZUGYzd21zTkJEWlJTUDM1Q09jVWQ5MGFXR3Y5RkRCRDRiN0pVSGQtMWF5X3lrUlVmcHlFaG1ma2dIQWtRY1lHUkRQNVJ1dDdXTlY0bTNsSkFRa3VpXzJGcE91QUhieG10RHZsVkxVYk9CNEtoRW5nbFBfeFhPUHFhUmdKazY2c2RrQnVOcWFOaDc5clJSOHNvZUZkQnN4SGd6SU5KNW0wMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p><strong>実装の特徴</strong>:
- <strong>DFS（深度優先探索）</strong>: 効率的な隣接ぷよの検出
- <strong>visited配列</strong>: 重複探索の防止
- <strong>一括処理</strong>: 消去とスコア計算を同時実行</p>
<div class="highlight"><pre><span></span><code><span class="nx">findConnectedPuyos</span><span class="p">(</span><span class="nx">startX</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">startY</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">targetColor</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">visited</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">[][]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">null</span><span class="p">).</span><span class="nx">map</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">false</span><span class="p">))</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">connected</span><span class="o">:</span><span class="w"> </span><span class="kt">Array</span><span class="o">&lt;</span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="p">}</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">dfs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 境界チェックと訪問済みチェック</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="w"> </span><span class="k">return</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">visited</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">targetColor</span><span class="p">)</span><span class="w"> </span><span class="k">return</span>

<span class="w">    </span><span class="c1">// 現在位置をマーク</span>
<span class="w">    </span><span class="nx">visited</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="nx">connected</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="w"> </span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="p">})</span>

<span class="w">    </span><span class="c1">// 4方向に再帰探索</span>
<span class="w">    </span><span class="nx">dfs</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="c1">// 右</span>
<span class="w">    </span><span class="nx">dfs</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="c1">// 左</span>
<span class="w">    </span><span class="nx">dfs</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// 下</span>
<span class="w">    </span><span class="nx">dfs</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// 上</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">dfs</span><span class="p">(</span><span class="nx">startX</span><span class="p">,</span><span class="w"> </span><span class="nx">startY</span><span class="p">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">connected</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_8">重力処理アルゴリズム<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjQ5NHB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjUzcHg7aGVpZ2h0OjQ5NHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI1MyA0OTQiIHdpZHRoPSIyNTNweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxlbGxpcHNlIGN4PSIxMjEuNDE5MiIgY3k9IjE1IiBmaWxsPSIjRkZGRkZGIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNzUuNDE5IiB5PSI0NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcyLjAwMDUiIHg9Ijg1LjQxOSIgeT0iNjYuMTM4NyI+JiMyMTUwODsmIzIxMDE1OyYjMTIzOTU7JiMxMjM4ODsmIzEyMzU2OyYjMTIzOTA7PC90ZXh0PjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTI4LjAwMDgiIHg9IjU3LjQxODgiIHk9Ijk4Ljk2ODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDguMDAwOCIgeD0iNjcuNDE4OCIgeT0iMTIwLjEwNzQiPiYjMjQyMTM7JiMxMjM2MzsmIzEyNDI1OyYjMTk5Nzg7JiMxMjM5NTsmIzEyNDczOyYjMTI0NjE7JiMxMjUxNTsmIzEyNTMxOzwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEyOC4wMDA4IiB4PSI1Ny40MTg4IiB5PSIxOTYuOTM3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwOC4wMDA4IiB4PSI2Ny40MTg4IiB5PSIyMTguMDc2MiI+JiMzMTM1NDsmIzEyMzY1OyYjMTI0NzM7JiMxMjUwNjsmIzEyNTQwOyYjMTI0NzM7JiMxMjQzNDsmIzI2OTA4OyYjMjA5ODY7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iODAuMDAwMywyNTAuOTA2MywxNjIuODM4MiwyNTAuOTA2MywxNzQuODM4MiwyNjIuOTA2MywxNjIuODM4MiwyNzQuOTA2Myw4MC4wMDAzLDI3NC45MDYzLDY4LjAwMDMsMjYyLjkwNjMsODAuMDAwMywyNTAuOTA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyLjgzNzgiIHg9IjgwLjAwMDMiIHk9IjI2Ni43MTQ0Ij4mIzE5OTc4OyYjMTIzOTU7JiMxMjQwNzsmIzEyNDI0OyYjMTIzNjQ7JiMxMjM1NDsmIzEyNDI3Oz88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkuMDA4MyIgeD0iNDguOTkyIiB5PSIyNjAuMzEyIj55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iMTc0LjgzODIiIHk9IjI2MC4zMTIiPm5vPC90ZXh0PjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTA0LjAwMDYiIHg9IjYiIHk9IjI4NC45MDYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQuMDAwNiIgeD0iMTYiIHk9IjMwNi4wNDQ5Ij4mIzEyNDA3OyYjMTI0MjQ7JiMxMjQzNDsmIzE5OTc5OyYjMTIzOTU7JiMzMTIyNzsmIzIxMjA1OzwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjY4LjAwMDQiIHg9IjE1MC44MzgiIHk9IjI4NC45MDYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iMTYwLjgzOCIgeT0iMzA2LjA0NDkiPiYjMjc0MjU7JiMxMjM5ODsmIzIxMDE1OyYjMTI0MDg7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iMTIxLjQxOTIsMzI0Ljg3NSwxMzMuNDE5MiwzMzYuODc1LDEyMS40MTkyLDM0OC44NzUsMTA5LjQxOTIsMzM2Ljg3NSwxMjEuNDE5MiwzMjQuODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxMjEuNDE5MiwxNTIuOTM3NSwxMzMuNDE5MiwxNjQuOTM3NSwxMjEuNDE5MiwxNzYuOTM3NSwxMDkuNDE5MiwxNjQuOTM3NSwxMjEuNDE5MiwxNTIuOTM3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNjkuMDAwNCwzNjguODc1LDE3My44MzgxLDM2OC44NzUsMTg1LjgzODEsMzgwLjg3NSwxNzMuODM4MSwzOTIuODc1LDY5LjAwMDQsMzkyLjg3NSw1Ny4wMDA0LDM4MC44NzUsNjkuMDAwNCwzNjguODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjgzNzciIHg9IjY5LjAwMDQiIHk9IjM4NC42ODMxIj4mIzMxMjI3OyYjMjEyMDU7JiMxMjM3NTsmIzEyMzgzOyYjMTI0MDc7JiMxMjQyNDsmIzEyMzY0OyYjMTIzNTQ7JiMxMjQyNzs/PC90ZXh0PjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iOTIuMDAwNSIgeD0iNzUuNDE5IiB5PSI0MTIuODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzIuMDAwNSIgeD0iODUuNDE5IiB5PSI0MzQuMDEzNyI+JiMyMDg0MDsmIzIxMDE1OyYjMjA5NjY7JiMyOTcwMjsmIzIzNDM2OyYjMjAxMDI7PC90ZXh0PjxlbGxpcHNlIGN4PSIxMjEuNDE5MiIgY3k9IjQ3Ny44NDM4IiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSIxMjEuNDE5MiIgY3k9IjQ3Ny44NDM4IiBmaWxsPSIjRkZGRkZGIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTIxLjQxOTIiIHgyPSIxMjEuNDE5MiIgeTE9IjI1IiB5Mj0iNDUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjExNy40MTkyLDM1LDEyMS40MTkyLDQ1LDEyNS40MTkyLDM1LDEyMS40MTkyLDM5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMS40MTkyIiB4Mj0iMTIxLjQxOTIiIHkxPSI3OC45Njg4IiB5Mj0iOTguOTY4OCIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTE3LjQxOTIsODguOTY4OCwxMjEuNDE5Miw5OC45Njg4LDEyNS40MTkyLDg4Ljk2ODgsMTIxLjQxOTIsOTIuOTY4OCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI2OC4wMDAzIiB4Mj0iNTguMDAwMyIgeTE9IjI2Mi45MDYzIiB5Mj0iMjYyLjkwNjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNTguMDAwMyIgeDI9IjU4LjAwMDMiIHkxPSIyNjIuOTA2MyIgeTI9IjI4NC45MDYzIi8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI1NC4wMDAzLDI3NC45MDYzLDU4LjAwMDMsMjg0LjkwNjMsNjIuMDAwMywyNzQuOTA2Myw1OC4wMDAzLDI3OC45MDYzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE3NC44MzgyIiB4Mj0iMTg0LjgzODIiIHkxPSIyNjIuOTA2MyIgeTI9IjI2Mi45MDYzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE4NC44MzgyIiB4Mj0iMTg0LjgzODIiIHkxPSIyNjIuOTA2MyIgeTI9IjI4NC45MDYzIi8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxODAuODM4MiwyNzQuOTA2MywxODQuODM4MiwyODQuOTA2MywxODguODM4MiwyNzQuOTA2MywxODQuODM4MiwyNzguOTA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI1OC4wMDAzIiB4Mj0iNTguMDAwMyIgeTE9IjMxOC44NzUiIHkyPSIzMzYuODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjU4LjAwMDMiIHgyPSIxMDkuNDE5MiIgeTE9IjMzNi44NzUiIHkyPSIzMzYuODc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI5OS40MTkyLDMzMi44NzUsMTA5LjQxOTIsMzM2Ljg3NSw5OS40MTkyLDM0MC44NzUsMTAzLjQxOTIsMzM2Ljg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxODQuODM4MiIgeDI9IjE4NC44MzgyIiB5MT0iMzE4Ljg3NSIgeTI9IjMzNi44NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTg0LjgzODIiIHgyPSIxMzMuNDE5MiIgeTE9IjMzNi44NzUiIHkyPSIzMzYuODc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNDMuNDE5MiwzMzIuODc1LDEzMy40MTkyLDMzNi44NzUsMTQzLjQxOTIsMzQwLjg3NSwxMzkuNDE5MiwzMzYuODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMS40MTkyIiB4Mj0iMTIxLjQxOTIiIHkxPSIyMzAuOTA2MyIgeTI9IjI1MC45MDYzIi8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxMTcuNDE5MiwyNDAuOTA2MywxMjEuNDE5MiwyNTAuOTA2MywxMjUuNDE5MiwyNDAuOTA2MywxMjEuNDE5MiwyNDQuOTA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjEuNDE5MiIgeDI9IjEyMS40MTkyIiB5MT0iMTc2LjkzNzUiIHkyPSIxOTYuOTM3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTE3LjQxOTIsMTg2LjkzNzUsMTIxLjQxOTIsMTk2LjkzNzUsMTI1LjQxOTIsMTg2LjkzNzUsMTIxLjQxOTIsMTkwLjkzNzUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTg1LjgzODEiIHgyPSIyMzIuODM4MyIgeTE9IjM4MC44NzUiIHkyPSIzODAuODc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIyMjguODM4MywyNzUuNDA2MywyMzIuODM4MywyNjUuNDA2MywyMzYuODM4MywyNzUuNDA2MywyMzIuODM4MywyNzEuNDA2MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzIuODM4MyIgeDI9IjIzMi44MzgzIiB5MT0iMTY0LjkzNzUiIHkyPSIzODAuODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzMi44MzgzIiB4Mj0iMTMzLjQxOTIiIHkxPSIxNjQuOTM3NSIgeTI9IjE2NC45Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNDMuNDE5MiwxNjAuOTM3NSwxMzMuNDE5MiwxNjQuOTM3NSwxNDMuNDE5MiwxNjguOTM3NSwxMzkuNDE5MiwxNjQuOTM3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjEuNDE5MiIgeDI9IjEyMS40MTkyIiB5MT0iMzQ4Ljg3NSIgeTI9IjM2OC44NzUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjExNy40MTkyLDM1OC44NzUsMTIxLjQxOTIsMzY4Ljg3NSwxMjUuNDE5MiwzNTguODc1LDEyMS40MTkyLDM2Mi44NzUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTIxLjQxOTIiIHgyPSIxMjEuNDE5MiIgeTE9IjEzMi45Mzc1IiB5Mj0iMTUyLjkzNzUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjExNy40MTkyLDE0Mi45Mzc1LDEyMS40MTkyLDE1Mi45Mzc1LDEyNS40MTkyLDE0Mi45Mzc1LDEyMS40MTkyLDE0Ni45Mzc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjEyMS40MTkyIiB4Mj0iMTIxLjQxOTIiIHkxPSIzOTIuODc1IiB5Mj0iNDEyLjg3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTE3LjQxOTIsNDAyLjg3NSwxMjEuNDE5Miw0MTIuODc1LDEyNS40MTkyLDQwMi44NzUsMTIxLjQxOTIsNDA2Ljg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMjEuNDE5MiIgeDI9IjEyMS40MTkyIiB5MT0iNDQ2Ljg0MzgiIHkyPSI0NjYuODQzOCIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTE3LjQxOTIsNDU2Ljg0MzgsMTIxLjQxOTIsNDY2Ljg0MzgsMTI1LjQxOTIsNDU2Ljg0MzgsMTIxLjQxOTIsNDYwLjg0MzgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48IS0tU1JDPVtQT18xUWk5RzQ0TnR5bk1sa19XQmxlTlY0a1dKMHNhQzliMndkMVVocmJXR0dHZ2I4NUFuQk10VFRENHF4VF9TRkZDUlpmZlRqdEZGT1V3ekk3bGNvZ1d1ejhFOEE0ZHpHS2ZqRG4td29HRnU3Um0xM3k1UkJTVG8yU3ZYeHdmWVVlcGkzLW1kaWNUYU52ZmVPNkJaWXJnX2JVM3hPdld6OGxpeEtPbHp2aWNESXFyMUx0Y0RwVC1tNF8wQ1I2N3BKYWo5WnFYdkRvUGZLUmo5eFE4Z1NlN2hici1OQnBNUEMzN0FZX2YyeDNfTXVEc2ZQMjUxVDFicWNtaGdrWFU0V2ZxYmkxMmhWeno4dmpvLVlreDZzdGUtU2hqUExPd3FwRV83MW0wMF0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>
<p><strong>実装の特徴</strong>:
- <strong>底から上へ</strong>: 効率的な空きスペース充填
- <strong>繰り返し処理</strong>: すべてのぷよが適切な位置に配置されるまで実行</p>
<div class="highlight"><pre><span></span><code><span class="nx">applyGravity</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span><span class="w"> </span><span class="nx">x</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 底から上に向かってスキャン</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">y</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 空きスペース発見、上のぷよを探す</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">upperY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="nx">upperY</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">upperY</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">[</span><span class="nx">upperY</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ぷよを下に移動</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">[</span><span class="nx">upperY</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">field</span><span class="p">[</span><span class="nx">upperY</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="w">            </span><span class="k">break</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="_9">壁キックアルゴリズム<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkFDVElWSVRZIiBoZWlnaHQ9IjU4MnB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MzU2cHg7aGVpZ2h0OjU4MnB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM1NiA1ODIiIHdpZHRoPSIzNTZweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxlbGxpcHNlIGN4PSIxNjUuMDAxIiBjeT0iMTUiIGZpbGw9IiNGRkZGRkYiIHJ4PSIxMCIgcnk9IjEwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI4MC4wMDA1IiB4PSIxMjUuMDAwOCIgeT0iNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MC4wMDA1IiB4PSIxMzUuMDAwOCIgeT0iNjYuMTM4NyI+JiMyMjIzODsmIzM2NTc4OyYjMTI0MzQ7JiMzNTQzMDsmIzM0ODkyOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjExMi41ODIxLDk4Ljk2ODgsMjE3LjQxOTgsOTguOTY4OCwyMjkuNDE5OCwxMTAuOTY4OCwyMTcuNDE5OCwxMjIuOTY4OCwxMTIuNTgyMSwxMjIuOTY4OCwxMDAuNTgyMSwxMTAuOTY4OCwxMTIuNTgyMSw5OC45Njg4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA0LjgzNzciIHg9IjExMi41ODIxIiB5PSIxMTQuNzc2OSI+JiMyOTY5NDsmIzIyMzEyOyYjMjAzMDE7JiMzMjYyMjsmIzEyMzkxOyYjMjIyMzg7JiMzNjU3ODsmIzIxNDg3OyYjMzMwMjE7PzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOS4wMDgzIiB4PSI4MS41NzM4IiB5PSIxMDguMzc0NSI+eWVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzLjcwMTciIHg9IjIyOS40MTk4IiB5PSIxMDguMzc0NSI+bm88L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2OC4wMDA0IiB4PSI1Ni41ODIiIHk9IjEzMi45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iNjYuNTgyIiB5PSIxNTQuMTA3NCI+JiMyMjIzODsmIzM2NTc4OyYjMjM0NTU7JiMzNDg5Mjs8L3RleHQ+PGVsbGlwc2UgY3g9IjkwLjU4MjEiIGN5PSIxOTcuOTM3NSIgZmlsbD0ibm9uZSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48ZWxsaXBzZSBjeD0iOTAuNTgyMSIgY3k9IjE5Ny45Mzc1IiBmaWxsPSIjRkZGRkZGIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE2NC4wMDExIiB4PSIxNTcuNDE5MyIgeT0iMTMyLjk2ODgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQuMDAxMSIgeD0iMTY3LjQxOTMiIHk9IjE1NC4xMDc0Ij4mIzIyNzIxOyYjMTI0NjE7JiMxMjQ4MzsmIzEyNDYzOyYjMTI0NTg7JiMxMjUwMTsmIzEyNDc1OyYjMTI0ODM7JiMxMjQ4ODsmIzEyNDM0OyYjMzU0MzA7JiMzNDg5Mjs8L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxNzAuMzcwMiIgeD0iNzkuODE1OSIgeT0iMjcyLjkzNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTAuMzcwMiIgeD0iODkuODE1OSIgeT0iMjk0LjA3NjIiPiYjMTI0NTg7JiMxMjUwMTsmIzEyNDc1OyYjMTI0ODM7JiMxMjQ4ODsmIzIwMzAxOyYjMzI2MjI7JiMxMjM5MTsmIzIyMjM4OyYjMzY1Nzg7JiMyMTQ4NzsmIzMzMDIxOz88L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxNTMuMDAxLDMyNi45MDYzLDE3Ny4wMDEsMzI2LjkwNjMsMTg5LjAwMSwzMzguOTA2MywxNzcuMDAxLDM1MC45MDYzLDE1My4wMDEsMzUwLjkwNjMsMTQxLjAwMSwzMzguOTA2MywxNTMuMDAxLDMyNi45MDYzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEuOTk5OCIgeD0iMTU0LjAwMTEiIHk9IjM0Mi43MTQ0Ij4mIzIxNDg3OyYjMzMwMjE7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5LjAwODMiIHg9IjEyMS45OTI3IiB5PSIzMzYuMzEyIj55ZXM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMuNzAxNyIgeD0iMTg5LjAwMSIgeT0iMzM2LjMxMiI+bm88L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxNTIuMDAxIiB4PSI2IiB5PSIzNjAuOTA2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMi4wMDEiIHg9IjE2IiB5PSIzODIuMDQ0OSI+JiMyMDMwMTsmIzMyNjIyOyYjMTI0MzQ7JiMzNTUxOTsmIzI1OTcyOyYjMTIzNzU7JiMxMjM5MDsmIzIyMjM4OyYjMzY1Nzg7JiMyMzQ1NTsmIzM0ODkyOzwvdGV4dD48ZWxsaXBzZSBjeD0iODIuMDAwNSIgY3k9IjQyNS44NzUiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjgyLjAwMDUiIGN5PSI0MjUuODc1IiBmaWxsPSIjRkZGRkZGIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE0MC4wMDA5IiB4PSIxNzguMDAxIiB5PSIzNjAuOTA2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMC4wMDA5IiB4PSIxODguMDAxIiB5PSIzODIuMDQ0OSI+JiMyNzQyNTsmIzEyMzk4OyYjMTI0NTg7JiMxMjUwMTsmIzEyNDc1OyYjMTI0ODM7JiMxMjQ4ODsmIzEyNDM0OyYjMzU0MzA7JiMzNDg5Mjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxNjUuMDAxLDIyOC45Mzc1LDE3Ny4wMDEsMjQwLjkzNzUsMTY1LjAwMSwyNTIuOTM3NSwxNTMuMDAxLDI0MC45Mzc1LDE2NS4wMDEsMjI4LjkzNzUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjEwNy4wODIyLDQ1Ni44NzUsMjIyLjkxOTgsNDU2Ljg3NSwyMzQuOTE5OCw0NjguODc1LDIyMi45MTk4LDQ4MC44NzUsMTA3LjA4MjIsNDgwLjg3NSw5NS4wODIyLDQ2OC44NzUsMTA3LjA4MjIsNDU2Ljg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNS44Mzc2IiB4PSIxMDcuMDgyMiIgeT0iNDcyLjY4MzEiPiYjMjA4NDA7JiMxMjQ1ODsmIzEyNTAxOyYjMTI0NzU7JiMxMjQ4MzsmIzEyNDg4OyYjMzU0MzA7JiMzNDg5MjsmIzI4MTY4OyYjMTI0MTU7PzwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjY4LjAwMDQiIHg9IjEzMS4wMDA4IiB5PSI1MDAuODc1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDguMDAwNCIgeD0iMTQxLjAwMDgiIHk9IjUyMi4wMTM3Ij4mIzIyMjM4OyYjMzY1Nzg7JiMyMjgzMzsmIzI1OTQzOzwvdGV4dD48ZWxsaXBzZSBjeD0iMTY1LjAwMSIgY3k9IjU2NS44NDM4IiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSIxNjUuMDAxIiBjeT0iNTY1Ljg0MzgiIGZpbGw9IiNGRkZGRkYiIHJ4PSI2IiByeT0iNiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjUuMDAxIiB4Mj0iMTY1LjAwMSIgeTE9IjI1IiB5Mj0iNDUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE2MS4wMDEsMzUsMTY1LjAwMSw0NSwxNjkuMDAxLDM1LDE2NS4wMDEsMzkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTAuNTgyMSIgeDI9IjkwLjU4MjEiIHkxPSIxNjYuOTM3NSIgeTI9IjE4Ni45Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI4Ni41ODIxLDE3Ni45Mzc1LDkwLjU4MjEsMTg2LjkzNzUsOTQuNTgyMSwxNzYuOTM3NSw5MC41ODIxLDE4MC45Mzc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjEwMC41ODIxIiB4Mj0iOTAuNTgyMSIgeTE9IjExMC45Njg4IiB5Mj0iMTEwLjk2ODgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iOTAuNTgyMSIgeDI9IjkwLjU4MjEiIHkxPSIxMTAuOTY4OCIgeTI9IjEzMi45Njg4Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSI4Ni41ODIxLDEyMi45Njg4LDkwLjU4MjEsMTMyLjk2ODgsOTQuNTgyMSwxMjIuOTY4OCw5MC41ODIxLDEyNi45Njg4IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjIyOS40MTk4IiB4Mj0iMjM5LjQxOTgiIHkxPSIxMTAuOTY4OCIgeTI9IjExMC45Njg4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzOS40MTk4IiB4Mj0iMjM5LjQxOTgiIHkxPSIxMTAuOTY4OCIgeTI9IjEzMi45Njg4Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIyMzUuNDE5OCwxMjIuOTY4OCwyMzkuNDE5OCwxMzIuOTY4OCwyNDMuNDE5OCwxMjIuOTY4OCwyMzkuNDE5OCwxMjYuOTY4OCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzkuNDE5OCIgeDI9IjIzOS40MTk4IiB5MT0iMTY2LjkzNzUiIHkyPSIyMTMuOTM3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyMzkuNDE5OCIgeDI9IjE2NS4wMDEiIHkxPSIyMTMuOTM3NSIgeTI9IjIxMy45Mzc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NS4wMDEiIHgyPSIxNjUuMDAxIiB5MT0iMjEzLjkzNzUiIHkyPSIyMjguOTM3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTYxLjAwMSwyMTguOTM3NSwxNjUuMDAxLDIyOC45Mzc1LDE2OS4wMDEsMjE4LjkzNzUsMTY1LjAwMSwyMjIuOTM3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjUuMDAxIiB4Mj0iMTY1LjAwMSIgeTE9Ijc4Ljk2ODgiIHkyPSI5OC45Njg4Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNjEuMDAxLDg4Ljk2ODgsMTY1LjAwMSw5OC45Njg4LDE2OS4wMDEsODguOTY4OCwxNjUuMDAxLDkyLjk2ODgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iODIuMDAwNSIgeDI9IjgyLjAwMDUiIHkxPSIzOTQuODc1IiB5Mj0iNDE0Ljg3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iNzguMDAwNSw0MDQuODc1LDgyLjAwMDUsNDE0Ljg3NSw4Ni4wMDA1LDQwNC44NzUsODIuMDAwNSw0MDguODc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE0MS4wMDEiIHgyPSI4Mi4wMDA1IiB5MT0iMzM4LjkwNjMiIHkyPSIzMzguOTA2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI4Mi4wMDA1IiB4Mj0iODIuMDAwNSIgeTE9IjMzOC45MDYzIiB5Mj0iMzYwLjkwNjMiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9Ijc4LjAwMDUsMzUwLjkwNjMsODIuMDAwNSwzNjAuOTA2Myw4Ni4wMDA1LDM1MC45MDYzLDgyLjAwMDUsMzU0LjkwNjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTg5LjAwMSIgeDI9IjI0OC4wMDE1IiB5MT0iMzM4LjkwNjMiIHkyPSIzMzguOTA2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIyNDguMDAxNSIgeDI9IjI0OC4wMDE1IiB5MT0iMzM4LjkwNjMiIHkyPSIzNjAuOTA2MyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMjQ0LjAwMTUsMzUwLjkwNjMsMjQ4LjAwMTUsMzYwLjkwNjMsMjUyLjAwMTUsMzUwLjkwNjMsMjQ4LjAwMTUsMzU0LjkwNjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMjQ4LjAwMTUiIHgyPSIyNDguMDAxNSIgeTE9IjM5NC44NzUiIHkyPSI0NDEuODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjI0OC4wMDE1IiB4Mj0iMTY1LjAwMSIgeTE9IjQ0MS44NzUiIHkyPSI0NDEuODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NS4wMDEiIHgyPSIxNjUuMDAxIiB5MT0iNDQxLjg3NSIgeTI9IjQ1Ni44NzUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE2MS4wMDEsNDQ2Ljg3NSwxNjUuMDAxLDQ1Ni44NzUsMTY5LjAwMSw0NDYuODc1LDE2NS4wMDEsNDUwLjg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjUuMDAxIiB4Mj0iMTY1LjAwMSIgeTE9IjMwNi45MDYzIiB5Mj0iMzI2LjkwNjMiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE2MS4wMDEsMzE2LjkwNjMsMTY1LjAwMSwzMjYuOTA2MywxNjkuMDAxLDMxNi45MDYzLDE2NS4wMDEsMzIwLjkwNjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTY1LjAwMSIgeDI9IjE2NS4wMDEiIHkxPSIyNTIuOTM3NSIgeTI9IjI3Mi45Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNjEuMDAxLDI2Mi45Mzc1LDE2NS4wMDEsMjcyLjkzNzUsMTY5LjAwMSwyNjIuOTM3NSwxNjUuMDAxLDI2Ni45Mzc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjIzNC45MTk4IiB4Mj0iMzM1LjQyMDQiIHkxPSI0NjguODc1IiB5Mj0iNDY4Ljg3NSIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMzMxLjQyMDQsMzY3LjkwNjMsMzM1LjQyMDQsMzU3LjkwNjMsMzM5LjQyMDQsMzY3LjkwNjMsMzM1LjQyMDQsMzYzLjkwNjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzM1LjQyMDQiIHgyPSIzMzUuNDIwNCIgeTE9IjI0MC45Mzc1IiB5Mj0iNDY4Ljg3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIzMzUuNDIwNCIgeDI9IjE3Ny4wMDEiIHkxPSIyNDAuOTM3NSIgeTI9IjI0MC45Mzc1Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxODcuMDAxLDIzNi45Mzc1LDE3Ny4wMDEsMjQwLjkzNzUsMTg3LjAwMSwyNDQuOTM3NSwxODMuMDAxLDI0MC45Mzc1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjE2NS4wMDEiIHgyPSIxNjUuMDAxIiB5MT0iNDgwLjg3NSIgeTI9IjUwMC44NzUiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE2MS4wMDEsNDkwLjg3NSwxNjUuMDAxLDUwMC44NzUsMTY5LjAwMSw0OTAuODc1LDE2NS4wMDEsNDk0Ljg3NSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxNjUuMDAxIiB4Mj0iMTY1LjAwMSIgeTE9IjUzNC44NDM4IiB5Mj0iNTU0Ljg0MzgiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE2MS4wMDEsNTQ0Ljg0MzgsMTY1LjAwMSw1NTQuODQzOCwxNjkuMDAxLDU0NC44NDM4LDE2NS4wMDEsNTQ4Ljg0MzgiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48IS0tU1JDPVtLb3A5SUNyRExJWjhJU3BDdS04Z0JhYWlBazZvVVpmeHRlbFRZbnV0Sk5nblNqY0JYSnRNTjVvUFFHZVFwX2x0RlBzcHVpZFV0a1R4cnBya04wdkh6QkhfX09sY2xWUVEyYTFweVhHcUFiRUJETTd3ZHd3UjN6UFNOOTlWbTlNUUt2b2dlOTZOM3Y5VHRGWXVRVXRadmtSN0pVaVZEd3J3dDNwclNURGs0QlV2MHlkQXJCb0twM0draGdCS1dqSDRlOUZHNTY5dFhKTk9kSDBFZ2VrV3dlNzZoemhfUkVnTW51dEo3cFNrbS1fQ1BzaU1GY3ZTSHlZMTRGU2ZiNlRhdlcwckZjclRXUU8xZWxoUFpleDdaVmxqRFJkV09SRGF1eEVmcW82TTBXMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<p><strong>壁キックオフセットパターン</strong>:
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="nx">tryWallKickPuyoPair</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wallKickOffsets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// 左に1マス</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="p">},</span><span class="w">  </span><span class="c1">// 右に1マス  </span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// 上に1マス</span>
<span class="w">  </span><span class="p">]</span>

<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">offset</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">wallKickOffsets</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">testX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">currentPuyoPair</span><span class="p">.</span><span class="nx">axis</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">offset</span><span class="p">.</span><span class="nx">x</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">testY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">currentPuyoPair</span><span class="p">.</span><span class="nx">axis</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">offset</span><span class="p">.</span><span class="nx">y</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">canRotateAt</span><span class="p">(</span><span class="nx">testX</span><span class="p">,</span><span class="w"> </span><span class="nx">testY</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">currentPuyoPair</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">testX</span><span class="p">,</span><span class="w"> </span><span class="nx">testY</span><span class="p">)</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="_10">状態管理設計<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<h3 id="_11">ゲーム状態遷移<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IlNUQVRFIiBoZWlnaHQ9Ijk4MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6MjU1cHg7aGVpZ2h0Ojk4MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI1NSA5ODEiIHdpZHRoPSIyNTVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxwYXRoIGQ9Ik0yNC41LDEwOCBMMjI5LjgyMDEsMTA4IEExMi41LDEyLjUgMCAwIDEgMjQyLjMyMDEsMTIwLjUgTDI0Mi4zMjAxLDEzNC4yOTY5IEwxMiwxMzQuMjk2OSBMMTIsMTIwLjUgQTEyLjUsMTIuNSAwIDAgMSAyNC41LDEwOCIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xMiwxMzQuMjk2OSBMMjQyLjMyMDEsMTM0LjI5NjkgTDI0Mi4zMjAxLDczNi43OTY5IEExMi41LDEyLjUgMCAwIDEgMjI5LjgyMDEsNzQ5LjI5NjkgTDI0LjUsNzQ5LjI5NjkgQTEyLjUsMTIuNSAwIDAgMSAxMiw3MzYuNzk2OSBMMTIsMTM0LjI5NjkiIGZpbGw9IiNGRkZGRkYiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjY0MS4yOTY5IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIyMzAuMzIwMSIgeD0iMTIiIHk9IjEwOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMiIgeDI9IjI0Mi4zMjAxIiB5MT0iMTM0LjI5NjkiIHkyPSIxMzQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU5LjgyMTMiIHg9Ijk3LjI0OTQiIHk9IjEyNS45OTUxIj5QTEFZSU5HPC90ZXh0PjxlbGxpcHNlIGN4PSIxNDMuMzIiIGN5PSIxNTUuMjk2OSIgZmlsbD0iI0ZGRkZGRiIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48ZyBpZD0iUExBWUlORy4uLi4iPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjYxLjk5OTgiIHg9IjExMi4zMiIgeT0iMjAyLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTEyLjMyIiB4Mj0iMTc0LjMxOTgiIHkxPSIyMjguNTkzOCIgeTI9IjIyOC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEuOTk5OCIgeD0iMTIyLjMyIiB5PSIyMjAuMjkyIj4mIzMzODUzOyYjMTk5Nzk7JiMyMDAxMzs8L3RleHQ+PC9nPjxnIGlkPSJQTEFZSU5HLi4uIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI1MCIgeD0iODMuMzIiIHk9IjMwNS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjgzLjMyIiB4Mj0iMTMzLjMyIiB5MT0iMzMxLjU5MzgiIHkyPSIzMzEuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3Ljk5OTkiIHg9Ijk0LjMyMDEiIHk9IjMyMy4yOTIiPiYjMzA1Mjg7JiMyMjMyMDs8L3RleHQ+PC9nPjxnIGlkPSJQTEFZSU5HLi4uLi4iPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9Ijc1Ljk5OTgiIHg9IjY3LjMyIiB5PSI0MDguMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI2Ny4zMiIgeDI9IjE0My4zMTk4IiB5MT0iNDM0LjU5MzgiIHkyPSI0MzQuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU1Ljk5OTgiIHg9Ijc3LjMyIiB5PSI0MjYuMjkyIj4mIzI4MDQwOyYjMjE0MzU7JiMyMDk2NjsmIzI5NzAyOzwvdGV4dD48L2c+PGcgaWQ9IlBMQVlJTkcuLi4uLiI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iNzUuOTk5OCIgeD0iNzIuMzIiIHk9IjUxMS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjcyLjMyIiB4Mj0iMTQ4LjMxOTgiIHkxPSI1MzcuNTkzOCIgeTI9IjUzNy41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuOTk5OCIgeD0iODIuMzIiIHk9IjUyOS4yOTIiPiYjMzY4OTk7JiMzNzc4MjsmIzIxMDI4OyYjMjM0NTA7PC90ZXh0PjwvZz48ZyBpZD0iUExBWUlORy4uLi4uLiI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iODkuOTk5NyIgeD0iOTkuMzIiIHk9IjYxNC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9Ijk5LjMyIiB4Mj0iMTg5LjMxOTciIHkxPSI2NDAuNTkzOCIgeTI9IjY0MC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTA5LjMyIiB5PSI2MzIuMjkyIj4mIzI2MDMyOyYjMTI0MDc7JiMxMjQyNDsmIzI5OTgzOyYjMjUxMDQ7PC90ZXh0PjwvZz48ZWxsaXBzZSBjeD0iMTQ0LjMyIiBjeT0iNzI4LjI5NjkiIGZpbGw9Im5vbmUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PGVsbGlwc2UgY3g9IjE0NC4zMiIgY3k9IjcyOC4yOTY5IiBmaWxsPSIjRkZGRkZGIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48IS0tbGluayAqc3RhcnQqUExBWUlORyB0byA/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLnN0YXJ0LlBMQVlJTkciIGRhdGEtZW50aXR5LTI9Ii4uLiIgZGF0YS1zb3VyY2UtbGluZT0iNiIgZGF0YS11aWQ9ImxuazYiIGlkPSJsaW5rXy5zdGFydC5QTEFZSU5HXy4uLiI+PHBhdGggZD0iTTE0My4zMiwxNjUuNzM2OSBDMTQzLjMyLDE3NC45OTY5IDE0My4zMiwxODMuNDg2OSAxNDMuMzIsMTk1Ljk3NjkiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQqUExBWUlORy10by0mIzMzODUzOyYjMTk5Nzk7JiMyMDAxMzsiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE0My4zMiwyMDEuOTc2OSwxNDcuMzIsMTkyLjk3NjksMTQzLjMyLDE5Ni45NzY5LDEzOS4zMiwxOTIuOTc2OSwxNDMuMzIsMjAxLjk3NjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLWxpbmsgPz8/IHRvID8/LS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii4uLiIgZGF0YS1lbnRpdHktMj0iLi4iIGRhdGEtc291cmNlLWxpbmU9IjciIGRhdGEtdWlkPSJsbms4IiBpZD0ibGlua18uLi5fLi4iPjxwYXRoIGQ9Ik0xMjEuMDEsMjUyLjU5NjkgQzExNy4xMiwyNTguMDY2OSAxMTMuNTksMjY0LjA5NjkgMTExLjMyLDI3MC4yOTY5IEMxMDcuMzQsMjgxLjE3NjkgMTA2LjI1MTQsMjg3Ljk0NyAxMDYuMzIxNCwyOTguODI3IiBmaWxsPSJub25lIiBpZD0iJiMzMzg1MzsmIzE5OTc5OyYjMjAwMTM7LXRvLSYjMzA1Mjg7JiMyMjMyMDsiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjEwNi4zNiwzMDQuODI2OSwxMTAuMzAyLDI5NS44MDEzLDEwNi4zMjc4LDI5OS44MjcsMTAyLjMwMjIsMjk1Ljg1MjgsMTA2LjM2LDMwNC44MjY5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTEyLjMyIiB5PSIyODMuMzYzOCI+JiMzMDUyODsmIzIyMzIwOyYjMjY5MDg7JiMyMDk4Njs8L3RleHQ+PC9nPjwhLS1saW5rID8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4iIGRhdGEtZW50aXR5LTI9Ii4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjgiIGRhdGEtdWlkPSJsbmsxMCIgaWQ9ImxpbmtfLi5fLi4uLiI+PHBhdGggZD0iTTEwNy42LDM1NS43NDY5IEMxMDcuMTMsMzcxLjYyNjkgMTA2LjY4OCwzODYuMjM5NSAxMDYuMjE4LDQwMi4wNzk1IiBmaWxsPSJub25lIiBpZD0iJiMzMDUyODsmIzIyMzIwOy10by0mIzI4MDQwOyYjMjE0MzU7JiMyMDk2NjsmIzI5NzAyOyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTA2LjA0LDQwOC4wNzY5LDExMC4zMDUyLDM5OS4xOTk1LDEwNi4xODgzLDQwMy4wNzkxLDEwMi4zMDg3LDM5OC45NjIyLDEwNi4wNCw0MDguMDc2OSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjEwOCIgeT0iMzg2LjM2MzgiPiYjMTI0MDc7JiMxMjQyNDsmIzIyMjY2OyYjMjM0NTA7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iOSIgZGF0YS11aWQ9ImxuazEyIiBpZD0ibGlua18uLi4uXy4uLi4iPjxwYXRoIGQ9Ik02Ny4zLDQ0Ny45NzY5IEM0NC45MSw0NTguMzY2OSAyMyw0NzQuMTA2OSAzNC4zMiw0OTMuMjk2OSBDNDIuNjcsNTA3LjQ0NjkgNTIuMjE0Miw1MTQuNzE0MyA2Ni43MDQyLDUyMS4yMDQzIiBmaWxsPSJub25lIiBpZD0iJiMyODA0MDsmIzIxNDM1OyYjMjA5NjY7JiMyOTcwMjstdG8tJiMzNjg5OTsmIzM3NzgyOyYjMjEwMjg7JiMyMzQ1MDsiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjcyLjE4LDUyMy42NTY5LDY1LjYwMTMsNTE2LjMyNzQsNjcuNjE2OCw1MjEuNjEzLDYyLjMzMTIsNTIzLjYyODUsNzIuMTgsNTIzLjY1NjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIzNS4zMiIgeT0iNDg5LjM2MzgiPiYjMjgwNDA7JiMyMTQzNTsmIzIzNDU1OyYjMzQ4OTI7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/IHRvID8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTAiIGRhdGEtdWlkPSJsbmsxMyIgaWQ9ImxpbmtfLi4uLl8uLi4uIj48cGF0aCBkPSJNMTA5LjEyLDUxMS4wNzY5IEMxMDguMzQsNDk1LjIzNjkgMTA3LjYxODEsNDgwLjYxOTUgMTA2LjgyODEsNDY0LjczOTUiIGZpbGw9Im5vbmUiIGlkPSImIzM2ODk5OyYjMzc3ODI7JiMyMTAyODsmIzIzNDUwOy10by0mIzI4MDQwOyYjMjE0MzU7JiMyMDk2NjsmIzI5NzAyOyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTA2LjUzLDQ1OC43NDY5LDEwMi45ODIxLDQ2Ny45MzQ1LDEwNi43Nzg0LDQ2My43NDA3LDExMC45NzIyLDQ2Ny41MzcsMTA2LjUzLDQ1OC43NDY5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTA5LjEyIiB5PSI0ODkuMzYzOCI+JiMzNjg5OTsmIzM3NzgyOyYjMzAzMzA7JiMyOTk4Mzs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8gdG8gPz8/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLiIgZGF0YS1lbnRpdHktMj0iLi4uLi4iIGRhdGEtc291cmNlLWxpbmU9IjExIiBkYXRhLXVpZD0ibG5rMTUiIGlkPSJsaW5rXy4uLi5fLi4uLi4iPjxwYXRoIGQ9Ik0xMDcuMjgsNTYxLjc0NjkgQzEwNi44LDU3Mi42MTY5IDEwNy40NSw1ODUuMzg2OSAxMTEuMzIsNTk2LjI5NjkgQzExMy41Niw2MDIuNTg2OSAxMTMuNjEyNiw2MDMuODIwNiAxMTcuNjEyNiw2MDkuMzAwNiIgZmlsbD0ibm9uZSIgaWQ9IiYjMzY4OTk7JiMzNzc4MjsmIzIxMDI4OyYjMjM0NTA7LXRvLSYjMjYwMzI7JiMxMjQwNzsmIzEyNDI0OyYjMjk5ODM7JiMyNTEwNDsiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjEyMS4xNSw2MTQuMTQ2OSwxMTkuMDc0Nyw2MDQuNTE5MSwxMTguMjAyMSw2MTAuMTA4MywxMTIuNjEzLDYwOS4yMzU3LDEyMS4xNSw2MTQuMTQ2OSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyLjAwMDEiIHg9IjExMi4zMiIgeT0iNTkyLjM2MzgiPiYjMzY4OTk7JiMzNzc4MjsmIzMyMDY2OyYjMjAxMDI7PC90ZXh0PjwvZz48IS0tbGluayA/Pz8/PyB0byA/Pz8tLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iLi4uLi4iIGRhdGEtZW50aXR5LTI9Ii4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMTIiIGRhdGEtdWlkPSJsbmsxNiIgaWQ9ImxpbmtfLi4uLi5fLi4uIj48cGF0aCBkPSJNMTU3Ljc1LDYxNC4xOTY5IEMxNjcuNjIsNTk0LjIyNjkgMTc5LjMyLDU2NC43NjY5IDE3OS4zMiw1MzcuMjk2OSBDMTc5LjMyLDMyOS4yOTY5IDE3OS4zMiwzMjkuMjk2OSAxNzkuMzIsMzI5LjI5NjkgQzE3OS4zMiwzMDEuOTM2OSAxNzAuMTYzMywyNzguMDQ4MyAxNjAuMDUzMywyNTguMTA4MyIgZmlsbD0ibm9uZSIgaWQ9IiYjMjYwMzI7JiMxMjQwNzsmIzEyNDI0OyYjMjk5ODM7JiMyNTEwNDstdG8tJiMzMzg1MzsmIzE5OTc5OyYjMjAwMTM7IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxNTcuMzQsMjUyLjc1NjksMTU3Ljg0MjMsMjYyLjU5MjksMTU5LjYwMTEsMjU3LjIxNjQsMTY0Ljk3NzYsMjU4Ljk3NTIsMTU3LjM0LDI1Mi43NTY5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTIuMDAwMSIgeD0iMTgwLjMyIiB5PSI0MzcuODYzOCI+JiMyOTk4MzsmIzI1MTA0OyYjMjUxMDQ7JiMyMTE1MTs8L3RleHQ+PC9nPjwhLS1saW5rID8/Pz8/IHRvICplbmQqUExBWUlORy0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSIuLi4uLiIgZGF0YS1lbnRpdHktMj0iLmVuZC5QTEFZSU5HIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgZGF0YS11aWQ9ImxuazE4IiBpZD0ibGlua18uLi4uLl8uZW5kLlBMQVlJTkciPjxwYXRoIGQ9Ik0xNDQuMzIsNjY0LjUyNjkgQzE0NC4zMiw2ODEuODI2OSAxNDQuMzIsNjk4LjIxNjkgMTQ0LjMyLDcxMS4wNDY5IiBmaWxsPSJub25lIiBpZD0iJiMyNjAzMjsmIzEyNDA3OyYjMTI0MjQ7JiMyOTk4MzsmIzI1MTA0Oy10by0qZW5kKlBMQVlJTkciIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE0NC4zMiw3MTcuMDQ2OSwxNDguMzIsNzA4LjA0NjksMTQ0LjMyLDcxMi4wNDY5LDE0MC4zMiw3MDguMDQ2OSwxNDQuMzIsNzE3LjA0NjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1Mi4wMDAxIiB4PSIxNDUuMzIiIHk9IjY5NS4zNjM4Ij4mIzI5OTgzOyYjMjUxMDQ7JiMyMjgzMzsmIzI1OTQzOzwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjEyNy4xNiIgY3k9IjIxIiBmaWxsPSIjRkZGRkZGIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxnIGlkPSJHQU1FX09WRVIiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjEwNy41MjA1IiB4PSI3My40IiB5PSI4MjYuMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI3My40IiB4Mj0iMTgwLjkyMDUiIHkxPSI4NTIuNTk2OSIgeTI9Ijg1Mi41OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODcuNTIwNSIgeD0iODMuNCIgeT0iODQ0LjI5NTEiPkdBTUVfT1ZFUjwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjEyNy4xNiIgY3k9Ijk2NC4zIiBmaWxsPSJub25lIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxlbGxpcHNlIGN4PSIxMjcuMTYiIGN5PSI5NjQuMyIgZmlsbD0iI0ZGRkZGRiIgcng9IjYiIHJ5PSI2IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PCEtLWxpbmsgKnN0YXJ0KiB0byBQTEFZSU5HLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9Ii5zdGFydC4iIGRhdGEtZW50aXR5LTI9IlBMQVlJTkciIGRhdGEtc291cmNlLWxpbmU9IjMiIGRhdGEtdWlkPSJsbmszIiBpZD0ibGlua18uc3RhcnQuX1BMQVlJTkciPjxwYXRoIGQ9Ik0xMjcuMTYsMzEuMjQgQzEyNy4xNiw0NC45MiAxMjcuMTYsNjYuNzUgMTI3LjE2LDEwMS42MSIgZmlsbD0ibm9uZSIgaWQ9IipzdGFydCotdG8tUExBWUlORyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTI3LjE2LDEwNy42MSwxMzEuMTYsOTguNjEsMTI3LjE2LDEwMi42MSwxMjMuMTYsOTguNjEsMTI3LjE2LDEwNy42MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1LjAwMDEiIHg9IjEyOC4xNiIgeT0iNzQuMDY2OSI+JiMxMjQ2NjsmIzEyNTQwOyYjMTI1MTI7JiMzODI4MzsmIzIyOTg3OzwvdGV4dD48L2c+PCEtLWxpbmsgUExBWUlORyB0byBHQU1FX09WRVItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iUExBWUlORyIgZGF0YS1lbnRpdHktMj0iR0FNRV9PVkVSIiBkYXRhLXNvdXJjZS1saW5lPSIxNiIgZGF0YS11aWQ9ImxuazIwIiBpZD0ibGlua19QTEFZSU5HX0dBTUVfT1ZFUiI+PHBhdGggZD0iTTQ5LjAzLDc0OS43MiBDNDcuNTksNzU5LjY3IDQ2LjI5LDc2OS41NCA0NS4xNiw3NzkuMyBDNDQuMjksNzg2LjgxIDQxLjU4LDc4OS42NSA0NS4xNiw3OTYuMyBDNTEuNjMsODA4LjMgNTcuMTE3NCw4MTQuNjc4NCA2OC40MDc0LDgyMi40NDg0IiBmaWxsPSJub25lIiBpZD0iUExBWUlORy10by1HQU1FX09WRVIiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjczLjM1LDgyNS44NSw2OC4yMDM4LDgxNy40NTI2LDY5LjIzMTIsODIzLjAxNTMsNjMuNjY4NCw4MjQuMDQyNyw3My4zNSw4MjUuODUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTcuMDAwMSIgeD0iNDYuMTYiIHk9Ijc5Mi4zNjY5Ij4mIzEyNDY2OyYjMTI1NDA7JiMxMjUxMjsmIzEyNDU4OyYjMTI1NDA7JiMxMjQ5NjsmIzEyNTQwOyYjMjEwMjg7JiMyMzQ1MDs8L3RleHQ+PC9nPjwhLS1saW5rIEdBTUVfT1ZFUiB0byBQTEFZSU5HLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9IkdBTUVfT1ZFUiIgZGF0YS1lbnRpdHktMj0iUExBWUlORyIgZGF0YS1zb3VyY2UtbGluZT0iMTciIGRhdGEtdWlkPSJsbmsyMSIgaWQ9ImxpbmtfR0FNRV9PVkVSX1BMQVlJTkciPjxwYXRoIGQ9Ik0xNTAuOTYsODI1Ljk0IEMxNTcuODksODE3LjI4IDE2NC41NSw4MDcuMDEgMTY4LjE2LDc5Ni4zIEMxNzAuNTcsNzg5LjE0IDE2OC42LDc4Ni44NCAxNjguMTYsNzc5LjMgQzE2Ny41OSw3NjkuNTQgMTY3LjM2NjgsNzY1LjYxNDEgMTY2LjYzNjgsNzU1LjYxNDEiIGZpbGw9Im5vbmUiIGlkPSJHQU1FX09WRVItdG8tUExBWUlORyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMTY2LjIsNzQ5LjYzLDE2Mi44NjU5LDc1OC44OTczLDE2Ni41NjQsNzU0LjYxNjcsMTcwLjg0NDYsNzU4LjMxNDksMTY2LjIsNzQ5LjYzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUuMDAwMSIgeD0iMTcwLjM0IiB5PSI3OTIuMzY2OSI+JiMxMjUyMjsmIzEyNDczOyYjMTI0Nzk7JiMxMjU0MDsmIzEyNDg4OzwvdGV4dD48L2c+PCEtLWxpbmsgR0FNRV9PVkVSIHRvICplbmQqLS0+PGcgY2xhc3M9ImxpbmsiIGRhdGEtZW50aXR5LTE9IkdBTUVfT1ZFUiIgZGF0YS1lbnRpdHktMj0iLmVuZC4iIGRhdGEtc291cmNlLWxpbmU9IjE4IiBkYXRhLXVpZD0ibG5rMjMiIGlkPSJsaW5rX0dBTUVfT1ZFUl8uZW5kLiI+PHBhdGggZD0iTTEyNy4xNiw4NzYuNjYgQzEyNy4xNiw5MDAuNTMgMTI3LjE2LDkyOS43NiAxMjcuMTYsOTQ3LjAxIiBmaWxsPSJub25lIiBpZD0iR0FNRV9PVkVSLXRvLSplbmQqIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgcG9pbnRzPSIxMjcuMTYsOTUzLjAxLDEzMS4xNiw5NDQuMDEsMTI3LjE2LDk0OC4wMSwxMjMuMTYsOTQ0LjAxLDEyNy4xNiw5NTMuMDEiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNiIgeD0iMTI4LjE2IiB5PSI5MTkuMzY2OSI+JiMzMjA2NjsmIzIwMTAyOzwvdGV4dD48L2c+PCEtLVNSQz1bS29wOUlDckRMSVo4SVNwQ3UtQUFyZWZMcURNckttWm1TT3BxejdETmk1OXV0QkpmU1ZFVW55cUJOYXhoVmhneWN1a2hrMkluOTFNa2UxZ2t2U000bEt6c1QzX1BpUE9CcFdBQkZ2X1J5N0pFMWcxOTRDUXA5TkVVamtfWVdlZzI1M3BScmw2cVJfVkp6Y05GOXhJMUI2cFNfaFlmdS1kaU5LX05wVTkyYUdDZlZqY20tNk5WakFTVEl1Mm9HQ0xHLU5OcE5vcGl1S0FIbXM4b0hGeHZwNXRGZnlwN2VkWlExZVpMR0RiZDdIQ0d3aFNzRlRkTG5lS2taVTliYUVfMG1hM3FqNmktTGlNV1M4OGZVeGZhdXhFZnF4YmdrUlhXdUdYSXVVeGV3bmhsNy1PUVgxcGladmpNV0hhSlcySjRqTG04VE1YSHJScGdTVEZFbnF0eG1IZXdxREgxeEdWeDFXMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_12">入力状態管理<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">InputHandler</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">keysPressed</span><span class="o">:</span><span class="w"> </span><span class="kt">Set</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">()</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">keyHandlers</span><span class="o">:</span><span class="w"> </span><span class="kt">Map</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">()</span>

<span class="w">  </span><span class="c1">// キー状態の管理</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">handleKeyDown</span><span class="p">(</span><span class="nx">event</span><span class="o">:</span><span class="w"> </span><span class="kt">KeyboardEvent</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span>

<span class="w">    </span><span class="c1">// リピート制御</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;ArrowLeft&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;ArrowRight&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">repeat</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 新規押下または高速落下の継続</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">keysPressed</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;ArrowDown&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">keysPressed</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">executeKeyHandler</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">keysPressed</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span><span class="w"> </span><span class="c1">// 高速落下の状態管理</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="_13">テスト設計<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<h3 id="_14">テストピラミッド<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkRFU0NSSVBUSU9OIiBoZWlnaHQ9IjI5N3B4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6NDA0cHg7aGVpZ2h0OjI5N3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQwNCAyOTciIHdpZHRoPSI0MDRweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbHVzdGVyID8/Pz8/Pz8/LS0+PGcgY2xhc3M9ImNsdXN0ZXIiIGRhdGEtZW50aXR5PSIuLi4uLi4uLiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJjbHVzdGVyXy4uLi4uLi4uIj48cGF0aCBkPSJNMTMuNSwxMSBMMTI2LjQ5OTUsMTEgQTMuNzUsMy43NSAwIDAgMSAxMjguOTk5NSwxMy41IEwxMzUuOTk5NSwzMy4yOTY5IEwyMTQuNSwzMy4yOTY5IEEyLjUsMi41IDAgMCAxIDIxNywzNS43OTY5IEwyMTcsMjg4LjM5IEEyLjUsMi41IDAgMCAxIDIxNC41LDI5MC44OSBMMTMuNSwyOTAuODkgQTIuNSwyLjUgMCAwIDEgMTEsMjg4LjM5IEwxMSwxMy41IEEyLjUsMi41IDAgMCAxIDEzLjUsMTEiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMTEiIHgyPSIxMzUuOTk5NSIgeTE9IjMzLjI5NjkiIHkyPSIzMy4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS45OTk1IiB4PSIxNSIgeT0iMjUuOTk1MSI+JiMxMjQ4NjsmIzEyNDczOyYjMTI0ODg7JiMxMjUwMDsmIzEyNTIxOyYjMTI1MTE7JiMxMjQ4MzsmIzEyNDg5OzwvdGV4dD48L2c+PCEtLWVudGl0eSBFMkUtLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iRTJFIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9FMkUiPjxyZWN0IGZpbGw9IiNBREQ4RTYiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9Ijg4LjU5ODQiIHg9IjEwOC43IiB5PSI0NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY4LjU5ODQiIHg9IjExOC43IiB5PSI2OC45OTUxIj5FMkUmIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgSW50ZWdyYXRpb24tLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iSW50ZWdyYXRpb24iIGRhdGEtc291cmNlLWxpbmU9IjUiIGRhdGEtdWlkPSJlbnQwMDA0IiBpZD0iZW50aXR5X0ludGVncmF0aW9uIj48cmVjdCBmaWxsPSIjOTBFRTkwIiBoZWlnaHQ9IjM2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI4OS45OTk3IiB4PSIxMDgiIHk9IjE0Mi4zIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkuOTk5NyIgeD0iMTE4IiB5PSIxNjUuMjk1MSI+JiMzMjExMzsmIzIxNTEyOyYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OzwvdGV4dD48L2c+PCEtLWVudGl0eSBVbml0LS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IlVuaXQiIGRhdGEtc291cmNlLWxpbmU9IjYiIGRhdGEtdWlkPSJlbnQwMDA1IiBpZD0iZW50aXR5X1VuaXQiPjxyZWN0IGZpbGw9IiNGRkZGRTAiIGhlaWdodD0iMzYuMjk2OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE3NC4wOTUyIiB4PSIyNi45NSIgeT0iMjM4LjU5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU0LjA5NTIiIHg9IjM2Ljk1IiB5PSIyNjEuNTg1MSI+JiMxMjUxODsmIzEyNDkxOyYjMTI0ODM7JiMxMjQ4ODsmIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODsgKDEyMSYjMjA0OTE7KTwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjEwIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgZGF0YS11aWQ9ImVudDAwMTEiIGlkPSJlbnRpdHlfR01OMTAiPjxwYXRoIGQ9Ik0yMzMuNSw1MS41OCBMMjMzLjUsNjAuMTUgTDE5Ny43OSw2NC4xNSBMMjMzLjUsNjguMTUgTDIzMy41LDc2LjcxMjggQTAsMCAwIDAgMCAyMzMuNSw3Ni43MTI4IEwzODQuNTAwMiw3Ni43MTI4IEEwLDAgMCAwIDAgMzg0LjUwMDIsNzYuNzEyOCBMMzg0LjUwMDIsNjEuNTggTDM3NC41MDAyLDUxLjU4IEwyMzMuNSw1MS41OCBBMCwwIDAgMCAwIDIzMy41LDUxLjU4IiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM3NC41MDAyLDUxLjU4IEwzNzQuNTAwMiw2MS41OCBMMzg0LjUwMDIsNjEuNTggTDM3NC41MDAyLDUxLjU4IiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjIzOS41IiB5PSI2OC42NDY5Ij4mIzEyNTAyOyYjMTI1MjE7JiMxMjQ1NDsmIzEyNDcwOyYjMTIzOTE7JiMxMjM5ODsmIzIxMjA1OyYjMjAzMTY7JiMzMDkwNjsmIzM1NDY5OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjEzIiBkYXRhLXNvdXJjZS1saW5lPSIxMyIgZGF0YS11aWQ9ImVudDAwMTQiIGlkPSJlbnRpdHlfR01OMTMiPjxwYXRoIGQ9Ik0yMzMsMTQ3Ljg4IEwyMzMsMTU2LjQ0IEwxOTguMjUsMTYwLjQ0IEwyMzMsMTY0LjQ0IEwyMzMsMTczLjAxMjggQTAsMCAwIDAgMCAyMzMsMTczLjAxMjggTDM5Ny4wMDAyLDE3My4wMTI4IEEwLDAgMCAwIDAgMzk3LjAwMDIsMTczLjAxMjggTDM5Ny4wMDAyLDE1Ny44OCBMMzg3LjAwMDIsMTQ3Ljg4IEwyMzMsMTQ3Ljg4IEEwLDAgMCAwIDAgMjMzLDE0Ny44OCIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zODcuMDAwMiwxNDcuODggTDM4Ny4wMDAyLDE1Ny44OCBMMzk3LjAwMDIsMTU3Ljg4IEwzODcuMDAwMiwxNDcuODgiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDMuMDAwMiIgeD0iMjM5IiB5PSIxNjQuOTQ2OSI+JiMxMjUyNDsmIzEyNDUyOyYjMTI1MTY7JiMxMjU0MDsmIzM4MjkxOyYjMTIzOTg7JiMzNjg5OTsmIzI1NjU4OyYjMTI0ODY7JiMxMjQ3MzsmIzEyNDg4OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjE2IiBkYXRhLXNvdXJjZS1saW5lPSIxNCIgZGF0YS11aWQ9ImVudDAwMTciIGlkPSJlbnRpdHlfR01OMTYiPjxwYXRoIGQ9Ik0yMzYuNSwyNDQuMTggTDIzNi41LDI1Mi43NCBMMjAxLjQsMjU2Ljc0IEwyMzYuNSwyNjAuNzQgTDIzNi41LDI2OS4zMTI4IEEwLDAgMCAwIDAgMjM2LjUsMjY5LjMxMjggTDM4Ny41MDAyLDI2OS4zMTI4IEEwLDAgMCAwIDAgMzg3LjUwMDIsMjY5LjMxMjggTDM4Ny41MDAyLDI1NC4xOCBMMzc3LjUwMDIsMjQ0LjE4IEwyMzYuNSwyNDQuMTggQTAsMCAwIDAgMCAyMzYuNSwyNDQuMTgiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzc3LjUwMDIsMjQ0LjE4IEwzNzcuNTAwMiwyNTQuMTggTDM4Ny41MDAyLDI1NC4xOCBMMzc3LjUwMDIsMjQ0LjE4IiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjAwMDIiIHg9IjI0Mi41IiB5PSIyNjEuMjQ2OSI+JiMyMTUwODsmIzEyNDYzOyYjMTI1MjE7JiMxMjQ3MzsmIzEyMzk4OyYjMjk0MjA7JiMzMTQzNTsmIzEyNDg2OyYjMTI0NzM7JiMxMjQ4ODs8L3RleHQ+PC9nPjwhLS1yZXZlcnNlIGxpbmsgSW50ZWdyYXRpb24gdG8gVW5pdC0tPjwhLS1yZXZlcnNlIGxpbmsgRTJFIHRvIEludGVncmF0aW9uLS0+PCEtLVNSQz1bTlAzMUlpRDA0OFJsLW5IaGxFWVhYX1JPV3hTVVYwMUZ1YzVqbm9JdVJhQlM4WTkyY242ZjEyNld6WUc4QVhNckExdUtNbEhmblhaeDVjd01LakYyZDhSXy1fX3ZQcWJ4aTBTeWJDOU5aOE1Za0lqU3UweFhBU0tabVh4WDlVNFp1R3FYNGZ1dl84WDVxREgya1RCODZoTjZKRWJtaVNfRFdZekJ0X05xamNuM01QZ19sc0xmUnJ3emhaSXVhVDEtZUFRSzZtNmVDYU91ODRuaS0zX0NMd2dyUWpQOUxndEJYbEJyNTN5NEFPQzNUaW9PTkxPc0ZSX0wwaE5MM1lqaHZKSE1KZnZOY0dRQ2dLMDNabWY3N2twT0tkTEVzMnktNEd5ZV9nM2swdExWaWtKZy0gLWl3bG50X0ZmcWw4Nk5fMFhySVY0emV2ZEZJbHAzZWY3RnRhdXZkWEhQZVV0b1RQLWE5blF5c1Q2SU9GMWRjcHljQy1HQzBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_15">テスト戦略<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<h4 id="121">ユニットテスト（121個）<a class="headerlink" href="#121" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>ドメインロジックの網羅</strong>: 各エンティティ・値オブジェクト・サービスの個別テスト</li>
<li><strong>境界値テスト</strong>: エッジケースと異常系の検証</li>
<li><strong>不変条件テスト</strong>: ビジネスルールの維持確認</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;GameField&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;ぷよの消去処理&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;4つ以上つながった同色ぷよが消去されること&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Arrange</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">gameField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">GameField</span><span class="p">()</span>
<span class="w">      </span><span class="nx">gameField</span><span class="p">.</span><span class="nx">setPuyo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// 赤ぷよを4つ配置</span>
<span class="w">      </span><span class="nx">gameField</span><span class="p">.</span><span class="nx">setPuyo</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="w">      </span><span class="nx">gameField</span><span class="p">.</span><span class="nx">setPuyo</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="w">      </span><span class="nx">gameField</span><span class="p">.</span><span class="nx">setPuyo</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>

<span class="w">      </span><span class="c1">// Act</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">erasedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gameField</span><span class="p">.</span><span class="nx">erasePuyos</span><span class="p">()</span>

<span class="w">      </span><span class="c1">// Assert</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">erasedCount</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">gameField</span><span class="p">.</span><span class="nx">getPuyo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">gameField</span><span class="p">.</span><span class="nx">getPuyo</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">gameField</span><span class="p">.</span><span class="nx">getPuyo</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">      </span><span class="nx">expect</span><span class="p">(</span><span class="nx">gameField</span><span class="p">.</span><span class="nx">getPuyo</span><span class="p">(</span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">})</span>
</code></pre></div>
<h4 id="_16">統合テスト<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>連鎖フローテスト</strong>: 実際のゲームプレイシナリオの検証</li>
<li><strong>レイヤー間連携</strong>: ドメイン層とプレゼンテーション層の統合</li>
</ul>
<h4 id="_17">エンドツーエンドテスト<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>ユーザー操作シミュレーション</strong>: キーボード入力からゲーム状態変更まで</li>
<li><strong>ブラウザ動作確認</strong>: 実際の動作環境での検証</li>
</ul>
<h2 id="_18">パフォーマンス設計<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<h3 id="_19">計算量の最適化<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>アルゴリズム</th>
<th>時間計算量</th>
<th>空間計算量</th>
<th>備考</th>
</tr>
</thead>
<tbody>
<tr>
<td>ぷよ消去検索</td>
<td>O(W×H)</td>
<td>O(W×H)</td>
<td>DFS探索、W=6, H=12</td>
</tr>
<tr>
<td>重力処理</td>
<td>O(W×H)</td>
<td>O(1)</td>
<td>底から上へのスキャン</td>
</tr>
<tr>
<td>連鎖処理</td>
<td>O(C×W×H)</td>
<td>O(W×H)</td>
<td>C=連鎖数</td>
</tr>
<tr>
<td>回転判定</td>
<td>O(1)</td>
<td>O(1)</td>
<td>固定位置チェック</td>
</tr>
</tbody>
</table>
<h3 id="_20">メモリ使用量<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9Ijc5cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo5MTVweDtoZWlnaHQ6NzlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA5MTUgNzkiIHdpZHRoPSI5MTVweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHRiIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfR0YiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNjAuODkwNiIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE1OS4wMzQyIiB4PSIxMiIgeT0iMTIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NS4wMTA3IiB4PSI1NC4wMTE3IiB5PSIyNi45OTUxIj5HYW1lRmllbGQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzIiB4Mj0iMTcwLjAzNDIiIHkxPSIzMi4yOTY5IiB5Mj0iMzIuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0Ny4wMzQyIiB4PSIxOCIgeT0iNDkuMjkyIj5maWVsZFsxMl1bNl0gOiBudW1iZXI8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUuOTIwOSIgeD0iMTgiIHk9IjY1LjU4ODkiPiYjODc3NjsgMjg4IGJ5dGVzPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iRyIgZGF0YS1zb3VyY2UtbGluZT0iOCIgZGF0YS11aWQ9ImVudDAwMDMiIGlkPSJlbnRpdHlfRyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI2MC44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iOTcuOTIwOSIgeD0iMzY1LjU2IiB5PSIxMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxLjY3ODciIHg9IjM5My42ODExIiB5PSIyNi45OTUxIj5HYW1lPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNjYuNTYiIHgyPSI0NjIuNDgwOSIgeTE9IjMyLjI5NjkiIHkyPSIzMi4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODMuOTk5NiIgeD0iMzcxLjU2IiB5PSI0OS4yOTIiPiYjMjE1MDg7JiMzMTI3ODsmIzI5MzY2OyYjMjQ5MDc7JiMyMjc5MzsmIzI1OTY4OzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NS45MjA5IiB4PSIzNzEuNTYiIHk9IjY1LjU4ODkiPiYjODc3NjsgMTAwIGJ5dGVzPC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iUFAiIGRhdGEtc291cmNlLWxpbmU9IjEzIiBkYXRhLXVpZD0iZW50MDAwNCIgaWQ9ImVudGl0eV9QUCI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI2MC44OTA2IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTE2LjQyNTgiIHg9IjY0NS4zIiB5PSIxMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwLjgzMyIgeD0iNjczLjA5NjQiIHk9IjI2Ljk5NTEiPlB1eW9QYWlyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSI2NDYuMyIgeDI9Ijc2MC43MjU4IiB5MT0iMzIuMjk2OSIgeTI9IjMyLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuNDI1OCIgeD0iNjUxLjMiIHk9IjQ5LjI5MiI+YXhpcyArIHNhdGVsbGl0ZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3Ny4wMTM3IiB4PSI2NTEuMyIgeT0iNjUuNTg4OSI+JiM4Nzc2OyA1MCBieXRlczwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjUiIGRhdGEtc291cmNlLWxpbmU9IjE4IiBkYXRhLXVpZD0iZW50MDAwNiIgaWQ9ImVudGl0eV9HTU41Ij48cGF0aCBkPSJNMjA2LjAyLDI5Ljg4IEwyMDYuMDIsMzguNDQgTDE3MS4zNyw0Mi40NCBMMjA2LjAyLDQ2LjQ0IEwyMDYuMDIsNTUuMDEyOCBBMCwwIDAgMCAwIDIwNi4wMiw1NS4wMTI4IEwzMzEuMDIwMSw1NS4wMTI4IEEwLDAgMCAwIDAgMzMxLjAyMDEsNTUuMDEyOCBMMzMxLjAyMDEsMzkuODggTDMyMS4wMjAxLDI5Ljg4IEwyMDYuMDIsMjkuODggQTAsMCAwIDAgMCAyMDYuMDIsMjkuODgiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMzIxLjAyMDEsMjkuODggTDMyMS4wMjAxLDM5Ljg4IEwzMzEuMDIwMSwzOS44OCBMMzIxLjAyMDEsMjkuODgiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDQuMDAwMSIgeD0iMjEyLjAyIiB5PSI0Ni45NDY5Ij4mIzI2MzY4OyYjMjI4MjM7JiMxMjUxMzsmIzEyNTE0OyYjMTI1MjI7JiMyMDM1MTsmIzI5OTkyOyYjMzczMjc7PC90ZXh0PjwvZz48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR01OOCIgZGF0YS1zb3VyY2UtbGluZT0iMTkiIGRhdGEtdWlkPSJlbnQwMDA5IiBpZD0iZW50aXR5X0dNTjgiPjxwYXRoIGQ9Ik00OTguNTIsMjkuODggTDQ5OC41MiwzOC40NCBMNDYzLjc0LDQyLjQ0IEw0OTguNTIsNDYuNDQgTDQ5OC41Miw1NS4wMTI4IEEwLDAgMCAwIDAgNDk4LjUyLDU1LjAxMjggTDYxMC41MjAxLDU1LjAxMjggQTAsMCAwIDAgMCA2MTAuNTIwMSw1NS4wMTI4IEw2MTAuNTIwMSwzOS44OCBMNjAwLjUyMDEsMjkuODggTDQ5OC41MiwyOS44OCBBMCwwIDAgMCAwIDQ5OC41MiwyOS44OCIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik02MDAuNTIwMSwyOS44OCBMNjAwLjUyMDEsMzkuODggTDYxMC41MjAxLDM5Ljg4IEw2MDAuNTIwMSwyOS44OCIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxLjAwMDEiIHg9IjUwNC41MiIgeT0iNDYuOTQ2OSI+JiMxMjQ2NjsmIzEyNTQwOyYjMTI1MTI7JiMyOTM2NjsmIzI0OTA3OyYjMzE2NDk7JiMyOTcwMjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xMSIgZGF0YS1zb3VyY2UtbGluZT0iMjAiIGRhdGEtdWlkPSJlbnQwMDEyIiBpZD0iZW50aXR5X0dNTjExIj48cGF0aCBkPSJNNzk2LjUyLDI5Ljg4IEw3OTYuNTIsMzguNDQgTDc2Mi4wMSw0Mi40NCBMNzk2LjUyLDQ2LjQ0IEw3OTYuNTIsNTUuMDEyOCBBMCwwIDAgMCAwIDc5Ni41Miw1NS4wMTI4IEw5MDguNTIwMSw1NS4wMTI4IEEwLDAgMCAwIDAgOTA4LjUyMDEsNTUuMDEyOCBMOTA4LjUyMDEsMzkuODggTDg5OC41MjAxLDI5Ljg4IEw3OTYuNTIsMjkuODggQTAsMCAwIDAgMCA3OTYuNTIsMjkuODgiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNODk4LjUyMDEsMjkuODggTDg5OC41MjAxLDM5Ljg4IEw5MDguNTIwMSwzOS44OCBMODk4LjUyMDEsMjkuODgiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSI4MDIuNTIiIHk9IjQ2Ljk0NjkiPiYjMjk2OTQ7JiMyMjMxMjsmIzEyMzk4OyYjMTI0MDc7JiMxMjQyNDsmIzEyNTA2OyYjMTI0NTA7PC90ZXh0PjwvZz48IS0tU1JDPVtLb3A5SUNyRExJWjhJU3BDdS1CQUp5ZkFKSXZISzc5RnA0cnJvcXBESUw1SUkybk1TN1RKZ0VQQTB0NlozT3JZZXlyWTVRbUt5YWZwYXJBQmsxdnJUWVdPTUxXZTk1TU1mMVBwclFBUTBENENyRmpxR2lscDVVa1VUc3J4cmpoelQ0ZGRpd2FSbTFlRDNHbW1ER1FLTGtPNzk2T01XSks3MTAxcjlyUGE1WWplQW5HZGJnSmN2NklNZjhCcmNZOWZwU2lsSUxLZW9hcEZBNTc4Sm1FdnJhaFhzUG82ZnFrTUZzdlUtQlh2cVVGY0xLX3N4ZHktUFNOQnpkdnFqSzJiWnZpc0ZNeFV5eFh2MFNIenB6U2pWM3dYM0txVHExck0yaV94enBzVGktOW51eGg3WlRpVkR0S3lSZnhyazZhSDAwMDBdLS0+PC9nPjwvc3ZnPg==" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_21">レンダリング最適化<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">GameRenderer</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 差分更新によるレンダリング最適化</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">lastFieldState</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">[][]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="nx">game</span><span class="o">:</span><span class="w"> </span><span class="kt">Game</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">currentField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">game</span><span class="p">.</span><span class="nx">getField</span><span class="p">()</span>

<span class="w">    </span><span class="c1">// フィールド状態の変更検出</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">hasFieldChanged</span><span class="p">(</span><span class="nx">currentField</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">drawField</span><span class="p">(</span><span class="nx">game</span><span class="p">)</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">lastFieldState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">deepCopyField</span><span class="p">(</span><span class="nx">currentField</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// 現在のぷよは毎フレーム更新</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">drawCurrentPuyo</span><span class="p">(</span><span class="nx">game</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="_22">エラーハンドリング設計<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h2>
<h3 id="_23">例外階層<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgZGF0YS1kaWFncmFtLXR5cGU9IkNMQVNTIiBoZWlnaHQ9IjI3MXB4IiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiBzdHlsZT0id2lkdGg6OTgycHg7aGVpZ2h0OjI3MXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDk4MiAyNzEiIHdpZHRoPSI5ODJweCIgem9vbUFuZFBhbj0ibWFnbmlmeSI+PGRlZnMvPjxnPjwhLS1jbGFzcyBFcnJvci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJFcnJvciIgZGF0YS1zb3VyY2UtbGluZT0iMyIgZGF0YS11aWQ9ImVudDAwMDIiIGlkPSJlbnRpdHlfRXJyb3IiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSI2Mi42Nzg3IiB4PSIzOTMuMDQiIHk9IjEyIi8+PGVsbGlwc2UgY3g9IjQwNi4wNCIgY3k9IjI2IiBmaWxsPSIjRkZGRkZGIiByeD0iOSIgcnk9IjkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNNDA5LjAwODgsMzEuNjQwNiBRNDA4LjQzMDYsMzEuOTM3NSA0MDcuNzksMzIuMDc4MSBRNDA3LjE0OTQsMzIuMjM0NCA0MDYuNDQ2MywzMi4yMzQ0IFE0MDMuOTQ2MywzMi4yMzQ0IDQwMi42MTgxLDMwLjU5MzggUTQwMS4zMDU2LDI4LjkzNzUgNDAxLjMwNTYsMjUuODEyNSBRNDAxLjMwNTYsMjIuNjg3NSA0MDIuNjE4MSwyMS4wMzEzIFE0MDMuOTQ2MywxOS4zNzUgNDA2LjQ0NjMsMTkuMzc1IFE0MDcuMTQ5NCwxOS4zNzUgNDA3Ljc5LDE5LjUzMTMgUTQwOC40NDYzLDE5LjY4NzUgNDA5LjAwODgsMTkuOTg0NCBMNDA5LjAwODgsMjIuNzAzMSBRNDA4LjM4MzgsMjIuMTI1IDQwNy43OSwyMS44NTk0IFE0MDcuMTk2MywyMS41NzgxIDQwNi41NzEzLDIxLjU3ODEgUTQwNS4yMjc1LDIxLjU3ODEgNDA0LjU0LDIyLjY1NjMgUTQwMy44NTI1LDIzLjcxODggNDAzLjg1MjUsMjUuODEyNSBRNDAzLjg1MjUsMjcuOTA2MyA0MDQuNTQsMjguOTg0NCBRNDA1LjIyNzUsMzAuMDQ2OSA0MDYuNTcxMywzMC4wNDY5IFE0MDcuMTk2MywzMC4wNDY5IDQwNy43OSwyOS43ODEzIFE0MDguMzgzOCwyOS41IDQwOS4wMDg4LDI4LjkyMTkgTDQwOS4wMDg4LDMxLjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNC42Nzg3IiB4PSI0MTguMDQiIHk9IjMwLjg0NjciPkVycm9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIzOTQuMDQiIHgyPSI0NTQuNzE4NyIgeTE9IjQwIiB5Mj0iNDAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzk0LjA0IiB4Mj0iNDU0LjcxODciIHkxPSI0OCIgeTI9IjQ4Ii8+PC9nPjwhLS1jbGFzcyBHYW1lRXJyb3ItLT48ZyBjbGFzcz0iZW50aXR5IiBkYXRhLWVudGl0eT0iR2FtZUVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI0IiBkYXRhLXVpZD0iZW50MDAwMyIgaWQ9ImVudGl0eV9HYW1lRXJyb3IiPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iNDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxMDQuMzU3NCIgeD0iMzcyLjIiIHk9IjExNiIvPjxlbGxpcHNlIGN4PSIzODUuMiIgY3k9IjEzMCIgZmlsbD0iI0ZGRkZGRiIgcng9IjkiIHJ5PSI5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTM4OC4xNjg4LDEzNS42NDA2IFEzODcuNTkwNiwxMzUuOTM3NSAzODYuOTUsMTM2LjA3ODEgUTM4Ni4zMDk0LDEzNi4yMzQ0IDM4NS42MDYzLDEzNi4yMzQ0IFEzODMuMTA2MywxMzYuMjM0NCAzODEuNzc4MSwxMzQuNTkzOCBRMzgwLjQ2NTYsMTMyLjkzNzUgMzgwLjQ2NTYsMTI5LjgxMjUgUTM4MC40NjU2LDEyNi42ODc1IDM4MS43NzgxLDEyNS4wMzEzIFEzODMuMTA2MywxMjMuMzc1IDM4NS42MDYzLDEyMy4zNzUgUTM4Ni4zMDk0LDEyMy4zNzUgMzg2Ljk1LDEyMy41MzEzIFEzODcuNjA2MywxMjMuNjg3NSAzODguMTY4OCwxMjMuOTg0NCBMMzg4LjE2ODgsMTI2LjcwMzEgUTM4Ny41NDM4LDEyNi4xMjUgMzg2Ljk1LDEyNS44NTk0IFEzODYuMzU2MywxMjUuNTc4MSAzODUuNzMxMywxMjUuNTc4MSBRMzg0LjM4NzUsMTI1LjU3ODEgMzgzLjcsMTI2LjY1NjMgUTM4My4wMTI1LDEyNy43MTg4IDM4My4wMTI1LDEyOS44MTI1IFEzODMuMDEyNSwxMzEuOTA2MyAzODMuNywxMzIuOTg0NCBRMzg0LjM4NzUsMTM0LjA0NjkgMzg1LjczMTMsMTM0LjA0NjkgUTM4Ni4zNTYzLDEzNC4wNDY5IDM4Ni45NSwxMzMuNzgxMyBRMzg3LjU0MzgsMTMzLjUgMzg4LjE2ODgsMTMyLjkyMTkgTDM4OC4xNjg4LDEzNS42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYuMzU3NCIgeD0iMzk3LjIiIHk9IjEzNC44NDY3Ij5HYW1lRXJyb3I8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjM3My4yIiB4Mj0iNDc1LjU1NzQiIHkxPSIxNDQiIHkyPSIxNDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iMzczLjIiIHgyPSI0NzUuNTU3NCIgeTE9IjE1MiIgeTI9IjE1MiIvPjwvZz48IS0tY2xhc3MgSW52YWxpZE1vdmVFcnJvci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJJbnZhbGlkTW92ZUVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0iZW50MDAwNSIgaWQ9ImVudGl0eV9JbnZhbGlkTW92ZUVycm9yIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTQ2Ljc1MzkiIHg9IjEyIiB5PSIyMjAiLz48ZWxsaXBzZSBjeD0iMjUiIGN5PSIyMzQiIGZpbGw9IiNGRkZGRkYiIHJ4PSI5IiByeT0iOSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0yNy45Njg4LDIzOS42NDA2IFEyNy4zOTA2LDIzOS45Mzc1IDI2Ljc1LDI0MC4wNzgxIFEyNi4xMDk0LDI0MC4yMzQ0IDI1LjQwNjMsMjQwLjIzNDQgUTIyLjkwNjMsMjQwLjIzNDQgMjEuNTc4MSwyMzguNTkzOCBRMjAuMjY1NiwyMzYuOTM3NSAyMC4yNjU2LDIzMy44MTI1IFEyMC4yNjU2LDIzMC42ODc1IDIxLjU3ODEsMjI5LjAzMTMgUTIyLjkwNjMsMjI3LjM3NSAyNS40MDYzLDIyNy4zNzUgUTI2LjEwOTQsMjI3LjM3NSAyNi43NSwyMjcuNTMxMyBRMjcuNDA2MywyMjcuNjg3NSAyNy45Njg4LDIyNy45ODQ0IEwyNy45Njg4LDIzMC43MDMxIFEyNy4zNDM4LDIzMC4xMjUgMjYuNzUsMjI5Ljg1OTQgUTI2LjE1NjMsMjI5LjU3ODEgMjUuNTMxMywyMjkuNTc4MSBRMjQuMTg3NSwyMjkuNTc4MSAyMy41LDIzMC42NTYzIFEyMi44MTI1LDIzMS43MTg4IDIyLjgxMjUsMjMzLjgxMjUgUTIyLjgxMjUsMjM1LjkwNjMgMjMuNSwyMzYuOTg0NCBRMjQuMTg3NSwyMzguMDQ2OSAyNS41MzEzLDIzOC4wNDY5IFEyNi4xNTYzLDIzOC4wNDY5IDI2Ljc1LDIzNy43ODEzIFEyNy4zNDM4LDIzNy41IDI3Ljk2ODgsMjM2LjkyMTkgTDI3Ljk2ODgsMjM5LjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTguNzUzOSIgeD0iMzciIHk9IjIzOC44NDY3Ij5JbnZhbGlkTW92ZUVycm9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIxMyIgeDI9IjE1Ny43NTM5IiB5MT0iMjQ4IiB5Mj0iMjQ4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgeDE9IjEzIiB4Mj0iMTU3Ljc1MzkiIHkxPSIyNTYiIHkyPSIyNTYiLz48L2c+PCEtLWNsYXNzIEludmFsaWRSb3RhdGlvbkVycm9yLS0+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkludmFsaWRSb3RhdGlvbkVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI2IiBkYXRhLXVpZD0iZW50MDAwNyIgaWQ9ImVudGl0eV9JbnZhbGlkUm90YXRpb25FcnJvciI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjE2OC4zODk2IiB4PSIzNDAuMTgiIHk9IjIyMCIvPjxlbGxpcHNlIGN4PSIzNTMuMTgiIGN5PSIyMzQiIGZpbGw9IiNGRkZGRkYiIHJ4PSI5IiByeT0iOSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik0zNTYuMTQ4OCwyMzkuNjQwNiBRMzU1LjU3MDYsMjM5LjkzNzUgMzU0LjkzLDI0MC4wNzgxIFEzNTQuMjg5NCwyNDAuMjM0NCAzNTMuNTg2MywyNDAuMjM0NCBRMzUxLjA4NjMsMjQwLjIzNDQgMzQ5Ljc1ODEsMjM4LjU5MzggUTM0OC40NDU2LDIzNi45Mzc1IDM0OC40NDU2LDIzMy44MTI1IFEzNDguNDQ1NiwyMzAuNjg3NSAzNDkuNzU4MSwyMjkuMDMxMyBRMzUxLjA4NjMsMjI3LjM3NSAzNTMuNTg2MywyMjcuMzc1IFEzNTQuMjg5NCwyMjcuMzc1IDM1NC45MywyMjcuNTMxMyBRMzU1LjU4NjMsMjI3LjY4NzUgMzU2LjE0ODgsMjI3Ljk4NDQgTDM1Ni4xNDg4LDIzMC43MDMxIFEzNTUuNTIzOCwyMzAuMTI1IDM1NC45MywyMjkuODU5NCBRMzU0LjMzNjMsMjI5LjU3ODEgMzUzLjcxMTMsMjI5LjU3ODEgUTM1Mi4zNjc1LDIyOS41NzgxIDM1MS42OCwyMzAuNjU2MyBRMzUwLjk5MjUsMjMxLjcxODggMzUwLjk5MjUsMjMzLjgxMjUgUTM1MC45OTI1LDIzNS45MDYzIDM1MS42OCwyMzYuOTg0NCBRMzUyLjM2NzUsMjM4LjA0NjkgMzUzLjcxMTMsMjM4LjA0NjkgUTM1NC4zMzYzLDIzOC4wNDY5IDM1NC45MywyMzcuNzgxMyBRMzU1LjUyMzgsMjM3LjUgMzU2LjE0ODgsMjM2LjkyMTkgTDM1Ni4xNDg4LDIzOS42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQwLjM4OTYiIHg9IjM2NS4xOCIgeT0iMjM4Ljg0NjciPkludmFsaWRSb3RhdGlvbkVycm9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDEuMTgiIHgyPSI1MDcuNTY5NiIgeTE9IjI0OCIgeTI9IjI0OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiIHgxPSIzNDEuMTgiIHgyPSI1MDcuNTY5NiIgeTE9IjI1NiIgeTI9IjI1NiIvPjwvZz48IS0tY2xhc3MgR2FtZU92ZXJFcnJvci0tPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHYW1lT3ZlckVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0iZW50MDAwOSIgaWQ9ImVudGl0eV9HYW1lT3ZlckVycm9yIj48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTM4LjAzMTMiIHg9IjY5MC4zNiIgeT0iMjIwIi8+PGVsbGlwc2UgY3g9IjcwMy4zNiIgY3k9IjIzNCIgZmlsbD0iI0ZGRkZGRiIgcng9IjkiIHJ5PSI5IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTcwNi4zMjg4LDIzOS42NDA2IFE3MDUuNzUwNiwyMzkuOTM3NSA3MDUuMTEsMjQwLjA3ODEgUTcwNC40Njk0LDI0MC4yMzQ0IDcwMy43NjYzLDI0MC4yMzQ0IFE3MDEuMjY2MywyNDAuMjM0NCA2OTkuOTM4MSwyMzguNTkzOCBRNjk4LjYyNTYsMjM2LjkzNzUgNjk4LjYyNTYsMjMzLjgxMjUgUTY5OC42MjU2LDIzMC42ODc1IDY5OS45MzgxLDIyOS4wMzEzIFE3MDEuMjY2MywyMjcuMzc1IDcwMy43NjYzLDIyNy4zNzUgUTcwNC40Njk0LDIyNy4zNzUgNzA1LjExLDIyNy41MzEzIFE3MDUuNzY2MywyMjcuNjg3NSA3MDYuMzI4OCwyMjcuOTg0NCBMNzA2LjMyODgsMjMwLjcwMzEgUTcwNS43MDM4LDIzMC4xMjUgNzA1LjExLDIyOS44NTk0IFE3MDQuNTE2MywyMjkuNTc4MSA3MDMuODkxMywyMjkuNTc4MSBRNzAyLjU0NzUsMjI5LjU3ODEgNzAxLjg2LDIzMC42NTYzIFE3MDEuMTcyNSwyMzEuNzE4OCA3MDEuMTcyNSwyMzMuODEyNSBRNzAxLjE3MjUsMjM1LjkwNjMgNzAxLjg2LDIzNi45ODQ0IFE3MDIuNTQ3NSwyMzguMDQ2OSA3MDMuODkxMywyMzguMDQ2OSBRNzA0LjUxNjMsMjM4LjA0NjkgNzA1LjExLDIzNy43ODEzIFE3MDUuNzAzOCwyMzcuNSA3MDYuMzI4OCwyMzYuOTIxOSBMNzA2LjMyODgsMjM5LjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTAuMDMxMyIgeD0iNzE1LjM2IiB5PSIyMzguODQ2NyI+R2FtZU92ZXJFcnJvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjkxLjM2IiB4Mj0iODI3LjM5MTMiIHkxPSIyNDgiIHkyPSIyNDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7IiB4MT0iNjkxLjM2IiB4Mj0iODI3LjM5MTMiIHkxPSIyNTYiIHkyPSIyNTYiLz48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjExIiBkYXRhLXNvdXJjZS1saW5lPSI5IiBkYXRhLXVpZD0iZW50MDAxMiIgaWQ9ImVudGl0eV9HTU4xMSI+PHBhdGggZD0iTTUxMS4zOCwxMjUuNDMgTDUxMS4zOCwxMzQgTDQ3Ni43OCwxMzggTDUxMS4zOCwxNDIgTDUxMS4zOCwxNTAuNTYyOCBBMCwwIDAgMCAwIDUxMS4zOCwxNTAuNTYyOCBMNjQ5LjM4MDEsMTUwLjU2MjggQTAsMCAwIDAgMCA2NDkuMzgwMSwxNTAuNTYyOCBMNjQ5LjM4MDEsMTM1LjQzIEw2MzkuMzgwMSwxMjUuNDMgTDUxMS4zOCwxMjUuNDMgQTAsMCAwIDAgMCA1MTEuMzgsMTI1LjQzIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBhdGggZD0iTTYzOS4zODAxLDEyNS40MyBMNjM5LjM4MDEsMTM1LjQzIEw2NDkuMzgwMSwxMzUuNDMgTDYzOS4zODAxLDEyNS40MyIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNy4wMDAxIiB4PSI1MTcuMzgiIHk9IjE0Mi40OTY5Ij4mIzEyNDY2OyYjMTI1NDA7JiMxMjUxMjsmIzIyMjY2OyYjMjYzNzc7JiMxMjM5ODsmIzEyNDU2OyYjMTI1MjE7JiMxMjU0MDs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xNCIgZGF0YS1zb3VyY2UtbGluZT0iMTAiIGRhdGEtdWlkPSJlbnQwMDE1IiBpZD0iZW50aXR5X0dNTjE0Ij48cGF0aCBkPSJNMTkzLjM4LDIyOS40MyBMMTkzLjM4LDIzOCBMMTU5LjA1LDI0MiBMMTkzLjM4LDI0NiBMMTkzLjM4LDI1NC41NjI4IEEwLDAgMCAwIDAgMTkzLjM4LDI1NC41NjI4IEwzMDUuMzgwMSwyNTQuNTYyOCBBMCwwIDAgMCAwIDMwNS4zODAxLDI1NC41NjI4IEwzMDUuMzgwMSwyMzkuNDMgTDI5NS4zODAxLDIyOS40MyBMMTkzLjM4LDIyOS40MyBBMCwwIDAgMCAwIDE5My4zOCwyMjkuNDMiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48cGF0aCBkPSJNMjk1LjM4MDEsMjI5LjQzIEwyOTUuMzgwMSwyMzkuNDMgTDMwNS4zODAxLDIzOS40MyBMMjk1LjM4MDEsMjI5LjQzIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEuMDAwMSIgeD0iMTk5LjM4IiB5PSIyNDYuNDk2OSI+JiMxOTk4MTsmIzI3NDkxOyYjMTIzOTQ7JiMzMTIyNzsmIzIxMjA1OyYjMjU4MDU7JiMyMDMxNjs8L3RleHQ+PC9nPjxnIGNsYXNzPSJlbnRpdHkiIGRhdGEtZW50aXR5PSJHTU4xNyIgZGF0YS1zb3VyY2UtbGluZT0iMTEiIGRhdGEtdWlkPSJlbnQwMDE4IiBpZD0iZW50aXR5X0dNTjE3Ij48cGF0aCBkPSJNNTQzLjM4LDIyOS40MyBMNTQzLjM4LDIzOCBMNTA4LjgsMjQyIEw1NDMuMzgsMjQ2IEw1NDMuMzgsMjU0LjU2MjggQTAsMCAwIDAgMCA1NDMuMzgsMjU0LjU2MjggTDY1NS4zODAxLDI1NC41NjI4IEEwLDAgMCAwIDAgNjU1LjM4MDEsMjU0LjU2MjggTDY1NS4zODAxLDIzOS40MyBMNjQ1LjM4MDEsMjI5LjQzIEw1NDMuMzgsMjI5LjQzIEEwLDAgMCAwIDAgNTQzLjM4LDIyOS40MyIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik02NDUuMzgwMSwyMjkuNDMgTDY0NS4zODAxLDIzOS40MyBMNjU1LjM4MDEsMjM5LjQzIEw2NDUuMzgwMSwyMjkuNDMiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSI1NDkuMzgiIHk9IjI0Ni40OTY5Ij4mIzE5OTgxOyYjMjc0OTE7JiMxMjM5NDsmIzIyMjM4OyYjMzY1Nzg7JiMyNTgwNTsmIzIwMzE2OzwvdGV4dD48L2c+PGcgY2xhc3M9ImVudGl0eSIgZGF0YS1lbnRpdHk9IkdNTjIwIiBkYXRhLXNvdXJjZS1saW5lPSIxMiIgZGF0YS11aWQ9ImVudDAwMjEiIGlkPSJlbnRpdHlfR01OMjAiPjxwYXRoIGQ9Ik04NjMuMzgsMjI5LjQzIEw4NjMuMzgsMjM4IEw4MjguNzUsMjQyIEw4NjMuMzgsMjQ2IEw4NjMuMzgsMjU0LjU2MjggQTAsMCAwIDAgMCA4NjMuMzgsMjU0LjU2MjggTDk3NS4zODAxLDI1NC41NjI4IEEwLDAgMCAwIDAgOTc1LjM4MDEsMjU0LjU2MjggTDk3NS4zODAxLDIzOS40MyBMOTY1LjM4MDEsMjI5LjQzIEw4NjMuMzgsMjI5LjQzIEEwLDAgMCAwIDAgODYzLjM4LDIyOS40MyIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwYXRoIGQ9Ik05NjUuMzgwMSwyMjkuNDMgTDk2NS4zODAxLDIzOS40MyBMOTc1LjM4MDEsMjM5LjQzIEw5NjUuMzgwMSwyMjkuNDMiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MS4wMDAxIiB4PSI4NjkuMzgiIHk9IjI0Ni40OTY5Ij4mIzEyNDY2OyYjMTI1NDA7JiMxMjUxMjsmIzMyMDY2OyYjMjAxMDI7JiMyOTM2NjsmIzI0OTA3OzwvdGV4dD48L2c+PCEtLXJldmVyc2UgbGluayBFcnJvciB0byBHYW1lRXJyb3ItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iRXJyb3IiIGRhdGEtZW50aXR5LTI9IkdhbWVFcnJvciIgZGF0YS1zb3VyY2UtbGluZT0iNCIgZGF0YS11aWQ9ImxuazQiIGlkPSJsaW5rX0Vycm9yX0dhbWVFcnJvciI+PHBhdGggZD0iTTQyNC4zOCw3NC4xMyBDNDI0LjM4LDkxLjUyIDQyNC4zOCw5OC4wNiA0MjQuMzgsMTE1LjU0IiBmaWxsPSJub25lIiBpZD0iRXJyb3ItYmFja3RvLUdhbWVFcnJvciIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNDI0LjM4LDU2LjEzLDQxOC4zOCw3NC4xMyw0MzAuMzgsNzQuMTMsNDI0LjM4LDU2LjEzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgR2FtZUVycm9yIHRvIEludmFsaWRNb3ZlRXJyb3ItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iR2FtZUVycm9yIiBkYXRhLWVudGl0eS0yPSJJbnZhbGlkTW92ZUVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI1IiBkYXRhLXVpZD0ibG5rNiIgaWQ9ImxpbmtfR2FtZUVycm9yX0ludmFsaWRNb3ZlRXJyb3IiPjxwYXRoIGQ9Ik0zNTQuNTQzMSwxNjAuMDE1NCBDMjk2LjgwMzEsMTc3LjM4NTQgMjIxLDIwMC4xOSAxNTYuNzEsMjE5LjU0IiBmaWxsPSJub25lIiBpZD0iR2FtZUVycm9yLWJhY2t0by1JbnZhbGlkTW92ZUVycm9yIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIzNzEuNzgsMTU0LjgzLDM1Mi44MTQ2LDE1NC4yNjk4LDM1Ni4yNzE1LDE2NS43NjEsMzcxLjc4LDE1NC44MyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEdhbWVFcnJvciB0byBJbnZhbGlkUm90YXRpb25FcnJvci0tPjxnIGNsYXNzPSJsaW5rIiBkYXRhLWVudGl0eS0xPSJHYW1lRXJyb3IiIGRhdGEtZW50aXR5LTI9IkludmFsaWRSb3RhdGlvbkVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI2IiBkYXRhLXVpZD0ibG5rOCIgaWQ9ImxpbmtfR2FtZUVycm9yX0ludmFsaWRSb3RhdGlvbkVycm9yIj48cGF0aCBkPSJNNDI0LjM4LDE3OC4xMyBDNDI0LjM4LDE5NS41MiA0MjQuMzgsMjAyLjA2IDQyNC4zOCwyMTkuNTQiIGZpbGw9Im5vbmUiIGlkPSJHYW1lRXJyb3ItYmFja3RvLUludmFsaWRSb3RhdGlvbkVycm9yIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI0MjQuMzgsMTYwLjEzLDQxOC4zOCwxNzguMTMsNDMwLjM4LDE3OC4xMyw0MjQuMzgsMTYwLjEzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjE7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgR2FtZUVycm9yIHRvIEdhbWVPdmVyRXJyb3ItLT48ZyBjbGFzcz0ibGluayIgZGF0YS1lbnRpdHktMT0iR2FtZUVycm9yIiBkYXRhLWVudGl0eS0yPSJHYW1lT3ZlckVycm9yIiBkYXRhLXNvdXJjZS1saW5lPSI3IiBkYXRhLXVpZD0ibG5rMTAiIGlkPSJsaW5rX0dhbWVFcnJvcl9HYW1lT3ZlckVycm9yIj48cGF0aCBkPSJNNDkzLjkzOTgsMTYwLjE4MjEgQzU1MS4zNTk4LDE3Ny42NjIxIDYyNi41NCwyMDAuNTUgNjg5Ljk2LDIxOS44NyIgZmlsbD0ibm9uZSIgaWQ9IkdhbWVFcnJvci1iYWNrdG8tR2FtZU92ZXJFcnJvciIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNDc2LjcyLDE1NC45NCw0OTIuMTkyNCwxNjUuOTIyLDQ5NS42ODcxLDE1NC40NDIyLDQ3Ni43MiwxNTQuOTQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTsiLz48L2c+PCEtLVNSQz1bS29wOUlDckRMSVo4SVNwQ3UtOUFwYWFpQmJQbUJJaEFCdUFvdEhEcEt5NXlYVElBYWpJeTU1SFBweG9vbjlwQzVEX3lDWkg1UzZzZTJlRm9JbjlCQ2xGcHkyaTZ5VnRCS2VqbWdVQkFvb3o5TElaQUpDeWVLU1hGR3RBWWJTQlpmYXNGY19TeVJieG1URlFrUHRDdzdwVWtVem9xdWQ3cElnMFdjWXVDZnJpZkZEZEgtc3BqdWlVRGd2dWx0X3NxVS1ncG9SckZ6aXgxaFd0TDhxWFFkeXdVenNCdDhnblFLUnM1dkRSZE12a1V4NmZ4dGhOak1NaXQwMDAwXS0tPjwvZz48L3N2Zz4=" class="uml" alt="uml diagram" title="" /></p>
<h3 id="_24">エラー処理戦略<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">Game</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">handleInput</span><span class="p">(</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">gameState</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">GameState</span><span class="p">.</span><span class="nx">GAME_OVER</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="c1">// ゲームオーバー時は入力無効</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">key</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;ArrowLeft&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;ArrowRight&#39;</span><span class="o">:</span>
<span class="w">          </span><span class="k">this</span><span class="p">.</span><span class="nx">movePuyoPair</span><span class="p">(</span><span class="nx">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;ArrowLeft&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="o">-</span><span class="nx">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span>
<span class="w">          </span><span class="k">break</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;ArrowUp&#39;</span><span class="o">:</span>
<span class="w">          </span><span class="k">this</span><span class="p">.</span><span class="nx">rotatePuyoPair</span><span class="p">()</span>
<span class="w">          </span><span class="k">break</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">          </span><span class="c1">// 不明なキーは無視</span>
<span class="w">          </span><span class="k">break</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">&#39;Input handling error:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">)</span>
<span class="w">      </span><span class="c1">// エラーログを記録し、ゲームを継続</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="_25">まとめ<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h2>
<p>この設計により、以下の品質特性を実現しています：</p>
<h3 id="_26">保守性<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>単一責任</strong>: 各クラスが明確な責務を持つ</li>
<li><strong>疎結合</strong>: レイヤー間の依存関係を最小化</li>
<li><strong>高凝集</strong>: 関連する機能を適切にグループ化</li>
</ul>
<h3 id="_27">拡張性<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>開放閉鎖</strong>: 新機能追加時の既存コード変更を最小化</li>
<li><strong>戦略パターン</strong>: アルゴリズムの差し替えが容易</li>
<li><strong>ファクトリパターン</strong>: オブジェクト生成の柔軟性</li>
</ul>
<h3 id="_28">テスト容易性<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>依存性注入</strong>: モックオブジェクトによるテスト</li>
<li><strong>純粋関数</strong>: 決定的な入出力関係</li>
<li><strong>状態の可視性</strong>: 内部状態の検証が容易</li>
</ul>
<h3 id="_29">パフォーマンス<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>効率的アルゴリズム</strong>: 最適な時間・空間計算量</li>
<li><strong>メモリ管理</strong>: 不要なオブジェクト生成を回避</li>
<li><strong>レンダリング最適化</strong>: 必要最小限の描画更新</li>
</ul>
<p>これらの設計により、<strong>変更を楽に安全にできて役に立つソフトウェア</strong>という目標を達成しています。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works" target="_blank" rel="noopener" title="GitHub Repository/claude-code-booster" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>