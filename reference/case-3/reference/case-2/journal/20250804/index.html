
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Game Development project.">
      
      
        <meta name="author" content="Project Team">
      
      
      
      
      
      <link rel="icon" href="../../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>ä½œæ¥­å±¥æ­´ 2025-08-04 - ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../docs/mkdocs/assets/css/extra.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2025-08-04" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../.." title="ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£" class="md-header__button md-logo" aria-label="ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ä½œæ¥­å±¥æ­´ 2025-08-04
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/k2works/case-study-game-dev" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-game-dev
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../case-1/" class="md-tabs__link">
        
  
  
    
  
  Case1

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../case-2/" class="md-tabs__link">
        
  
  
    
  
  Case2

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../" class="md-tabs__link">
        
  
  
    
  
  Case3

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../case-4/" class="md-tabs__link">
        
  
  
    
  
  Case4

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£" class="md-nav__button md-logo" aria-label="ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ã‚²ãƒ¼ãƒ é–‹ç™ºã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/k2works/case-study-game-dev" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    case-study-game-dev
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../case-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../case-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case3
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../case-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case4
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2025-08-04">ä½œæ¥­å±¥æ­´ 2025-08-04<a class="headerlink" href="#2025-08-04" title="Permanent link">&para;</a></h1>
<h2 id="_1">æ¦‚è¦<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>2025-08-04ã®ä½œæ¥­å†…å®¹ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚</p>
<h2 id="cf1f00b">ã‚³ãƒŸãƒƒãƒˆ: cf1f00b<a class="headerlink" href="#cf1f00b" title="Permanent link">&para;</a></h2>
<h3 id="_2">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³7å®Œäº† - å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®å®Ÿè£…
âœ… å®Ÿè£…å®Œäº†é …ç›®:
- å…¨æ¶ˆã—åˆ¤å®šæ©Ÿèƒ½ï¼ˆisAllClear()ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
- å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ï¼ˆå›ºå®š2000ç‚¹ï¼‰
- å…¨æ¶ˆã—æ¼”å‡ºã‚·ã‚¹ãƒ†ãƒ ï¼ˆè¦–è¦šçš„ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰

ğŸ“Š æˆæœ:
- 95å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å…¨ã¦ãŒæˆåŠŸ
- é€£é–ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®Œå…¨çµ±åˆ
- ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚‹ç–çµåˆè¨­è¨ˆ
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UIå¯¾å¿œ

ğŸ”„ æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:
- ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã‚’äºˆå®š
</code></pre></div>
<h3 id="_3">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_4">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit cf1f00bac7c0053745e52b4235c9798f5b60debb
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 16:01:20 2025 +0900

<span class="w"> </span>   feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³7å®Œäº† - å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®å®Ÿè£…

<span class="w"> </span>   âœ… å®Ÿè£…å®Œäº†é …ç›®:
<span class="w"> </span>   - å…¨æ¶ˆã—åˆ¤å®šæ©Ÿèƒ½ï¼ˆisAllClear()ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
<span class="w"> </span>   - å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ï¼ˆå›ºå®š2000ç‚¹ï¼‰
<span class="w"> </span>   - å…¨æ¶ˆã—æ¼”å‡ºã‚·ã‚¹ãƒ†ãƒ ï¼ˆè¦–è¦šçš„ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰

<span class="w"> </span>   ğŸ“Š æˆæœ:
<span class="w"> </span>   - 95å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å…¨ã¦ãŒæˆåŠŸ
<span class="w"> </span>   - é€£é–ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®Œå…¨çµ±åˆ
<span class="w"> </span>   - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚‹ç–çµåˆè¨­è¨ˆ
<span class="w"> </span>   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UIå¯¾å¿œ

<span class="w"> </span>   ğŸ”„ æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:
<span class="w"> </span>   - ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã‚’äºˆå®š

<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 544fc04..61462ef 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -342,24 +342,41 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] å…¨æ¶ˆã—åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆç›¤é¢ä¸Šã®ã·ã‚ˆãŒã™ã¹ã¦æ¶ˆãˆãŸã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®è¨ˆç®—ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå…¨æ¶ˆã—æ™‚ã«åŠ ç®—ã™ã‚‹ãƒœãƒ¼ãƒŠã‚¹ç‚¹ã‚’è¨ˆç®—ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] å…¨æ¶ˆã—æ¼”å‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå…¨æ¶ˆã—æ™‚ã«ç‰¹åˆ¥ãªæ¼”å‡ºã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] å…¨æ¶ˆã—åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆç›¤é¢ä¸Šã®ã·ã‚ˆãŒã™ã¹ã¦æ¶ˆãˆãŸã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®è¨ˆç®—ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå…¨æ¶ˆã—æ™‚ã«åŠ ç®—ã™ã‚‹ãƒœãƒ¼ãƒŠã‚¹ç‚¹ã‚’è¨ˆç®—ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] å…¨æ¶ˆã—æ¼”å‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå…¨æ¶ˆã—æ™‚ã«ç‰¹åˆ¥ãªæ¼”å‡ºã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] å…¨æ¶ˆã—ç™ºç”Ÿæ™‚ã«2000ç‚¹ã®ãƒœãƒ¼ãƒŠã‚¹ãŒåŠ ç®—ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] å…¨æ¶ˆã—ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯ãƒœãƒ¼ãƒŠã‚¹ãŒåŠ ç®—ã•ã‚Œãªã„ã“ã¨  </span>
<span class="gd">-- [ ] é€£é–ã¨å…¨æ¶ˆã—ãŒåŒæ™‚ç™ºç”Ÿã—ãŸå ´åˆã«æ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] æ—¢å­˜ã®é€£é–ã‚·ã‚¹ãƒ†ãƒ ã¨å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãŒæ­£ã—ãé€£æºã™ã‚‹ã“ã¨</span>
<span class="gi">+- [x] å…¨æ¶ˆã—ç™ºç”Ÿæ™‚ã«2000ç‚¹ã®ãƒœãƒ¼ãƒŠã‚¹ãŒåŠ ç®—ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] å…¨æ¶ˆã—ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯ãƒœãƒ¼ãƒŠã‚¹ãŒåŠ ç®—ã•ã‚Œãªã„ã“ã¨  </span>
<span class="gi">+- [x] é€£é–ã¨å…¨æ¶ˆã—ãŒåŒæ™‚ç™ºç”Ÿã—ãŸå ´åˆã«æ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] æ—¢å­˜ã®é€£é–ã‚·ã‚¹ãƒ†ãƒ ã¨å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãŒæ­£ã—ãé€£æºã™ã‚‹ã“ã¨</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="w"> </span>**Keep**
<span class="gi">+- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§3ã¤ã®TODOé …ç›®ã‚’ã™ã¹ã¦å®Œäº†ã—ã€95å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæˆåŠŸ</span>
<span class="gi">+- å…¨æ¶ˆã—åˆ¤å®šã€ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ã€æ¼”å‡ºæ©Ÿèƒ½ã®æ˜ç¢ºãªè²¬å‹™åˆ†é›¢ã«ã‚ˆã‚Šå¯èª­æ€§ã®é«˜ã„å®Ÿè£…ã‚’å®Ÿç¾</span>
<span class="gi">+- isAllClear()ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªå…¨æ¶ˆã—çŠ¶æ…‹ã®æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </span>
<span class="gi">+- å›ºå®š2000ç‚¹ã®å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã¨é€£é–ã‚·ã‚¹ãƒ†ãƒ ã®é©åˆ‡ãªçµ±åˆ</span>
<span class="gi">+- ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚Šæ¼”å‡ºã¨ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã®ç–çµåˆã‚’å®Ÿç¾</span>
<span class="gi">+- é­…åŠ›çš„ãªè¦–è¦šæ¼”å‡ºï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€3ç§’é–“ã®è‡ªå‹•è¡¨ç¤ºï¼‰</span>
<span class="gi">+- ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªUIè¨­è¨ˆ</span>

<span class="w"> </span>**Problem**
<span class="gi">+- è¤‡é›‘ãªé€£é–+å…¨æ¶ˆã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã®å®Ÿéš›å‹•ä½œæ¤œè¨¼ãŒé™å®šçš„</span>
<span class="gi">+- ãƒ†ã‚¹ãƒˆã§ã®anyã‚­ãƒ£ã‚¹ãƒˆä½¿ç”¨ï¼ˆ38å€‹ã®warningï¼‰ã§type safetyãŒä½ä¸‹</span>
<span class="gi">+- å…¨æ¶ˆã—æ¼”å‡ºä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œåˆ¶å¾¡ãŒæœªå®Ÿè£…</span>
<span class="gi">+- æ¼”å‡ºã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ï¼ˆè¡¨ç¤ºæ™‚é–“ã€ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ãŒé™å®šçš„</span>
<span class="gi">+- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é¢ã§å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ã®æœ€é©åŒ–ä½™åœ°</span>

<span class="w"> </span>**Try**
<span class="gi">+- æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã™ã‚‹</span>
<span class="gi">+- æ¼”å‡ºã‚·ã‚¹ãƒ†ãƒ ã®æ‹¡å¼µæ€§å‘ä¸Šï¼ˆè¨­å®šå¯èƒ½ãªè¡¨ç¤ºæ™‚é–“ã€è¤‡æ•°æ¼”å‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰</span>
<span class="gi">+- ã‚ˆã‚Šè¤‡é›‘ãªå…¨æ¶ˆã—ã‚·ãƒŠãƒªã‚ªã§ã®å®Ÿéš›å‹•ä½œãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½</span>
<span class="gi">+- TypeScriptå‹å®‰å…¨æ€§ã®å‘ä¸Šï¼ˆanyã‚­ãƒ£ã‚¹ãƒˆå‰Šæ¸›ã€å‹å®šç¾©å¼·åŒ–ï¼‰</span>
<span class="gi">+- æ¼”å‡ºä¸­ã®ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œåˆ¶å¾¡ã®æ”¹å–„ã‚’æ¤œè¨ã™ã‚‹</span>

<span class="w"> </span>## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³8: ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã®å®Ÿè£… 
</code></pre></div>
<h2 id="1a4bf87">ã‚³ãƒŸãƒƒãƒˆ: 1a4bf87<a class="headerlink" href="#1a4bf87" title="Permanent link">&para;</a></h2>
<h3 id="_5">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO3å®Ÿè£… - å…¨æ¶ˆã—æ¼”å‡ºæ©Ÿèƒ½
- å…¨æ¶ˆã—æ™‚ã«è¦–è¦šçš„ãªã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤æ¼”å‡ºã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…
- zenkeshi-overlayã¨zenkeshi-messageã®HTMLè¦ç´ ã‚’è¿½åŠ 
- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ã¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã®é­…åŠ›çš„ãªæ¼”å‡ºãƒ‡ã‚¶ã‚¤ãƒ³
- 3ç§’é–“ã®è‡ªå‹•è¡¨ç¤ºå¾Œã«è‡ªå‹•ã§éè¡¨ç¤ºã«ãªã‚‹æ©Ÿèƒ½
- setZenkeshiCallback()ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®šæ©Ÿèƒ½ã‚’å®Ÿè£…
- å…¨æ¶ˆã—ç™ºç”Ÿæ™‚ã«addZenkeshiScore()ã‹ã‚‰æ¼”å‡ºã‚’ãƒˆãƒªã‚¬ãƒ¼
- ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä¸¡å¯¾å¿œã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- 3ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®æ­£ã—ã„å‹•ä½œã‚’ç¢ºèª
- window.setTimeoutä½¿ç”¨ã§ESLintã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆ
</code></pre></div>
<h3 id="_6">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
<li>M app/src/main.ts</li>
<li>M app/src/style.css</li>
</ul>
<h3 id="_7">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 1a4bf8760c82982c1c13faf9329c3a39cdb45907
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 16:00:19 2025 +0900

<span class="w"> </span>   feat: TODO3å®Ÿè£… - å…¨æ¶ˆã—æ¼”å‡ºæ©Ÿèƒ½

<span class="w"> </span>   - å…¨æ¶ˆã—æ™‚ã«è¦–è¦šçš„ãªã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤æ¼”å‡ºã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - zenkeshi-overlayã¨zenkeshi-messageã®HTMLè¦ç´ ã‚’è¿½åŠ 
<span class="w"> </span>   - ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ã¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã®é­…åŠ›çš„ãªæ¼”å‡ºãƒ‡ã‚¶ã‚¤ãƒ³
<span class="w"> </span>   - 3ç§’é–“ã®è‡ªå‹•è¡¨ç¤ºå¾Œã«è‡ªå‹•ã§éè¡¨ç¤ºã«ãªã‚‹æ©Ÿèƒ½
<span class="w"> </span>   - setZenkeshiCallback()ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®šæ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - å…¨æ¶ˆã—ç™ºç”Ÿæ™‚ã«addZenkeshiScore()ã‹ã‚‰æ¼”å‡ºã‚’ãƒˆãƒªã‚¬ãƒ¼
<span class="w"> </span>   - ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä¸¡å¯¾å¿œã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
<span class="w"> </span>   - 3ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®æ­£ã—ã„å‹•ä½œã‚’ç¢ºèª
<span class="w"> </span>   - window.setTimeoutä½¿ç”¨ã§ESLintã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index a29f9d0..e52d559 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1613,4 +1613,86 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(field[11][5]).toBe(2) // æ®‹ã£ãŸã·ã‚ˆ
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;å…¨æ¶ˆã—æ¼”å‡ºæ©Ÿèƒ½&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;å…¨æ¶ˆã—æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¨­å®šã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      let callbackCalled = false</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’è¨­å®š</span>
<span class="gi">+      game.setZenkeshiCallback(() =&gt; {</span>
<span class="gi">+        callbackCalled = true</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—ãŒç™ºç”Ÿã™ã‚‹çŠ¶æ³ã‚’ä½œæˆ</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆå…¨æ¶ˆã—ã«ãªã‚‹ï¼‰</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã°ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(callbackCalled).toBe(true)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å…¨æ¶ˆã—ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã°ã‚Œãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      let callbackCalled = false</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’è¨­å®š</span>
<span class="gi">+      game.setZenkeshiCallback(() =&gt; {</span>
<span class="gi">+        callbackCalled = true</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—ãŒç™ºç”Ÿã—ãªã„çŠ¶æ³ã‚’ä½œæˆ</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+      field[11][5] = 2 // æ®‹ã‚‹ã·ã‚ˆ</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆå…¨æ¶ˆã—ã«ãªã‚‰ãªã„ï¼‰</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå‘¼ã°ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(callbackCalled).toBe(false)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;è¤‡æ•°å›ã®å…¨æ¶ˆã—ã§æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      let callbackCount = 0</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’è¨­å®šï¼ˆå‘¼ã°ã‚ŒãŸå›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆï¼‰</span>
<span class="gi">+      game.setZenkeshiCallback(() =&gt; {</span>
<span class="gi">+        callbackCount++</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      // 1å›ç›®ã®å…¨æ¶ˆã—</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      expect(callbackCount).toBe(1)</span>
<span class="gi">+</span>
<span class="gi">+      // 2å›ç›®ã®å…¨æ¶ˆã—</span>
<span class="gi">+      field[11][0] = 2</span>
<span class="gi">+      field[11][1] = 2</span>
<span class="gi">+      field[11][2] = 2</span>
<span class="gi">+      field[11][3] = 2</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      expect(callbackCount).toBe(2)</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 332102d..806616c 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -10,6 +10,7 @@ export class Game {</span>
<span class="w"> </span>  private fastDropInterval = 50 // é«˜é€Ÿè½ä¸‹ã¯50msã”ã¨
<span class="w"> </span>  private chainCount = 0 // é€£é–æ•°
<span class="w"> </span>  private score = 0 // ç¾åœ¨ã®ã‚¹ã‚³ã‚¢
<span class="gi">+  private zenkeshiCallback: (() =&gt; void) | null = null // å…¨æ¶ˆã—æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯</span>

<span class="w"> </span>  constructor() {
<span class="w"> </span>    // 6åˆ—x12è¡Œã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–
<span class="gu">@@ -530,8 +531,16 @@ export class Game {</span>
<span class="w"> </span>    // å…¨æ¶ˆã—çŠ¶æ…‹ã®å ´åˆã¯ãƒœãƒ¼ãƒŠã‚¹ã‚’åŠ ç®—
<span class="w"> </span>    if (this.isAllClear()) {
<span class="w"> </span>      this.addScore(this.getZenkeshiBonus())
<span class="gi">+      // å…¨æ¶ˆã—æ¼”å‡ºã‚’ãƒˆãƒªã‚¬ãƒ¼</span>
<span class="gi">+      if (this.zenkeshiCallback) {</span>
<span class="gi">+        this.zenkeshiCallback()</span>
<span class="gi">+      }</span>
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public setZenkeshiCallback(callback: () =&gt; void): void {</span>
<span class="gi">+    this.zenkeshiCallback = callback</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
<span class="gh">diff --git a/app/src/main.ts b/app/src/main.ts</span>
<span class="gh">index 7da9455..efaec89 100644</span>
<span class="gd">--- a/app/src/main.ts</span>
<span class="gi">+++ b/app/src/main.ts</span>
<span class="gu">@@ -17,6 +17,12 @@ document.querySelector&lt;HTMLDivElement&gt;(&#39;#app&#39;)!.innerHTML = `</span>
<span class="w"> </span>        &lt;/div&gt;
<span class="w"> </span>      &lt;/div&gt;
<span class="w"> </span>    &lt;/div&gt;
<span class="gi">+    &lt;div id=&quot;zenkeshi-overlay&quot; class=&quot;zenkeshi-overlay hidden&quot;&gt;</span>
<span class="gi">+      &lt;div class=&quot;zenkeshi-message&quot;&gt;</span>
<span class="gi">+        &lt;h2&gt;å…¨æ¶ˆã—ï¼&lt;/h2&gt;</span>
<span class="gi">+        &lt;p&gt;+2000ç‚¹&lt;/p&gt;</span>
<span class="gi">+      &lt;/div&gt;</span>
<span class="gi">+    &lt;/div&gt;</span>
<span class="w"> </span>    &lt;div class=&quot;controls&quot;&gt;
<span class="w"> </span>      &lt;p&gt;æ“ä½œæ–¹æ³•:&lt;/p&gt;
<span class="w"> </span>      &lt;p&gt;â†â†’: ç§»å‹•, â†‘: å›è»¢, â†“: é«˜é€Ÿè½ä¸‹&lt;/p&gt;
<span class="gu">@@ -30,6 +36,12 @@ const ctx = canvas.getContext(&#39;2d&#39;)!</span>
<span class="w"> </span>const game = new Game()
<span class="w"> </span>const scoreElement = document.querySelector&lt;HTMLDivElement&gt;(&#39;#score-value&#39;)!
<span class="w"> </span>const chainElement = document.querySelector&lt;HTMLDivElement&gt;(&#39;#chain-value&#39;)!
<span class="gi">+const zenkeshiOverlay = document.querySelector&lt;HTMLDivElement&gt;(&#39;#zenkeshi-overlay&#39;)!</span>
<span class="gi">+</span>
<span class="gi">+// å…¨æ¶ˆã—æ¼”å‡ºã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¨­å®š</span>
<span class="gi">+game.setZenkeshiCallback(() =&gt; {</span>
<span class="gi">+  showZenkeshiAnimation()</span>
<span class="gi">+})</span>

<span class="w"> </span>// ã‚»ãƒ«ã‚µã‚¤ã‚ºï¼ˆå„ãƒã‚¹ã®å¤§ãã•ï¼‰
<span class="w"> </span>const CELL_SIZE = 40
<span class="gu">@@ -103,6 +115,23 @@ function updateUI() {</span>
<span class="w"> </span>  chainElement.textContent = game.getChainCount().toString()
<span class="w"> </span>}

<span class="gi">+// å…¨æ¶ˆã—æ¼”å‡ºã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°</span>
<span class="gi">+function showZenkeshiAnimation() {</span>
<span class="gi">+  zenkeshiOverlay.classList.remove(&#39;hidden&#39;)</span>
<span class="gi">+  zenkeshiOverlay.classList.add(&#39;show&#39;)</span>
<span class="gi">+</span>
<span class="gi">+  // 3ç§’å¾Œã«æ¼”å‡ºã‚’éè¡¨ç¤ºã«ã™ã‚‹</span>
<span class="gi">+  window.setTimeout(() =&gt; {</span>
<span class="gi">+    hideZenkeshiAnimation()</span>
<span class="gi">+  }, 3000)</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+// å…¨æ¶ˆã—æ¼”å‡ºã‚’éè¡¨ç¤ºã«ã™ã‚‹é–¢æ•°</span>
<span class="gi">+function hideZenkeshiAnimation() {</span>
<span class="gi">+  zenkeshiOverlay.classList.remove(&#39;show&#39;)</span>
<span class="gi">+  zenkeshiOverlay.classList.add(&#39;hidden&#39;)</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="w"> </span>// ã‚²ãƒ¼ãƒ ã‚’æç”»ã™ã‚‹é–¢æ•°
<span class="w"> </span>function draw() {
<span class="w"> </span>  drawField()
<span class="gh">diff --git a/app/src/style.css b/app/src/style.css</span>
<span class="gh">index e8002c9..293c59d 100644</span>
<span class="gd">--- a/app/src/style.css</span>
<span class="gi">+++ b/app/src/style.css</span>
<span class="gu">@@ -137,6 +137,82 @@ button:focus-visible {</span>
<span class="w"> </span>  color: #888;
<span class="w"> </span>}

<span class="gi">+/* å…¨æ¶ˆã—æ¼”å‡º */</span>
<span class="gi">+.zenkeshi-overlay {</span>
<span class="gi">+  position: fixed;</span>
<span class="gi">+  top: 0;</span>
<span class="gi">+  left: 0;</span>
<span class="gi">+  width: 100%;</span>
<span class="gi">+  height: 100%;</span>
<span class="gi">+  background: rgba(0, 0, 0, 0.8);</span>
<span class="gi">+  display: flex;</span>
<span class="gi">+  justify-content: center;</span>
<span class="gi">+  align-items: center;</span>
<span class="gi">+  z-index: 1000;</span>
<span class="gi">+  transition: opacity 0.3s ease-in-out;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.zenkeshi-overlay.hidden {</span>
<span class="gi">+  opacity: 0;</span>
<span class="gi">+  pointer-events: none;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.zenkeshi-overlay.show {</span>
<span class="gi">+  opacity: 1;</span>
<span class="gi">+  pointer-events: auto;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.zenkeshi-message {</span>
<span class="gi">+  text-align: center;</span>
<span class="gi">+  color: white;</span>
<span class="gi">+  background: linear-gradient(135deg, #ff6b6b, #feca57);</span>
<span class="gi">+  padding: 2rem 3rem;</span>
<span class="gi">+  border-radius: 20px;</span>
<span class="gi">+  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);</span>
<span class="gi">+  animation: zenkeshiBounce 0.6s ease-out;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.zenkeshi-message h2 {</span>
<span class="gi">+  font-size: 3rem;</span>
<span class="gi">+  margin: 0 0 1rem 0;</span>
<span class="gi">+  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);</span>
<span class="gi">+  animation: zenkeshiGlow 2s ease-in-out infinite alternate;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.zenkeshi-message p {</span>
<span class="gi">+  font-size: 1.5rem;</span>
<span class="gi">+  margin: 0;</span>
<span class="gi">+  font-weight: bold;</span>
<span class="gi">+  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+@keyframes zenkeshiBounce {</span>
<span class="gi">+  0% {</span>
<span class="gi">+    transform: scale(0.3) rotate(-5deg);</span>
<span class="gi">+    opacity: 0;</span>
<span class="gi">+  }</span>
<span class="gi">+  50% {</span>
<span class="gi">+    transform: scale(1.1) rotate(2deg);</span>
<span class="gi">+  }</span>
<span class="gi">+  100% {</span>
<span class="gi">+    transform: scale(1) rotate(0deg);</span>
<span class="gi">+    opacity: 1;</span>
<span class="gi">+  }</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+@keyframes zenkeshiGlow {</span>
<span class="gi">+  0% {</span>
<span class="gi">+    text-shadow:</span>
<span class="gi">+      2px 2px 4px rgba(0, 0, 0, 0.3),</span>
<span class="gi">+      0 0 10px rgba(255, 255, 255, 0.5);</span>
<span class="gi">+  }</span>
<span class="gi">+  100% {</span>
<span class="gi">+    text-shadow:</span>
<span class="gi">+      2px 2px 4px rgba(0, 0, 0, 0.3),</span>
<span class="gi">+      0 0 20px rgba(255, 255, 255, 0.8);</span>
<span class="gi">+  }</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="w"> </span>@media (prefers-color-scheme: light) {
<span class="w"> </span>  :root {
<span class="w"> </span>    color: #213547;
<span class="gu">@@ -159,4 +235,9 @@ button:focus-visible {</span>
<span class="w"> </span>  #chain-value {
<span class="w"> </span>    color: #213547;
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  .zenkeshi-message {</span>
<span class="gi">+    background: linear-gradient(135deg, #e74c3c, #f39c12);</span>
<span class="gi">+    color: white;</span>
<span class="gi">+  }</span>
<span class="w"> </span>}
</code></pre></div>
<h2 id="85c7634">ã‚³ãƒŸãƒƒãƒˆ: 85c7634<a class="headerlink" href="#85c7634" title="Permanent link">&para;</a></h2>
<h3 id="_8">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO2å®Ÿè£… - å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—æ©Ÿèƒ½
- getZenkeshiBonus()ãƒ¡ã‚½ãƒƒãƒ‰ã§2000ç‚¹ã®å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã‚’å®šç¾©
- calculateZenkeshiScore()ãƒ¡ã‚½ãƒƒãƒ‰ã§å…¨æ¶ˆã—çŠ¶æ…‹ã«å¿œã˜ãŸã‚¹ã‚³ã‚¢è¨ˆç®—ã‚’å®Ÿè£…
- addZenkeshiScore()ãƒ¡ã‚½ãƒƒãƒ‰ã§å…¨æ¶ˆã—æ™‚ã®è‡ªå‹•ã‚¹ã‚³ã‚¢åŠ ç®—ã‚’å®Ÿè£…
- processChain()ã«å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãƒã‚§ãƒƒã‚¯ã‚’çµ±åˆ
- 5ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®æ­£ã—ã„å‹•ä½œã‚’ç¢ºèª
- é€£é–ã¨å…¨æ¶ˆã—ã®åŒæ™‚ç™ºç”Ÿã€éƒ¨åˆ†æ¶ˆå»ã§ã®éç™ºç”Ÿã‚‚æ­£ã—ãå‡¦ç†
</code></pre></div>
<h3 id="_9">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_10">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 85c76345939e3476ad8778460e319bcd0d46536b
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:57:08 2025 +0900

<span class="w"> </span>   feat: TODO2å®Ÿè£… - å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—æ©Ÿèƒ½

<span class="w"> </span>   - getZenkeshiBonus()ãƒ¡ã‚½ãƒƒãƒ‰ã§2000ç‚¹ã®å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã‚’å®šç¾©
<span class="w"> </span>   - calculateZenkeshiScore()ãƒ¡ã‚½ãƒƒãƒ‰ã§å…¨æ¶ˆã—çŠ¶æ…‹ã«å¿œã˜ãŸã‚¹ã‚³ã‚¢è¨ˆç®—ã‚’å®Ÿè£…
<span class="w"> </span>   - addZenkeshiScore()ãƒ¡ã‚½ãƒƒãƒ‰ã§å…¨æ¶ˆã—æ™‚ã®è‡ªå‹•ã‚¹ã‚³ã‚¢åŠ ç®—ã‚’å®Ÿè£…
<span class="w"> </span>   - processChain()ã«å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãƒã‚§ãƒƒã‚¯ã‚’çµ±åˆ
<span class="w"> </span>   - 5ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®æ­£ã—ã„å‹•ä½œã‚’ç¢ºèª
<span class="w"> </span>   - é€£é–ã¨å…¨æ¶ˆã—ã®åŒæ™‚ç™ºç”Ÿã€éƒ¨åˆ†æ¶ˆå»ã§ã®éç™ºç”Ÿã‚‚æ­£ã—ãå‡¦ç†

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 15c68a3..a29f9d0 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1256,11 +1256,14 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      field[11][2] = 1
<span class="w"> </span>      field[11][3] = 1

<span class="gi">+      // æ¶ˆå»ã•ã‚Œãªã„åˆ¥ã®è‰²ã®ã·ã‚ˆã‚’é…ç½®ï¼ˆå…¨æ¶ˆã—ã‚’é˜²ããŸã‚ï¼‰</span>
<span class="gi">+      field[10][5] = 2</span>
<span class="gi">+</span>
<span class="w"> </span>      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="w"> </span>      ;(game as any).resetChainCount()
<span class="w"> </span>      ;(game as any).processChain()

<span class="gd">-      // ã‚¹ã‚³ã‚¢ãŒè‡ªå‹•çš„ã«åŠ ç®—ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒè‡ªå‹•çš„ã«åŠ ç®—ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆå…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãªã—ï¼‰</span>
<span class="w"> </span>      expect(game.getScore()).toBe(40) // 4 * 10 * 1
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gu">@@ -1527,4 +1530,87 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(game.isAllClear()).toBe(true)
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;å…¨æ¶ˆã—ç™ºç”Ÿæ™‚ã«2000ç‚¹ã®ãƒœãƒ¼ãƒŠã‚¹ãŒåŠ ç®—ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®è¨ˆç®—ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getZenkeshiBonus()).toBe(2000)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å…¨æ¶ˆã—ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯ãƒœãƒ¼ãƒŠã‚¹ãŒ0ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã·ã‚ˆã‚’é…ç½®ï¼ˆå…¨æ¶ˆã—ã§ã¯ãªã„çŠ¶æ…‹ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãŒ0ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.calculateZenkeshiScore()).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å…¨æ¶ˆã—ãŒç™ºç”Ÿã™ã‚‹å ´åˆã¯2000ç‚¹ãŒåŠ ç®—ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // ç›¤é¢ãŒç©ºã®çŠ¶æ…‹ï¼ˆå…¨æ¶ˆã—ï¼‰ã§ã®è¨ˆç®—</span>
<span class="gi">+      expect(game.calculateZenkeshiScore()).toBe(2000)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é€£é–ã¨å…¨æ¶ˆã—ãŒåŒæ™‚ç™ºç”Ÿã—ãŸå ´åˆã«æ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // 4ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®ï¼ˆ1é€£é–ã§å…¨æ¶ˆã—ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†å‰ã®ã‚¹ã‚³ã‚¢ã‚’è¨˜éŒ²</span>
<span class="gi">+      const initialScore = game.getScore()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // 1é€£é–: 4å€‹ * 10 * 1 = 40ç‚¹</span>
<span class="gi">+      // å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹: 2000ç‚¹</span>
<span class="gi">+      // åˆè¨ˆ: 2040ç‚¹</span>
<span class="gi">+      expect(game.getScore()).toBe(initialScore + 40 + 2000)</span>
<span class="gi">+</span>
<span class="gi">+      // ç›¤é¢ãŒç©ºã«ãªã£ã¦ã„ã‚‹ï¼ˆå…¨æ¶ˆã—çŠ¶æ…‹ï¼‰</span>
<span class="gi">+      expect(game.isAllClear()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;éƒ¨åˆ†çš„ãªæ¶ˆå»ã§ã¯å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãŒç™ºç”Ÿã—ãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // 4ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®ï¼ˆ1é€£é–ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // æ®‹ã‚‹ã·ã‚ˆã‚’é…ç½®ï¼ˆé‡åŠ›å‡¦ç†å¾Œã‚‚æ®‹ã‚‹ã‚ˆã†ã«åº•ã«é…ç½®ï¼‰</span>
<span class="gi">+      field[11][5] = 2</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†å‰ã®ã‚¹ã‚³ã‚¢ã‚’è¨˜éŒ²</span>
<span class="gi">+      const initialScore = game.getScore()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // 1é€£é–: 4å€‹ * 10 * 1 = 40ç‚¹ï¼ˆå…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ãªã—ï¼‰</span>
<span class="gi">+      expect(game.getScore()).toBe(initialScore + 40)</span>
<span class="gi">+</span>
<span class="gi">+      // ç›¤é¢ãŒå®Œå…¨ã«ç©ºã§ã¯ãªã„</span>
<span class="gi">+      expect(game.isAllClear()).toBe(false)</span>
<span class="gi">+      expect(field[11][5]).toBe(2) // æ®‹ã£ãŸã·ã‚ˆ</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index d50194f..332102d 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -443,6 +443,9 @@ export class Game {</span>
<span class="w"> </span>      // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="w"> </span>      this.applyGravity()
<span class="w"> </span>    }
<span class="gi">+</span>
<span class="gi">+    // é€£é–å‡¦ç†çµ‚äº†å¾Œã€å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã‚’ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+    this.addZenkeshiScore()</span>
<span class="w"> </span>  }

<span class="w"> </span>  public getChainCount(): number {
<span class="gu">@@ -512,6 +515,23 @@ export class Game {</span>
<span class="w"> </span>    }
<span class="w"> </span>    return true // ã™ã¹ã¦ã®ã‚»ãƒ«ãŒç©ºã®å ´åˆã¯å…¨æ¶ˆã—
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public getZenkeshiBonus(): number {</span>
<span class="gi">+    // å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã¯å›ºå®šã§2000ç‚¹</span>
<span class="gi">+    return 2000</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  public calculateZenkeshiScore(): number {</span>
<span class="gi">+    // å…¨æ¶ˆã—çŠ¶æ…‹ã®å ´åˆã¯2000ç‚¹ã€ãã†ã§ãªã‘ã‚Œã°0ç‚¹</span>
<span class="gi">+    return this.isAllClear() ? this.getZenkeshiBonus() : 0</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private addZenkeshiScore(): void {</span>
<span class="gi">+    // å…¨æ¶ˆã—çŠ¶æ…‹ã®å ´åˆã¯ãƒœãƒ¼ãƒŠã‚¹ã‚’åŠ ç®—</span>
<span class="gi">+    if (this.isAllClear()) {</span>
<span class="gi">+      this.addScore(this.getZenkeshiBonus())</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="b02ca7f">ã‚³ãƒŸãƒƒãƒˆ: b02ca7f<a class="headerlink" href="#b02ca7f" title="Permanent link">&para;</a></h2>
<h3 id="_11">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO1å®Ÿè£… - å…¨æ¶ˆã—åˆ¤å®šæ©Ÿèƒ½
- isAllClear()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€ç›¤é¢ãŒã™ã¹ã¦ç©ºã‹ã‚’åˆ¤å®š
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…¨ä½“ï¼ˆ6åˆ—x12è¡Œï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã·ã‚ˆã®æœ‰ç„¡ã‚’ç¢ºèª
- 4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- ç©ºã®ç›¤é¢ã€ã·ã‚ˆãŒã‚ã‚‹ç›¤é¢ã€æ¶ˆå»å¾Œã€è§’ã®ã·ã‚ˆãªã©ã‚’ç¶²ç¾…çš„ã«ãƒ†ã‚¹ãƒˆ
- resetScore()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’publicã«å¤‰æ›´ã—ã¦TS6133ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆ
</code></pre></div>
<h3 id="_12">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_13">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit b02ca7fe95e7498730d7fe5958ef7db380c8a85c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:54:41 2025 +0900

<span class="w"> </span>   feat: TODO1å®Ÿè£… - å…¨æ¶ˆã—åˆ¤å®šæ©Ÿèƒ½

<span class="w"> </span>   - isAllClear()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€ç›¤é¢ãŒã™ã¹ã¦ç©ºã‹ã‚’åˆ¤å®š
<span class="w"> </span>   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…¨ä½“ï¼ˆ6åˆ—x12è¡Œï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã·ã‚ˆã®æœ‰ç„¡ã‚’ç¢ºèª
<span class="w"> </span>   - 4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>   - ç©ºã®ç›¤é¢ã€ã·ã‚ˆãŒã‚ã‚‹ç›¤é¢ã€æ¶ˆå»å¾Œã€è§’ã®ã·ã‚ˆãªã©ã‚’ç¶²ç¾…çš„ã«ãƒ†ã‚¹ãƒˆ
<span class="w"> </span>   - resetScore()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’publicã«å¤‰æ›´ã—ã¦TS6133ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index fe2d86a..15c68a3 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1463,4 +1463,68 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(newPuyoPair!.axis.y).toBe(1) // åˆæœŸä½ç½®
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;å…¨æ¶ˆã—åˆ¤å®šæ©Ÿèƒ½&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ç›¤é¢ã«ã·ã‚ˆãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯å…¨æ¶ˆã—ã§ã¯ãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[10][2] = 2</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—åˆ¤å®šã‚’å®Ÿè¡Œ</span>
<span class="gi">+      expect(game.isAllClear()).toBe(false)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ç›¤é¢ãŒå®Œå…¨ã«ç©ºã®å ´åˆã¯å…¨æ¶ˆã—ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // åˆæœŸçŠ¶æ…‹ï¼ˆå…¨ã¦0ï¼‰ã§å…¨æ¶ˆã—åˆ¤å®šã‚’å®Ÿè¡Œ</span>
<span class="gi">+      expect(game.isAllClear()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ç›¤é¢ã®ã·ã‚ˆã‚’ã™ã¹ã¦æ¶ˆå»ã—ãŸå¾Œã¯å…¨æ¶ˆã—ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // æ¶ˆå»å‰ã¯å…¨æ¶ˆã—ã§ã¯ãªã„</span>
<span class="gi">+      expect(game.isAllClear()).toBe(false)</span>
<span class="gi">+</span>
<span class="gi">+      // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      game.erasePuyos()</span>
<span class="gi">+</span>
<span class="gi">+      // æ¶ˆå»å¾Œã¯å…¨æ¶ˆã—ã§ã‚ã‚‹</span>
<span class="gi">+      expect(game.isAllClear()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è§’ã«ã·ã‚ˆãŒã‚ã‚‹å ´åˆã§ã‚‚æ­£ã—ãæ¤œå‡ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å››éš…ã«ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      field[0][0] = 1 // å·¦ä¸Š</span>
<span class="gi">+      field[0][5] = 2 // å³ä¸Š</span>
<span class="gi">+      field[11][0] = 3 // å·¦ä¸‹</span>
<span class="gi">+      field[11][5] = 4 // å³ä¸‹</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—ã§ã¯ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.isAllClear()).toBe(false)</span>
<span class="gi">+</span>
<span class="gi">+      // ã™ã¹ã¦æ¶ˆå»</span>
<span class="gi">+      field[0][0] = 0</span>
<span class="gi">+      field[0][5] = 0</span>
<span class="gi">+      field[11][0] = 0</span>
<span class="gi">+      field[11][5] = 0</span>
<span class="gi">+</span>
<span class="gi">+      // å…¨æ¶ˆã—ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.isAllClear()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 9123676..d50194f 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -485,7 +485,7 @@ export class Game {</span>
<span class="w"> </span>    this.score += points
<span class="w"> </span>  }

<span class="gd">-  private resetScore(): void {</span>
<span class="gi">+  public resetScore(): void {</span>
<span class="w"> </span>    this.score = 0
<span class="w"> </span>  }

<span class="gu">@@ -500,6 +500,18 @@ export class Game {</span>
<span class="w"> </span>    const points = this.calculateErasureScore(erasedCount, chainCount)
<span class="w"> </span>    this.addScore(points)
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public isAllClear(): boolean {</span>
<span class="gi">+    // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…¨ä½“ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã€ã™ã¹ã¦ã®ã‚»ãƒ«ãŒç©ºï¼ˆ0ï¼‰ã‹ã©ã†ã‹ã‚’ç¢ºèª</span>
<span class="gi">+    for (let y = 0; y &lt; 12; y++) {</span>
<span class="gi">+      for (let x = 0; x &lt; 6; x++) {</span>
<span class="gi">+        if (this.field[y][x] !== 0) {</span>
<span class="gi">+          return false // ç©ºã§ãªã„ã‚»ãƒ«ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã¯å…¨æ¶ˆã—ã§ã¯ãªã„</span>
<span class="gi">+        }</span>
<span class="gi">+      }</span>
<span class="gi">+    }</span>
<span class="gi">+    return true // ã™ã¹ã¦ã®ã‚»ãƒ«ãŒç©ºã®å ´åˆã¯å…¨æ¶ˆã—</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="52cfc94">ã‚³ãƒŸãƒƒãƒˆ: 52cfc94<a class="headerlink" href="#52cfc94" title="Permanent link">&para;</a></h2>
<h3 id="_14">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³6å®Œäº† - é€£é–åå¿œã¨ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…
å®Œäº†ã—ãŸTODOé …ç›®:
- é€£é–åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ï¼ˆé€£ç¶šæ¶ˆå»å‡¦ç†ï¼‰
- é€£é–ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ï¼ˆ1-2é€£é–ã®è¨˜éŒ²ï¼‰
- é€£é–ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ï¼ˆæ¨™æº–å€ç‡: 1x,2x,4x,8x,16xï¼‰
- ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼ˆåŸºæœ¬ã‚¹ã‚³ã‚¢ + é€£é–ãƒœãƒ¼ãƒŠã‚¹ï¼‰
- UIã‚¹ã‚³ã‚¢è¡¨ç¤ºï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
- çµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆå®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ•ãƒ­ãƒ¼æ¤œè¨¼ï¼‰

æˆæœ:
- 83å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒã™ã¹ã¦æˆåŠŸ
- ç€åœ°â†’æ¶ˆå»â†’é€£é–â†’ã‚¹ã‚³ã‚¢è¨ˆç®—â†’UIæ›´æ–°ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼å®Ÿè£…
- ã·ã‚ˆã·ã‚ˆã‚²ãƒ¼ãƒ ã¨ã—ã¦åŸºæœ¬çš„ãªé€£é–ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ä½œ

æ¬¡å›ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³7ã§ã¯å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®å®Ÿè£…ã‚’äºˆå®š
</code></pre></div>
<h3 id="_15">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_16">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 52cfc9480b7ae4cd46e8444e88df22347fe381a2
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:51:30 2025 +0900

<span class="w"> </span>   feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³6å®Œäº† - é€£é–åå¿œã¨ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…

<span class="w"> </span>   å®Œäº†ã—ãŸTODOé …ç›®:
<span class="w"> </span>   - é€£é–åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ï¼ˆé€£ç¶šæ¶ˆå»å‡¦ç†ï¼‰
<span class="w"> </span>   - é€£é–ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ï¼ˆ1-2é€£é–ã®è¨˜éŒ²ï¼‰
<span class="w"> </span>   - é€£é–ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ï¼ˆæ¨™æº–å€ç‡: 1x,2x,4x,8x,16xï¼‰
<span class="w"> </span>   - ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ çµ±åˆï¼ˆåŸºæœ¬ã‚¹ã‚³ã‚¢ + é€£é–ãƒœãƒ¼ãƒŠã‚¹ï¼‰
<span class="w"> </span>   - UIã‚¹ã‚³ã‚¢è¡¨ç¤ºï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
<span class="w"> </span>   - çµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ ï¼ˆå®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ•ãƒ­ãƒ¼æ¤œè¨¼ï¼‰

<span class="w"> </span>   æˆæœ:
<span class="w"> </span>   - 83å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - ç€åœ°â†’æ¶ˆå»â†’é€£é–â†’ã‚¹ã‚³ã‚¢è¨ˆç®—â†’UIæ›´æ–°ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼å®Ÿè£…
<span class="w"> </span>   - ã·ã‚ˆã·ã‚ˆã‚²ãƒ¼ãƒ ã¨ã—ã¦åŸºæœ¬çš„ãªé€£é–ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ä½œ

<span class="w"> </span>   æ¬¡å›ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³7ã§ã¯å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®å®Ÿè£…ã‚’äºˆå®š

<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index a0b93bc..544fc04 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -300,27 +300,43 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] é€£é–åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒæ¶ˆãˆãŸå¾Œã«æ–°ãŸãªæ¶ˆå»ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä½•é€£é–ç›®ã‹ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] é€£é–ãƒœãƒ¼ãƒŠã‚¹ã®è¨ˆç®—ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆé€£é–æ•°ã«å¿œã˜ãŸãƒœãƒ¼ãƒŠã‚¹ç‚¹ã‚’è¨ˆç®—ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã«æ¶ˆå»ãƒ»é€£é–æ©Ÿèƒ½ã‚’çµ±åˆã™ã‚‹</span>
<span class="gi">+- [x] é€£é–åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒæ¶ˆãˆãŸå¾Œã«æ–°ãŸãªæ¶ˆå»ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä½•é€£é–ç›®ã‹ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] é€£é–ãƒœãƒ¼ãƒŠã‚¹ã®è¨ˆç®—ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆé€£é–æ•°ã«å¿œã˜ãŸãƒœãƒ¼ãƒŠã‚¹ç‚¹ã‚’è¨ˆç®—ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã«æ¶ˆå»ãƒ»é€£é–æ©Ÿèƒ½ã‚’çµ±åˆã™ã‚‹</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] é€£é–ãŒç™ºç”Ÿã—ã¦é€£é–æ•°ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] é€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨ï¼ˆ1é€£é–: 1å€, 2é€£é–: 2å€, 3é€£é–: 4å€...ï¼‰</span>
<span class="gd">-- [ ] ã‚¹ã‚³ã‚¢ã«ãƒœãƒ¼ãƒŠã‚¹ãŒé©ç”¨ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] ã·ã‚ˆé…ç½®æ™‚ã«è‡ªå‹•çš„ã«é€£é–å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] æ—¢å­˜ã®ã·ã‚ˆæ“ä½œã‚·ã‚¹ãƒ†ãƒ ã¨é€£é–ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£ã—ãé€£æºã™ã‚‹ã“ã¨</span>
<span class="gi">+- [x] é€£é–ãŒç™ºç”Ÿã—ã¦é€£é–æ•°ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] é€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨ï¼ˆ1é€£é–: 1å€, 2é€£é–: 2å€, 3é€£é–: 4å€...ï¼‰</span>
<span class="gi">+- [x] ã‚¹ã‚³ã‚¢ã«ãƒœãƒ¼ãƒŠã‚¹ãŒé©ç”¨ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] ã·ã‚ˆé…ç½®æ™‚ã«è‡ªå‹•çš„ã«é€£é–å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] æ—¢å­˜ã®ã·ã‚ˆæ“ä½œã‚·ã‚¹ãƒ†ãƒ ã¨é€£é–ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£ã—ãé€£æºã™ã‚‹ã“ã¨</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="w"> </span>**Keep**
<span class="gi">+- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§5ã¤ã®TODOé …ç›®ã‚’ã™ã¹ã¦å®Œäº†ã—ã€83å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæˆåŠŸ</span>
<span class="gi">+- é€£é–ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã«ã‚ˆã‚Š1-2é€£é–ã®æ­£ç¢ºãªè¨˜éŒ²ã¨ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…</span>
<span class="gi">+- æ¨™æº–çš„ãªã·ã‚ˆã·ã‚ˆã®é€£é–ãƒœãƒ¼ãƒŠã‚¹å€ç‡ï¼ˆ1å€â†’2å€â†’4å€â†’8å€â†’16å€ï¼‰ã‚’å®Ÿè£…</span>
<span class="gi">+- ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨çµ±åˆï¼ˆåŸºæœ¬ã‚¹ã‚³ã‚¢è¨ˆç®—ã€é€£é–ãƒœãƒ¼ãƒŠã‚¹é©ç”¨ã€ç´¯ç©ç®¡ç†ï¼‰</span>
<span class="gi">+- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªUIè¡¨ç¤ºï¼ˆã‚¹ã‚³ã‚¢ãƒ»é€£é–æ•°ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰</span>
<span class="gi">+- åŒ…æ‹¬çš„ãªçµ±åˆãƒ†ã‚¹ãƒˆã«ã‚ˆã‚Šå®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ•ãƒ­ãƒ¼ã‚’æ¤œè¨¼</span>

<span class="w"> </span>**Problem**
<span class="gi">+- è¤‡é›‘ãªé€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ3é€£é–ä»¥ä¸Šï¼‰ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆãŒå›°é›£</span>
<span class="gi">+- erasePuyos()ã®æˆ»ã‚Šå€¤å¤‰æ›´ã«ã‚ˆã‚Šæ—¢å­˜ãƒ†ã‚¹ãƒˆã®ä¿®æ­£ãŒå¿…è¦ã ã£ãŸ</span>
<span class="gi">+- é€£é–ã‚·ã‚¹ãƒ†ãƒ ã¨UIçµ±åˆã§ã®ãƒ‡ãƒãƒƒã‚°ã«æ™‚é–“ã‚’è¦ã—ãŸ</span>
<span class="gi">+- ãƒ†ã‚¹ãƒˆã§ã®anyã‚­ãƒ£ã‚¹ãƒˆä½¿ç”¨ï¼ˆ31å€‹ã®warningï¼‰ã§type safetyãŒä½ä¸‹</span>
<span class="gi">+- å®Ÿéš›ã®2é€£é–ä»¥ä¸Šã®å‹•ä½œæ¤œè¨¼ãŒä¸ååˆ†</span>

<span class="w"> </span>**Try**
<span class="gi">+- æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã™ã‚‹</span>
<span class="gi">+- é€£é–ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- ã‚ˆã‚Šè¤‡é›‘ãªé€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã®å®Ÿéš›å‹•ä½œãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã™ã‚‹</span>
<span class="gi">+- TypeScriptå‹å®‰å…¨æ€§ã®å‘ä¸Šï¼ˆanyã‚­ãƒ£ã‚¹ãƒˆå‰Šæ¸›ï¼‰ã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šï¼ˆé€£é–æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚µã‚¦ãƒ³ãƒ‰ï¼‰ã‚’æ¤œè¨ã™ã‚‹</span>

<span class="w"> </span>## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³7: å…¨æ¶ˆã—ãƒœãƒ¼ãƒŠã‚¹ã®å®Ÿè£… 
</code></pre></div>
<h2 id="dbd2745">ã‚³ãƒŸãƒƒãƒˆ: dbd2745<a class="headerlink" href="#dbd2745" title="Permanent link">&para;</a></h2>
<h3 id="_17">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO5 é€£é–ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£… - å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ•ãƒ­ãƒ¼ã§ã®é€£é–å‹•ä½œæ¤œè¨¼
- å®Œå…¨ãªé€£é–ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆï¼ˆç€åœ°â†’æ¶ˆå»â†’é€£é–â†’ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼‰ã‚’è¿½åŠ 
- åŸºæœ¬çš„ãªã‚¹ã‚³ã‚¢åŠ ç®—ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- è¤‡æ•°å›ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§ã®ã‚¹ã‚³ã‚¢ç´¯ç©ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- é€£é–ãŒç™ºç”Ÿã—ãªã„å ´åˆã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- UIæ›´æ–°ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®UIåæ˜ ï¼‰ã‚’è¿½åŠ 
- 5ã¤ã®åŒ…æ‹¬çš„ãªçµ±åˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 
- åˆè¨ˆ83å€‹ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸ
- ç€åœ°å‡¦ç†â†’é€£é–å‡¦ç†â†’ã‚¹ã‚³ã‚¢åŠ ç®—â†’UIæ›´æ–°ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ç¢ºèª
</code></pre></div>
<h3 id="_18">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
</ul>
<h3 id="_19">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit dbd2745b5dcd12986115b96a7c8955ea3142e4cd
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:50:40 2025 +0900

<span class="w"> </span>   feat: TODO5 é€£é–ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£… - å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ•ãƒ­ãƒ¼ã§ã®é€£é–å‹•ä½œæ¤œè¨¼

<span class="w"> </span>   - å®Œå…¨ãªé€£é–ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆï¼ˆç€åœ°â†’æ¶ˆå»â†’é€£é–â†’ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼‰ã‚’è¿½åŠ 
<span class="w"> </span>   - åŸºæœ¬çš„ãªã‚¹ã‚³ã‚¢åŠ ç®—ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
<span class="w"> </span>   - è¤‡æ•°å›ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§ã®ã‚¹ã‚³ã‚¢ç´¯ç©ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
<span class="w"> </span>   - é€£é–ãŒç™ºç”Ÿã—ãªã„å ´åˆã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
<span class="w"> </span>   - UIæ›´æ–°ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆã‚²ãƒ¼ãƒ çŠ¶æ…‹ã®UIåæ˜ ï¼‰ã‚’è¿½åŠ 
<span class="w"> </span>   - 5ã¤ã®åŒ…æ‹¬çš„ãªçµ±åˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 
<span class="w"> </span>   - åˆè¨ˆ83å€‹ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - ç€åœ°å‡¦ç†â†’é€£é–å‡¦ç†â†’ã‚¹ã‚³ã‚¢åŠ ç®—â†’UIæ›´æ–°ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ç¢ºèª

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 7e8b905..fe2d86a 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1264,4 +1264,203 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(game.getScore()).toBe(40) // 4 * 10 * 1
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;é€£é–ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ†ã‚¹ãƒˆ&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;å®Œå…¨ãªé€£é–ã‚·ãƒŠãƒªã‚ªï¼šç€åœ°â†’æ¶ˆå»â†’é€£é–â†’ã‚¹ã‚³ã‚¢è¨ˆç®—ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // ç¢ºå®Ÿãª2é€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®š</span>
<span class="gi">+      // 1é€£é–ç›®ï¼šåº•éƒ¨ã®èµ¤4ã¤ï¼ˆæ¨ªä¸€åˆ—ï¼‰</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+      field[11][4] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // 2é€£é–ç›®ï¼šé’4ã¤ï¼ˆèµ¤ãŒæ¶ˆãˆãŸå¾Œã«è½ä¸‹ã—ã¦é€£é–ï¼‰</span>
<span class="gi">+      field[10][1] = 2 // è½ä¸‹å¾Œ: [11][1]</span>
<span class="gi">+      field[10][2] = 2 // è½ä¸‹å¾Œ: [11][2]</span>
<span class="gi">+      field[9][3] = 2 // è½ä¸‹å¾Œ: [11][3]</span>
<span class="gi">+      field[9][4] = 2 // è½ä¸‹å¾Œ: [11][4]</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãƒšã‚¢ç€åœ°ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼ˆé€£é–ã«å½±éŸ¿ã—ãªã„ä½ç½®ãƒ»è‰²ï¼‰</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 3</span>
<span class="gi">+      puyoPair.satellite.color = 4</span>
<span class="gi">+      puyoPair.axis.x = 5</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 0</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // 2é€£é–ãŒç™ºç”Ÿã—ãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainCount()).toBe(2)</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒæ­£ã—ãè¨ˆç®—ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // 1é€£é–ç›®: 4å€‹ * 10 * 1 = 40ç‚¹</span>
<span class="gi">+      // 2é€£é–ç›®: 4å€‹ * 10 * 2 = 80ç‚¹</span>
<span class="gi">+      // åˆè¨ˆ: 120ç‚¹</span>
<span class="gi">+      expect(game.getScore()).toBe(120)</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°ã—ãŸã·ã‚ˆãƒšã‚¢ã¯æ®‹ã£ã¦ã„ã‚‹</span>
<span class="gi">+      expect(field[11][5]).toBe(3)</span>
<span class="gi">+      expect(field[11][0]).toBe(4)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;åŸºæœ¬çš„ãªã‚¹ã‚³ã‚¢åŠ ç®—ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚·ãƒ³ãƒ—ãƒ«ãª1é€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®š</span>
<span class="gi">+      field[11][0] = 1 // èµ¤</span>
<span class="gi">+      field[11][1] = 1 // èµ¤</span>
<span class="gi">+      field[11][2] = 1 // èµ¤</span>
<span class="gi">+      field[11][3] = 1 // èµ¤</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãƒšã‚¢ã®ç€åœ°ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼ˆé€£é–ã«å½±éŸ¿ã—ãªã„è‰²ã¨ä½ç½®ï¼‰</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 2 // é’è‰²</span>
<span class="gi">+      puyoPair.satellite.color = 3 // ç·‘è‰²</span>
<span class="gi">+      puyoPair.axis.x = 5</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 4</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°å‡¦ç†å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // 1é€£é–ãŒç™ºç”Ÿã—ãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainCount()).toBe(1)</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒæ­£ã—ãè¨ˆç®—ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // 1é€£é–ç›®: 4å€‹ * 10 * 1 = 40ç‚¹</span>
<span class="gi">+      expect(game.getScore()).toBe(40)</span>
<span class="gi">+</span>
<span class="gi">+      // èµ¤ã„ã·ã‚ˆãŒæ¶ˆå»ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(field[11][0]).toBe(0)</span>
<span class="gi">+      expect(field[11][1]).toBe(0)</span>
<span class="gi">+      expect(field[11][2]).toBe(0)</span>
<span class="gi">+      expect(field[11][3]).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°ã—ãŸã·ã‚ˆãƒšã‚¢ã¯æ®‹ã£ã¦ã„ã‚‹</span>
<span class="gi">+      expect(field[11][5]).toBe(2) // è»¸ã·ã‚ˆï¼ˆé’ï¼‰</span>
<span class="gi">+      expect(field[11][4]).toBe(3) // è¡›æ˜Ÿã·ã‚ˆï¼ˆç·‘ï¼‰</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;è¤‡æ•°å›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§ã‚¹ã‚³ã‚¢ãŒç´¯ç©ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // 1å›ç›®ã®ã·ã‚ˆç€åœ°ã¨æ¶ˆå»</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // 1å›ç›®ã®ç€åœ°å‡¦ç†</span>
<span class="gi">+      let puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 2</span>
<span class="gi">+      puyoPair.satellite.color = 3</span>
<span class="gi">+      puyoPair.axis.x = 5</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 4</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      const firstScore = game.getScore()</span>
<span class="gi">+      expect(firstScore).toBe(40) // 4 * 10 * 1</span>
<span class="gi">+</span>
<span class="gi">+      // 2å›ç›®ã®ã·ã‚ˆç€åœ°ã¨æ¶ˆå»ï¼ˆæ–°ã—ã„ã·ã‚ˆãƒšã‚¢ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ï¼‰</span>
<span class="gi">+      field[11][0] = 2</span>
<span class="gi">+      field[11][1] = 2</span>
<span class="gi">+      field[10][0] = 2</span>
<span class="gi">+      field[10][1] = 2</span>
<span class="gi">+</span>
<span class="gi">+      // 2å›ç›®ã®ç€åœ°å‡¦ç†</span>
<span class="gi">+      puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 3</span>
<span class="gi">+      puyoPair.satellite.color = 4</span>
<span class="gi">+      puyoPair.axis.x = 3</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 2</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒç´¯ç©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      const totalScore = game.getScore()</span>
<span class="gi">+      expect(totalScore).toBe(80) // 40 + (4 * 10 * 1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é€£é–ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯ã‚¹ã‚³ã‚¢ã«å½±éŸ¿ã—ãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // æ¶ˆå»ã•ã‚Œãªã„é…ç½®ï¼ˆ3ã¤ä»¥ä¸‹ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãƒšã‚¢ç€åœ°ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 2</span>
<span class="gi">+      puyoPair.satellite.color = 3</span>
<span class="gi">+      puyoPair.axis.x = 5</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 4</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ãŒç™ºç”Ÿã—ã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainCount()).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒå¤‰åŒ–ã—ã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getScore()).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãŒæ¶ˆå»ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(field[11][0]).toBe(1)</span>
<span class="gi">+      expect(field[11][1]).toBe(1)</span>
<span class="gi">+      expect(field[11][2]).toBe(1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;UIæ›´æ–°ã¨ã®çµ±åˆï¼šã‚²ãƒ¼ãƒ çŠ¶æ…‹ãŒUIã«æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // åˆæœŸçŠ¶æ…‹ã®ç¢ºèª</span>
<span class="gi">+      expect(game.getScore()).toBe(0)</span>
<span class="gi">+      expect(game.getChainCount()).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®š</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãƒšã‚¢ç€åœ°ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 2</span>
<span class="gi">+      puyoPair.satellite.color = 3</span>
<span class="gi">+      puyoPair.axis.x = 5</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 4</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚²ãƒ¼ãƒ çŠ¶æ…‹ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getScore()).toBeGreaterThan(0) // ã‚¹ã‚³ã‚¢ãŒåŠ ç®—ã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+      expect(game.getChainCount()).toBe(1) // 1é€£é–ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+</span>
<span class="gi">+      // æ–°ã—ã„ã·ã‚ˆãƒšã‚¢ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      const newPuyoPair = game.getCurrentPuyoPair()</span>
<span class="gi">+      expect(newPuyoPair).not.toBeNull()</span>
<span class="gi">+      expect(newPuyoPair!.axis.x).toBe(2) // åˆæœŸä½ç½®</span>
<span class="gi">+      expect(newPuyoPair!.axis.y).toBe(1) // åˆæœŸä½ç½®</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
</code></pre></div>
<h2 id="c9ec8bc">ã‚³ãƒŸãƒƒãƒˆ: c9ec8bc<a class="headerlink" href="#c9ec8bc" title="Permanent link">&para;</a></h2>
<h3 id="_20">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO4 ã‚¹ã‚³ã‚¢è¡¨ç¤ºã®UIå®Ÿè£… - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤º
- HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã€Œã‚¹ã‚³ã‚¢ã€ã¨ã€Œé€£é–æ•°ã€ã®è¡¨ç¤ºã‚¨ãƒªã‚¢ã‚’è¿½åŠ 
- game-containerã§ã‚­ãƒ£ãƒ³ãƒã‚¹ã¨æƒ…å ±ãƒ‘ãƒãƒ«ã‚’æ¨ªä¸¦ã³é…ç½®
- updateUI()é–¢æ•°ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ã‚³ã‚¢ãƒ»é€£é–æ•°æ›´æ–°
- draw()é–¢æ•°ã«updateUI()ã‚’çµ±åˆã—ã¦è‡ªå‹•æ›´æ–°
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ã‚¹ã‚¿ã‚¤ãƒ«è¨­è¨ˆï¼ˆãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰
- ãƒ¢ãƒã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚©ãƒ³ãƒˆã§ã‚¹ã‚³ã‚¢æ•°å€¤ã‚’è¦‹ã‚„ã™ãè¡¨ç¤º
- 78å€‹ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸã‚’ç¶­æŒ
</code></pre></div>
<h3 id="_21">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/main.ts</li>
<li>M app/src/style.css</li>
</ul>
<h3 id="_22">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit c9ec8bcebbe8334ed6a527b89e4d37e175cbb737
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:44:40 2025 +0900

<span class="w"> </span>   feat: TODO4 ã‚¹ã‚³ã‚¢è¡¨ç¤ºã®UIå®Ÿè£… - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤º

<span class="w"> </span>   - HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã€Œã‚¹ã‚³ã‚¢ã€ã¨ã€Œé€£é–æ•°ã€ã®è¡¨ç¤ºã‚¨ãƒªã‚¢ã‚’è¿½åŠ 
<span class="w"> </span>   - game-containerã§ã‚­ãƒ£ãƒ³ãƒã‚¹ã¨æƒ…å ±ãƒ‘ãƒãƒ«ã‚’æ¨ªä¸¦ã³é…ç½®
<span class="w"> </span>   - updateUI()é–¢æ•°ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ã‚³ã‚¢ãƒ»é€£é–æ•°æ›´æ–°
<span class="w"> </span>   - draw()é–¢æ•°ã«updateUI()ã‚’çµ±åˆã—ã¦è‡ªå‹•æ›´æ–°
<span class="w"> </span>   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ã‚¹ã‚¿ã‚¤ãƒ«è¨­è¨ˆï¼ˆãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰
<span class="w"> </span>   - ãƒ¢ãƒã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚©ãƒ³ãƒˆã§ã‚¹ã‚³ã‚¢æ•°å€¤ã‚’è¦‹ã‚„ã™ãè¡¨ç¤º
<span class="w"> </span>   - 78å€‹ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸã‚’ç¶­æŒ

<span class="gh">diff --git a/app/src/main.ts b/app/src/main.ts</span>
<span class="gh">index 1a882c7..7da9455 100644</span>
<span class="gd">--- a/app/src/main.ts</span>
<span class="gi">+++ b/app/src/main.ts</span>
<span class="gu">@@ -4,7 +4,19 @@ import { Game } from &#39;./Game&#39;</span>
<span class="w"> </span>document.querySelector&lt;HTMLDivElement&gt;(&#39;#app&#39;)!.innerHTML = `
<span class="w"> </span>  &lt;div&gt;
<span class="w"> </span>    &lt;h1&gt;ã·ã‚ˆã·ã‚ˆã‚²ãƒ¼ãƒ &lt;/h1&gt;
<span class="gd">-    &lt;canvas id=&quot;game-canvas&quot; width=&quot;240&quot; height=&quot;480&quot;&gt;&lt;/canvas&gt;</span>
<span class="gi">+    &lt;div class=&quot;game-container&quot;&gt;</span>
<span class="gi">+      &lt;canvas id=&quot;game-canvas&quot; width=&quot;240&quot; height=&quot;480&quot;&gt;&lt;/canvas&gt;</span>
<span class="gi">+      &lt;div class=&quot;game-info&quot;&gt;</span>
<span class="gi">+        &lt;div class=&quot;score-display&quot;&gt;</span>
<span class="gi">+          &lt;h3&gt;ã‚¹ã‚³ã‚¢&lt;/h3&gt;</span>
<span class="gi">+          &lt;div id=&quot;score-value&quot;&gt;0&lt;/div&gt;</span>
<span class="gi">+        &lt;/div&gt;</span>
<span class="gi">+        &lt;div class=&quot;chain-display&quot;&gt;</span>
<span class="gi">+          &lt;h3&gt;é€£é–æ•°&lt;/h3&gt;</span>
<span class="gi">+          &lt;div id=&quot;chain-value&quot;&gt;0&lt;/div&gt;</span>
<span class="gi">+        &lt;/div&gt;</span>
<span class="gi">+      &lt;/div&gt;</span>
<span class="gi">+    &lt;/div&gt;</span>
<span class="w"> </span>    &lt;div class=&quot;controls&quot;&gt;
<span class="w"> </span>      &lt;p&gt;æ“ä½œæ–¹æ³•:&lt;/p&gt;
<span class="w"> </span>      &lt;p&gt;â†â†’: ç§»å‹•, â†‘: å›è»¢, â†“: é«˜é€Ÿè½ä¸‹&lt;/p&gt;
<span class="gu">@@ -16,6 +28,8 @@ document.querySelector&lt;HTMLDivElement&gt;(&#39;#app&#39;)!.innerHTML = `</span>
<span class="w"> </span>const canvas = document.querySelector&lt;HTMLCanvasElement&gt;(&#39;#game-canvas&#39;)!
<span class="w"> </span>const ctx = canvas.getContext(&#39;2d&#39;)!
<span class="w"> </span>const game = new Game()
<span class="gi">+const scoreElement = document.querySelector&lt;HTMLDivElement&gt;(&#39;#score-value&#39;)!</span>
<span class="gi">+const chainElement = document.querySelector&lt;HTMLDivElement&gt;(&#39;#chain-value&#39;)!</span>

<span class="w"> </span>// ã‚»ãƒ«ã‚µã‚¤ã‚ºï¼ˆå„ãƒã‚¹ã®å¤§ãã•ï¼‰
<span class="w"> </span>const CELL_SIZE = 40
<span class="gu">@@ -80,10 +94,20 @@ function drawPuyoCell(x: number, y: number, color: number) {</span>
<span class="w"> </span>  ctx.strokeRect(x * CELL_SIZE + 2, y * CELL_SIZE + 2, CELL_SIZE - 4, CELL_SIZE - 4)
<span class="w"> </span>}

<span class="gi">+// UIã‚’æ›´æ–°ã™ã‚‹é–¢æ•°</span>
<span class="gi">+function updateUI() {</span>
<span class="gi">+  // ã‚¹ã‚³ã‚¢ã‚’æ›´æ–°</span>
<span class="gi">+  scoreElement.textContent = game.getScore().toString()</span>
<span class="gi">+</span>
<span class="gi">+  // é€£é–æ•°ã‚’æ›´æ–°</span>
<span class="gi">+  chainElement.textContent = game.getChainCount().toString()</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="w"> </span>// ã‚²ãƒ¼ãƒ ã‚’æç”»ã™ã‚‹é–¢æ•°
<span class="w"> </span>function draw() {
<span class="w"> </span>  drawField()
<span class="w"> </span>  drawCurrentPuyo()
<span class="gi">+  updateUI()</span>
<span class="w"> </span>}

<span class="w"> </span>// ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ç”¨ã®å¤‰æ•°
<span class="gh">diff --git a/app/src/style.css b/app/src/style.css</span>
<span class="gh">index 3bcdbd0..e8002c9 100644</span>
<span class="gd">--- a/app/src/style.css</span>
<span class="gi">+++ b/app/src/style.css</span>
<span class="gu">@@ -82,6 +82,61 @@ button:focus-visible {</span>
<span class="w"> </span>  outline: 4px auto -webkit-focus-ring-color;
<span class="w"> </span>}

<span class="gi">+/* ã‚²ãƒ¼ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */</span>
<span class="gi">+.game-container {</span>
<span class="gi">+  display: flex;</span>
<span class="gi">+  gap: 2rem;</span>
<span class="gi">+  justify-content: center;</span>
<span class="gi">+  align-items: flex-start;</span>
<span class="gi">+  margin: 2rem 0;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+#game-canvas {</span>
<span class="gi">+  border: 2px solid #646cff;</span>
<span class="gi">+  border-radius: 8px;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.game-info {</span>
<span class="gi">+  display: flex;</span>
<span class="gi">+  flex-direction: column;</span>
<span class="gi">+  gap: 1rem;</span>
<span class="gi">+  min-width: 120px;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.score-display,</span>
<span class="gi">+.chain-display {</span>
<span class="gi">+  background-color: #1a1a1a;</span>
<span class="gi">+  border: 1px solid #646cff;</span>
<span class="gi">+  border-radius: 8px;</span>
<span class="gi">+  padding: 1rem;</span>
<span class="gi">+  text-align: center;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.score-display h3,</span>
<span class="gi">+.chain-display h3 {</span>
<span class="gi">+  margin: 0 0 0.5rem 0;</span>
<span class="gi">+  font-size: 1rem;</span>
<span class="gi">+  color: #646cff;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+#score-value,</span>
<span class="gi">+#chain-value {</span>
<span class="gi">+  font-size: 1.5rem;</span>
<span class="gi">+  font-weight: bold;</span>
<span class="gi">+  color: #ffffff;</span>
<span class="gi">+  font-family: &#39;Courier New&#39;, monospace;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.controls {</span>
<span class="gi">+  margin-top: 2rem;</span>
<span class="gi">+  text-align: center;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="gi">+.controls p {</span>
<span class="gi">+  margin: 0.5rem 0;</span>
<span class="gi">+  color: #888;</span>
<span class="gi">+}</span>
<span class="gi">+</span>
<span class="w"> </span>@media (prefers-color-scheme: light) {
<span class="w"> </span>  :root {
<span class="w"> </span>    color: #213547;
<span class="gu">@@ -93,4 +148,15 @@ button:focus-visible {</span>
<span class="w"> </span>  button {
<span class="w"> </span>    background-color: #f9f9f9;
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  .score-display,</span>
<span class="gi">+  .chain-display {</span>
<span class="gi">+    background-color: #f9f9f9;</span>
<span class="gi">+    border-color: #646cff;</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  #score-value,</span>
<span class="gi">+  #chain-value {</span>
<span class="gi">+    color: #213547;</span>
<span class="gi">+  }</span>
<span class="w"> </span>}
</code></pre></div>
<h2 id="a726128">ã‚³ãƒŸãƒƒãƒˆ: a726128<a class="headerlink" href="#a726128" title="Permanent link">&para;</a></h2>
<h3 id="_23">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO3 ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£… - åŸºæœ¬ã‚¹ã‚³ã‚¢ã¨é€£é–ãƒœãƒ¼ãƒŠã‚¹ã®ç®¡ç†
- scoreãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã«0ã§åˆæœŸåŒ–
- getScore()ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¹ã‚³ã‚¢å–å¾—æ©Ÿèƒ½ã‚’å®Ÿè£…
- addScore()ã€resetScore()ã§ã‚¹ã‚³ã‚¢ç®¡ç†æ©Ÿèƒ½ã‚’å®Ÿè£…
- calculateErasureScore()ã§æ¶ˆå»æ™‚ã‚¹ã‚³ã‚¢è¨ˆç®—æ©Ÿèƒ½ã‚’å®Ÿè£…
- addErasureScore()ã§æ¶ˆå»æ™‚ã‚¹ã‚³ã‚¢åŠ ç®—æ©Ÿèƒ½ã‚’å®Ÿè£…
- erasePuyos()ã®æˆ»ã‚Šå€¤ã‚’æ¶ˆå»æ•°ã«å¤‰æ›´
- processChain()ã«è‡ªå‹•ã‚¹ã‚³ã‚¢åŠ ç®—æ©Ÿèƒ½ã‚’çµ±åˆ
- 6ã¤ã®ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 
- åˆè¨ˆ78å€‹ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸ
</code></pre></div>
<h3 id="_24">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_25">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit a726128b9e3d61185e684fa3adde8501117da68c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:40:38 2025 +0900

<span class="w"> </span>   feat: TODO3 ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£… - åŸºæœ¬ã‚¹ã‚³ã‚¢ã¨é€£é–ãƒœãƒ¼ãƒŠã‚¹ã®ç®¡ç†

<span class="w"> </span>   - scoreãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã«0ã§åˆæœŸåŒ–
<span class="w"> </span>   - getScore()ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¹ã‚³ã‚¢å–å¾—æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - addScore()ã€resetScore()ã§ã‚¹ã‚³ã‚¢ç®¡ç†æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - calculateErasureScore()ã§æ¶ˆå»æ™‚ã‚¹ã‚³ã‚¢è¨ˆç®—æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - addErasureScore()ã§æ¶ˆå»æ™‚ã‚¹ã‚³ã‚¢åŠ ç®—æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - erasePuyos()ã®æˆ»ã‚Šå€¤ã‚’æ¶ˆå»æ•°ã«å¤‰æ›´
<span class="w"> </span>   - processChain()ã«è‡ªå‹•ã‚¹ã‚³ã‚¢åŠ ç®—æ©Ÿèƒ½ã‚’çµ±åˆ
<span class="w"> </span>   - 6ã¤ã®ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 
<span class="w"> </span>   - åˆè¨ˆ78å€‹ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦æˆåŠŸ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index f2775d5..7e8b905 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -717,8 +717,8 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        field[11][4] = 1
<span class="w"> </span>        field[10][2] = 1

<span class="gd">-        const erased = game.erasePuyos()</span>
<span class="gd">-        expect(erased).toBe(true) // æ¶ˆå»ãŒå®Ÿè¡Œã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        const erasedCount = game.erasePuyos()</span>
<span class="gi">+        expect(erasedCount).toBe(4) // 4ã¤ã®ã·ã‚ˆãŒæ¶ˆå»ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>

<span class="w"> </span>        // æ¶ˆå»ã•ã‚ŒãŸã‚»ãƒ«ãŒç©ºã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>        expect(field[11][2]).toBe(0)
<span class="gu">@@ -734,8 +734,8 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        field[11][3] = 1
<span class="w"> </span>        field[11][4] = 1

<span class="gd">-        const erased = game.erasePuyos()</span>
<span class="gd">-        expect(erased).toBe(false) // æ¶ˆå»ãŒå®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        const erasedCount = game.erasePuyos()</span>
<span class="gi">+        expect(erasedCount).toBe(0) // æ¶ˆå»ãŒå®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸã“ã¨ã‚’ç¢ºèª</span>

<span class="w"> </span>        // ã·ã‚ˆãŒãã®ã¾ã¾æ®‹ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>        expect(field[11][2]).toBe(1)
<span class="gu">@@ -757,8 +757,8 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        field[10][4] = 2
<span class="w"> </span>        field[10][5] = 2

<span class="gd">-        const erased = game.erasePuyos()</span>
<span class="gd">-        expect(erased).toBe(true)</span>
<span class="gi">+        const erasedCount = game.erasePuyos()</span>
<span class="gi">+        expect(erasedCount).toBe(8) // 8ã¤ã®ã·ã‚ˆãŒæ¶ˆå»ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>

<span class="w"> </span>        // ä¸¡æ–¹ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒæ¶ˆå»ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>        expect(field[11][0]).toBe(0)
<span class="gu">@@ -784,8 +784,8 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        field[11][5] = 2
<span class="w"> </span>        field[10][4] = 2

<span class="gd">-        const erased = game.erasePuyos()</span>
<span class="gd">-        expect(erased).toBe(true)</span>
<span class="gi">+        const erasedCount = game.erasePuyos()</span>
<span class="gi">+        expect(erasedCount).toBe(4) // 4ã¤ã®ã·ã‚ˆãŒæ¶ˆå»ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>

<span class="w"> </span>        // èµ¤ã„ã·ã‚ˆã¯æ¶ˆå»ã•ã‚Œã¦ã„ã‚‹
<span class="w"> </span>        expect(field[11][0]).toBe(0)
<span class="gu">@@ -1191,4 +1191,77 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(game.calculateChainScore(baseScore, 5)).toBe(1600) // 100 * 16
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ &#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã®ã‚¹ã‚³ã‚¢ãŒ0ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      expect(game.getScore()).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ã‚¹ã‚³ã‚¢ã‚’åŠ ç®—ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      ;(game as any).addScore(100)</span>
<span class="gi">+      expect(game.getScore()).toBe(100)</span>
<span class="gi">+      ;(game as any).addScore(50)</span>
<span class="gi">+      expect(game.getScore()).toBe(150)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é€£é–æ•°ã«å¿œã˜ãŸã‚¹ã‚³ã‚¢ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const erasedCount = 4 // 4ã¤ã®ã·ã‚ˆãŒæ¶ˆå»ã•ã‚ŒãŸ</span>
<span class="gi">+</span>
<span class="gi">+      // 1é€£é–æ™‚ã®ã‚¹ã‚³ã‚¢è¨ˆç®—</span>
<span class="gi">+      const score1Chain = game.calculateErasureScore(erasedCount, 1)</span>
<span class="gi">+      expect(score1Chain).toBe(40) // 4 * 10 * 1</span>
<span class="gi">+</span>
<span class="gi">+      // 2é€£é–æ™‚ã®ã‚¹ã‚³ã‚¢è¨ˆç®—</span>
<span class="gi">+      const score2Chain = game.calculateErasureScore(erasedCount, 2)</span>
<span class="gi">+      expect(score2Chain).toBe(80) // 4 * 10 * 2</span>
<span class="gi">+</span>
<span class="gi">+      // 3é€£é–æ™‚ã®ã‚¹ã‚³ã‚¢è¨ˆç®—</span>
<span class="gi">+      const score3Chain = game.calculateErasureScore(erasedCount, 3)</span>
<span class="gi">+      expect(score3Chain).toBe(160) // 4 * 10 * 4</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;è¤‡æ•°å›ã®æ¶ˆå»ã§ã‚¹ã‚³ã‚¢ãŒç´¯ç©ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 1å›ç›®ã®æ¶ˆå»ï¼ˆ4å€‹ã€1é€£é–ï¼‰</span>
<span class="gi">+      ;(game as any).addErasureScore(4, 1)</span>
<span class="gi">+      expect(game.getScore()).toBe(40) // 4 * 10 * 1</span>
<span class="gi">+</span>
<span class="gi">+      // 2å›ç›®ã®æ¶ˆå»ï¼ˆ5å€‹ã€2é€£é–ï¼‰</span>
<span class="gi">+      ;(game as any).addErasureScore(5, 2)</span>
<span class="gi">+      expect(game.getScore()).toBe(140) // 40 + (5 * 10 * 2)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ã‚¹ã‚³ã‚¢ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      ;(game as any).addScore(500)</span>
<span class="gi">+      expect(game.getScore()).toBe(500)</span>
<span class="gi">+      ;(game as any).resetScore()</span>
<span class="gi">+      expect(game.getScore()).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;æ¶ˆå»æ™‚ã«è‡ªå‹•çš„ã«ã‚¹ã‚³ã‚¢ãŒåŠ ç®—ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // 4ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // ã‚¹ã‚³ã‚¢ãŒè‡ªå‹•çš„ã«åŠ ç®—ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getScore()).toBe(40) // 4 * 10 * 1</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 9b601a2..9123676 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -9,6 +9,7 @@ export class Game {</span>
<span class="w"> </span>  private fastDropTimer = 0
<span class="w"> </span>  private fastDropInterval = 50 // é«˜é€Ÿè½ä¸‹ã¯50msã”ã¨
<span class="w"> </span>  private chainCount = 0 // é€£é–æ•°
<span class="gi">+  private score = 0 // ç¾åœ¨ã®ã‚¹ã‚³ã‚¢</span>

<span class="w"> </span>  constructor() {
<span class="w"> </span>    // 6åˆ—x12è¡Œã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–
<span class="gu">@@ -374,12 +375,18 @@ export class Game {</span>
<span class="w"> </span>    return result
<span class="w"> </span>  }

<span class="gd">-  public erasePuyos(): boolean {</span>
<span class="gi">+  public erasePuyos(): number {</span>
<span class="w"> </span>    const erasableGroups = this.findErasableGroups()

<span class="gd">-    // æ¶ˆå»å¯¾è±¡ã‚°ãƒ«ãƒ¼ãƒ—ãŒãªã„å ´åˆã¯falseã‚’è¿”ã™</span>
<span class="gi">+    // æ¶ˆå»å¯¾è±¡ã‚°ãƒ«ãƒ¼ãƒ—ãŒãªã„å ´åˆã¯0ã‚’è¿”ã™</span>
<span class="w"> </span>    if (erasableGroups.length === 0) {
<span class="gd">-      return false</span>
<span class="gi">+      return 0</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    // æ¶ˆå»ã•ã‚Œã‚‹ã·ã‚ˆã®ç·æ•°ã‚’è¨ˆç®—</span>
<span class="gi">+    let totalErasedCount = 0</span>
<span class="gi">+    for (const group of erasableGroups) {</span>
<span class="gi">+      totalErasedCount += group.length</span>
<span class="w"> </span>    }

<span class="w"> </span>    // æ¶ˆå»å¯¾è±¡ã®ã·ã‚ˆã‚’ã™ã¹ã¦æ¶ˆå»ï¼ˆ0ã«ã‚»ãƒƒãƒˆï¼‰
<span class="gu">@@ -389,7 +396,7 @@ export class Game {</span>
<span class="w"> </span>      }
<span class="w"> </span>    }

<span class="gd">-    return true</span>
<span class="gi">+    return totalErasedCount</span>
<span class="w"> </span>  }

<span class="w"> </span>  public applyGravity(): void {
<span class="gu">@@ -420,16 +427,19 @@ export class Game {</span>
<span class="w"> </span>    // é€£é–å‡¦ç†ï¼šæ¶ˆå»ã§ãã‚‹ã·ã‚ˆãŒã‚ã‚‹é™ã‚Šç¹°ã‚Šè¿”ã™
<span class="w"> </span>    while (true) {
<span class="w"> </span>      // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="gd">-      const erased = this.erasePuyos()</span>
<span class="gi">+      const erasedCount = this.erasePuyos()</span>

<span class="w"> </span>      // æ¶ˆå»ã•ã‚Œã‚‹ã·ã‚ˆãŒãªã„å ´åˆã¯é€£é–çµ‚äº†
<span class="gd">-      if (!erased) {</span>
<span class="gi">+      if (erasedCount === 0) {</span>
<span class="w"> </span>        break
<span class="w"> </span>      }

<span class="w"> </span>      // é€£é–æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
<span class="w"> </span>      this.chainCount++

<span class="gi">+      // ã‚¹ã‚³ã‚¢ã‚’åŠ ç®—</span>
<span class="gi">+      this.addErasureScore(erasedCount, this.chainCount)</span>
<span class="gi">+</span>
<span class="w"> </span>      // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="w"> </span>      this.applyGravity()
<span class="w"> </span>    }
<span class="gu">@@ -466,6 +476,30 @@ export class Game {</span>
<span class="w"> </span>    // åŸºæœ¬ã‚¹ã‚³ã‚¢ã«é€£é–ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨
<span class="w"> </span>    return baseScore * this.getChainBonus(chainCount)
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public getScore(): number {</span>
<span class="gi">+    return this.score</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private addScore(points: number): void {</span>
<span class="gi">+    this.score += points</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private resetScore(): void {</span>
<span class="gi">+    this.score = 0</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  public calculateErasureScore(erasedCount: number, chainCount: number): number {</span>
<span class="gi">+    // åŸºæœ¬ã‚¹ã‚³ã‚¢: æ¶ˆå»ã—ãŸã·ã‚ˆæ•° Ã— 10ç‚¹</span>
<span class="gi">+    const baseScore = erasedCount * 10</span>
<span class="gi">+    // é€£é–ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨</span>
<span class="gi">+    return this.calculateChainScore(baseScore, chainCount)</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private addErasureScore(erasedCount: number, chainCount: number): void {</span>
<span class="gi">+    const points = this.calculateErasureScore(erasedCount, chainCount)</span>
<span class="gi">+    this.addScore(points)</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="497a6f8">ã‚³ãƒŸãƒƒãƒˆ: 497a6f8<a class="headerlink" href="#497a6f8" title="Permanent link">&para;</a></h2>
<h3 id="_26">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO2 - é€£é–ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ã‚’å®Ÿè£…
- getChainBonus()ã§é€£é–æ•°ã«å¿œã˜ãŸãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’è¨ˆç®—
- 1é€£é–:1å€, 2é€£é–:2å€, 3é€£é–:4å€, 4é€£é–:8å€, 5é€£é–ä»¥ä¸Š:16å€
- calculateChainScore()ã§åŸºæœ¬ã‚¹ã‚³ã‚¢ã«é€£é–ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨
- 7ã¤ã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å„é€£é–ãƒ¬ãƒ™ãƒ«ã‚’æ¤œè¨¼
- ã·ã‚ˆã·ã‚ˆæ¨™æº–ã®é€£é–ãƒœãƒ¼ãƒŠã‚¹ä»•æ§˜ã«æº–æ‹ 
</code></pre></div>
<h3 id="_27">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_28">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 497a6f89f6f50f691b8661f777deda50877067a1
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:36:28 2025 +0900

<span class="w"> </span>   feat: TODO2 - é€£é–ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—ã‚’å®Ÿè£…

<span class="w"> </span>   - getChainBonus()ã§é€£é–æ•°ã«å¿œã˜ãŸãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’è¨ˆç®—
<span class="w"> </span>   - 1é€£é–:1å€, 2é€£é–:2å€, 3é€£é–:4å€, 4é€£é–:8å€, 5é€£é–ä»¥ä¸Š:16å€
<span class="w"> </span>   - calculateChainScore()ã§åŸºæœ¬ã‚¹ã‚³ã‚¢ã«é€£é–ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨
<span class="w"> </span>   - 7ã¤ã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å„é€£é–ãƒ¬ãƒ™ãƒ«ã‚’æ¤œè¨¼
<span class="w"> </span>   - ã·ã‚ˆã·ã‚ˆæ¨™æº–ã®é€£é–ãƒœãƒ¼ãƒŠã‚¹ä»•æ§˜ã«æº–æ‹ 

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 4eb8722..f2775d5 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1133,4 +1133,62 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(game.getChainCount()).toBe(0)
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;é€£é–ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;1é€£é–ã®ã¨ãé€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒ1å€ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 1é€£é–ã®ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainBonus(1)).toBe(1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;2é€£é–ã®ã¨ãé€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒ2å€ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 2é€£é–ã®ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainBonus(2)).toBe(2)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;3é€£é–ã®ã¨ãé€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒ4å€ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 3é€£é–ã®ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainBonus(3)).toBe(4)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;4é€£é–ã®ã¨ãé€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒ8å€ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 4é€£é–ã®ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainBonus(4)).toBe(8)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;5é€£é–ä»¥ä¸Šã®ã¨ãé€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒ16å€ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 5é€£é–ä»¥ä¸Šã®ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainBonus(5)).toBe(16)</span>
<span class="gi">+      expect(game.getChainBonus(10)).toBe(16)</span>
<span class="gi">+      expect(game.getChainBonus(99)).toBe(16)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;0é€£é–ã®ã¨ãé€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒ1å€ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // 0é€£é–ï¼ˆé€£é–ãªã—ï¼‰ã®ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainBonus(0)).toBe(1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;åŸºæœ¬ã‚¹ã‚³ã‚¢ã«é€£é–ãƒœãƒ¼ãƒŠã‚¹ãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const baseScore = 100</span>
<span class="gi">+</span>
<span class="gi">+      // å„é€£é–æ•°ã§ã®ã‚¹ã‚³ã‚¢è¨ˆç®—ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.calculateChainScore(baseScore, 1)).toBe(100) // 100 * 1</span>
<span class="gi">+      expect(game.calculateChainScore(baseScore, 2)).toBe(200) // 100 * 2</span>
<span class="gi">+      expect(game.calculateChainScore(baseScore, 3)).toBe(400) // 100 * 4</span>
<span class="gi">+      expect(game.calculateChainScore(baseScore, 4)).toBe(800) // 100 * 8</span>
<span class="gi">+      expect(game.calculateChainScore(baseScore, 5)).toBe(1600) // 100 * 16</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 30355e8..9b601a2 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -442,6 +442,30 @@ export class Game {</span>
<span class="w"> </span>  private resetChainCount(): void {
<span class="w"> </span>    this.chainCount = 0
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public getChainBonus(chainCount: number): number {</span>
<span class="gi">+    // é€£é–ãƒœãƒ¼ãƒŠã‚¹å€ç‡ã®è¨ˆç®—</span>
<span class="gi">+    // 1é€£é–: 1å€, 2é€£é–: 2å€, 3é€£é–: 4å€, 4é€£é–: 8å€, 5é€£é–ä»¥ä¸Š: 16å€</span>
<span class="gi">+    switch (chainCount) {</span>
<span class="gi">+      case 0:</span>
<span class="gi">+        return 1 // é€£é–ãªã—ã§ã‚‚1å€</span>
<span class="gi">+      case 1:</span>
<span class="gi">+        return 1</span>
<span class="gi">+      case 2:</span>
<span class="gi">+        return 2</span>
<span class="gi">+      case 3:</span>
<span class="gi">+        return 4</span>
<span class="gi">+      case 4:</span>
<span class="gi">+        return 8</span>
<span class="gi">+      default:</span>
<span class="gi">+        return 16 // 5é€£é–ä»¥ä¸Šã¯16å€</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  public calculateChainScore(baseScore: number, chainCount: number): number {</span>
<span class="gi">+    // åŸºæœ¬ã‚¹ã‚³ã‚¢ã«é€£é–ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨</span>
<span class="gi">+    return baseScore * this.getChainBonus(chainCount)</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="2db39f8">ã‚³ãƒŸãƒƒãƒˆ: 2db39f8<a class="headerlink" href="#2db39f8" title="Permanent link">&para;</a></h2>
<h3 id="_29">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO1 - é€£é–ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…
- chainCountãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§é€£é–æ•°ã‚’ç®¡ç†
- processChain()ã§æ¶ˆå»ã®ãŸã³ã«é€£é–æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
- getChainCount()ã§ç¾åœ¨ã®é€£é–æ•°ã‚’å–å¾—
- resetChainCount()ã§é€£é–æ•°ã‚’ãƒªã‚»ãƒƒãƒˆ
- handleLandedPuyo()ã§ç€åœ°æ™‚ã«é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ
- 4ã¤ã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§1é€£é–ã€2é€£é–ã€0é€£é–ã‚’æ¤œè¨¼
</code></pre></div>
<h3 id="_30">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_31">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 2db39f8314ed30779937e848ba0a9b985f8e87ec
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:32:24 2025 +0900

<span class="w"> </span>   feat: TODO1 - é€£é–ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…

<span class="w"> </span>   - chainCountãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§é€£é–æ•°ã‚’ç®¡ç†
<span class="w"> </span>   - processChain()ã§æ¶ˆå»ã®ãŸã³ã«é€£é–æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
<span class="w"> </span>   - getChainCount()ã§ç¾åœ¨ã®é€£é–æ•°ã‚’å–å¾—
<span class="w"> </span>   - resetChainCount()ã§é€£é–æ•°ã‚’ãƒªã‚»ãƒƒãƒˆ
<span class="w"> </span>   - handleLandedPuyo()ã§ç€åœ°æ™‚ã«é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ
<span class="w"> </span>   - 4ã¤ã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§1é€£é–ã€2é€£é–ã€0é€£é–ã‚’æ¤œè¨¼

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index db6c532..4eb8722 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1052,4 +1052,85 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(field[11][4]).toBe(4) // è¡›æ˜Ÿã·ã‚ˆï¼ˆé»„ï¼‰
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;é€£é–ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;1é€£é–ã®ã¨ãé€£é–æ•°ãŒ1ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // 4ã¤ä»¥ä¸Šã®åŒè‰²ã·ã‚ˆã‚’é…ç½®ï¼ˆ1é€£é–ã®ã¿ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // 1é€£é–ãŒè¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainCount()).toBe(1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;2é€£é–ã®ã¨ãé€£é–æ•°ãŒ2ã«ãªã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®š</span>
<span class="gi">+      // ä¸‹æ®µï¼šèµ¤4ã¤ï¼ˆ1é€£é–ç›®ï¼‰- æ¨ªä¸€åˆ—</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+      field[11][4] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // ä¸Šæ®µï¼šé’4ã¤ï¼ˆ2é€£é–ç›®ã€è½ä¸‹å¾Œã«éš£æ¥ã—ã¦4ã¤æƒã†ï¼‰</span>
<span class="gi">+      field[10][1] = 2 // è½ä¸‹å¾Œ: [11][1]</span>
<span class="gi">+      field[10][2] = 2 // è½ä¸‹å¾Œ: [11][2]</span>
<span class="gi">+      field[9][3] = 2 // è½ä¸‹å¾Œ: [11][3]</span>
<span class="gi">+      field[9][4] = 2 // è½ä¸‹å¾Œ: [11][4]</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // 2é€£é–ãŒè¨˜éŒ²ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainCount()).toBe(2)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;æ¶ˆå»ãŒç™ºç”Ÿã—ãªã„å ´åˆã¯é€£é–æ•°ãŒ0ã®ã¾ã¾ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // 3ã¤ä»¥ä¸‹ã®åŒè‰²ã·ã‚ˆã‚’é…ç½®ï¼ˆæ¶ˆå»ã•ã‚Œãªã„ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).processChain()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–æ•°ã¯0ã®ã¾ã¾</span>
<span class="gi">+      expect(game.getChainCount()).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é€£é–ã‚«ã‚¦ãƒ³ãƒˆãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ã‚«ã‚¦ãƒ³ãƒˆã‚’æ‰‹å‹•ã§è¨­å®š</span>
<span class="gi">+      ;(game as any).chainCount = 5</span>
<span class="gi">+</span>
<span class="gi">+      // ãƒªã‚»ãƒƒãƒˆå®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).resetChainCount()</span>
<span class="gi">+</span>
<span class="gi">+      // 0ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getChainCount()).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 81f174b..30355e8 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -8,6 +8,7 @@ export class Game {</span>
<span class="w"> </span>  private keysPressed: Set&lt;string&gt; = new Set() // æŠ¼ã•ã‚Œã¦ã„ã‚‹ã‚­ãƒ¼
<span class="w"> </span>  private fastDropTimer = 0
<span class="w"> </span>  private fastDropInterval = 50 // é«˜é€Ÿè½ä¸‹ã¯50msã”ã¨
<span class="gi">+  private chainCount = 0 // é€£é–æ•°</span>

<span class="w"> </span>  constructor() {
<span class="w"> </span>    // 6åˆ—x12è¡Œã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–
<span class="gu">@@ -52,6 +53,7 @@ export class Game {</span>

<span class="w"> </span>  private handleLandedPuyo(): void {
<span class="w"> </span>    this.fixPuyoPair()
<span class="gi">+    this.resetChainCount()</span>
<span class="w"> </span>    this.processChain()
<span class="w"> </span>    this.generateNewPuyoPair()
<span class="w"> </span>    this.puyoLanded = false
<span class="gu">@@ -425,10 +427,21 @@ export class Game {</span>
<span class="w"> </span>        break
<span class="w"> </span>      }

<span class="gi">+      // é€£é–æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ</span>
<span class="gi">+      this.chainCount++</span>
<span class="gi">+</span>
<span class="w"> </span>      // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="w"> </span>      this.applyGravity()
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public getChainCount(): number {</span>
<span class="gi">+    return this.chainCount</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private resetChainCount(): void {</span>
<span class="gi">+    this.chainCount = 0</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="af05712">ã‚³ãƒŸãƒƒãƒˆ: af05712<a class="headerlink" href="#af05712" title="Permanent link">&para;</a></h2>
<h3 id="_32">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã·ã‚ˆç€åœ°æ™‚ã®è‡ªå‹•æ¶ˆå»å‡¦ç†ã¨é€£é–ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…
- handleLandedPuyo()ã«processChain()ã‚’çµ±åˆ
- processChain()ãƒ¡ã‚½ãƒƒãƒ‰ã§é€£é–å‡¦ç†ã‚’å®Ÿè£…
- æ¶ˆå»ã§ãã‚‹ã·ã‚ˆãŒã‚ã‚‹é™ã‚Šç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿè¡Œ
- 61å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
- å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ä½œ
</code></pre></div>
<h3 id="_33">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_34">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit af0571281300dc1985f6366b2cbfedb8d12f201d
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 15:16:20 2025 +0900

<span class="w"> </span>   feat: ã·ã‚ˆç€åœ°æ™‚ã®è‡ªå‹•æ¶ˆå»å‡¦ç†ã¨é€£é–ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…

<span class="w"> </span>   - handleLandedPuyo()ã«processChain()ã‚’çµ±åˆ
<span class="w"> </span>   - processChain()ãƒ¡ã‚½ãƒƒãƒ‰ã§é€£é–å‡¦ç†ã‚’å®Ÿè£…
<span class="w"> </span>   - æ¶ˆå»ã§ãã‚‹ã·ã‚ˆãŒã‚ã‚‹é™ã‚Šç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="w"> </span>   - 61å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ãŒå‹•ä½œ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 8135ab4..db6c532 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -968,4 +968,88 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      })
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¨ã®çµ±åˆ&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ã·ã‚ˆãŒç€åœ°ã—ãŸã¨ãã«æ¶ˆå»å‡¦ç†ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // Lå­—å‹ã«åŒè‰²ï¼ˆèµ¤è‰²=1ï¼‰ã®ã·ã‚ˆã‚’é…ç½®ã—ã¦4ã¤æƒãˆã‚‹</span>
<span class="gi">+      field[11][0] = 1 // åº•è¾º</span>
<span class="gi">+      field[11][1] = 1 // åº•è¾º</span>
<span class="gi">+      field[11][2] = 1 // åº•è¾º</span>
<span class="gi">+      field[10][0] = 1 // ç¸¦æ£’</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãƒšã‚¢ã®è‰²ã‚’èª¿æ•´ã—ã¦ã€èµ¤è‰²ã«ãªã‚‹ã‚ˆã†ã«ã™ã‚‹</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 1 // èµ¤è‰²</span>
<span class="gi">+      puyoPair.satellite.color = 2 // ç•°ãªã‚‹è‰²ï¼ˆé’è‰²ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°ä½ç½®ã‚’è¨­å®šï¼ˆè»¸ã·ã‚ˆãŒ11,2ã®ä½ç½®ã€è¡›æ˜Ÿã·ã‚ˆãŒ11,3ã®ä½ç½®ï¼‰</span>
<span class="gi">+      puyoPair.axis.x = 2</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 3</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°å‡¦ç†ã‚’å®Ÿè¡Œï¼ˆæ¶ˆå»å‡¦ç†ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ã¯ãšï¼‰</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // 5ã¤æƒã£ãŸèµ¤ã·ã‚ˆãŒæ¶ˆå»ã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ï¼ˆå…ƒã®4ã¤ + è»¸ã·ã‚ˆï¼‰</span>
<span class="gi">+      expect(field[11][0]).toBe(0)</span>
<span class="gi">+      expect(field[11][1]).toBe(0)</span>
<span class="gi">+      expect(field[11][2]).toBe(0)</span>
<span class="gi">+      expect(field[10][0]).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // è¡›æ˜Ÿã·ã‚ˆï¼ˆé’è‰²ï¼‰ã¯æ¶ˆå»ã•ã‚Œãšã«æ®‹ã‚‹</span>
<span class="gi">+      expect(field[11][3]).toBe(2)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é€£é–ãŒç™ºç”Ÿã—ãŸã¨ãã«é€£ç¶šã§æ¶ˆå»å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹&#39;, () =&gt; {</span>
<span class="gi">+      const game = new Game()</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+</span>
<span class="gi">+      // é€£é–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨­å®š</span>
<span class="gi">+      // ä¸‹æ®µï¼šèµ¤4ã¤ï¼ˆæ¶ˆå»å¯¾è±¡ï¼‰</span>
<span class="gi">+      field[11][0] = 1</span>
<span class="gi">+      field[11][1] = 1</span>
<span class="gi">+      field[11][2] = 1</span>
<span class="gi">+      field[11][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+      // ä¸Šæ®µï¼šé’4ã¤ï¼ˆè½ä¸‹å¾Œã«é€£é–ï¼‰</span>
<span class="gi">+      field[9][1] = 2</span>
<span class="gi">+      field[9][2] = 2</span>
<span class="gi">+      field[10][1] = 2</span>
<span class="gi">+      field[10][2] = 2</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆãƒšã‚¢ã®è‰²ã‚’è¨­å®šï¼ˆé€£é–ã«å½±éŸ¿ã—ãªã„ä½ç½®ãƒ»è‰²ï¼‰</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      puyoPair.axis.color = 3 // ç·‘è‰²ï¼ˆé€£é–ã«å½±éŸ¿ã—ãªã„ï¼‰</span>
<span class="gi">+      puyoPair.satellite.color = 4 // é»„è‰²ï¼ˆé€£é–ã«å½±éŸ¿ã—ãªã„ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°ä½ç½®ã‚’è¨­å®šï¼ˆé€£é–ã«å½±éŸ¿ã—ãªã„ä½ç½®ï¼‰</span>
<span class="gi">+      puyoPair.axis.x = 5</span>
<span class="gi">+      puyoPair.axis.y = 11</span>
<span class="gi">+      puyoPair.satellite.x = 4</span>
<span class="gi">+      puyoPair.satellite.y = 11</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°å‡¦ç†å®Ÿè¡Œ</span>
<span class="gi">+      ;(game as any).handleLandedPuyo()</span>
<span class="gi">+</span>
<span class="gi">+      // 1å›ç›®ã®æ¶ˆå»ï¼šèµ¤4ã¤ãŒæ¶ˆå»ã•ã‚Œã‚‹</span>
<span class="gi">+      expect(field[11][0]).toBe(0)</span>
<span class="gi">+      expect(field[11][1]).toBe(0)</span>
<span class="gi">+      expect(field[11][2]).toBe(0)</span>
<span class="gi">+      expect(field[11][3]).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // 2å›ç›®ã®æ¶ˆå»ï¼šé’4ã¤ãŒè½ä¸‹ã—ã¦é€£é–ã§æ¶ˆå»ã•ã‚Œã‚‹</span>
<span class="gi">+      expect(field[11][1]).toBe(0) // è½ä¸‹ã—ã¦ããŸé’ã‚‚æ¶ˆå»</span>
<span class="gi">+      expect(field[11][2]).toBe(0) // è½ä¸‹ã—ã¦ããŸé’ã‚‚æ¶ˆå»</span>
<span class="gi">+      expect(field[10][1]).toBe(0) // å…ƒã‹ã‚‰ã‚ã£ãŸé’ã‚‚æ¶ˆå»</span>
<span class="gi">+      expect(field[10][2]).toBe(0) // å…ƒã‹ã‚‰ã‚ã£ãŸé’ã‚‚æ¶ˆå»</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°ã—ãŸã·ã‚ˆãƒšã‚¢ã¯æ®‹ã‚‹ï¼ˆé€£é–ã«é–¢ä¸ã—ãªã„ãŸã‚ï¼‰</span>
<span class="gi">+      expect(field[11][5]).toBe(3) // è»¸ã·ã‚ˆï¼ˆç·‘ï¼‰</span>
<span class="gi">+      expect(field[11][4]).toBe(4) // è¡›æ˜Ÿã·ã‚ˆï¼ˆé»„ï¼‰</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 729a371..81f174b 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -52,6 +52,7 @@ export class Game {</span>

<span class="w"> </span>  private handleLandedPuyo(): void {
<span class="w"> </span>    this.fixPuyoPair()
<span class="gi">+    this.processChain()</span>
<span class="w"> </span>    this.generateNewPuyoPair()
<span class="w"> </span>    this.puyoLanded = false
<span class="w"> </span>    this.dropTimer = 0
<span class="gu">@@ -412,6 +413,22 @@ export class Game {</span>
<span class="w"> </span>      }
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  private processChain(): void {</span>
<span class="gi">+    // é€£é–å‡¦ç†ï¼šæ¶ˆå»ã§ãã‚‹ã·ã‚ˆãŒã‚ã‚‹é™ã‚Šç¹°ã‚Šè¿”ã™</span>
<span class="gi">+    while (true) {</span>
<span class="gi">+      // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      const erased = this.erasePuyos()</span>
<span class="gi">+</span>
<span class="gi">+      // æ¶ˆå»ã•ã‚Œã‚‹ã·ã‚ˆãŒãªã„å ´åˆã¯é€£é–çµ‚äº†</span>
<span class="gi">+      if (!erased) {</span>
<span class="gi">+        break</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      this.applyGravity()</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="187d34c">ã‚³ãƒŸãƒƒãƒˆ: 187d34c<a class="headerlink" href="#187d34c" title="Permanent link">&para;</a></h2>
<h3 id="_35">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>docs: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³5å®Œäº† - ãµã‚Šã‹ãˆã‚Šã¨å—ã‘å…¥ã‚ŒåŸºæº–ã‚’æ›´æ–°
- 5ã¤ã®TODOé …ç›®ã‚’ã™ã¹ã¦å®Œäº†
- DFSæ¢ç´¢ã«ã‚ˆã‚‹éš£æ¥ã·ã‚ˆæ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…å®Œäº†
- æ¶ˆå»å‡¦ç†ã¨é‡åŠ›å‡¦ç†ã®åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ å®Œæˆ
- 59å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
- æ¬¡ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®èª²é¡Œã¨æ”¹å–„ç‚¹ã‚’è¨˜éŒ²
</code></pre></div>
<h3 id="_36">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_37">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 187d34cdf685f848a715ba544b014be5108d63f7
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 14:56:23 2025 +0900

<span class="w"> </span>   docs: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³5å®Œäº† - ãµã‚Šã‹ãˆã‚Šã¨å—ã‘å…¥ã‚ŒåŸºæº–ã‚’æ›´æ–°

<span class="w"> </span>   - 5ã¤ã®TODOé …ç›®ã‚’ã™ã¹ã¦å®Œäº†
<span class="w"> </span>   - DFSæ¢ç´¢ã«ã‚ˆã‚‹éš£æ¥ã·ã‚ˆæ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…å®Œäº†
<span class="w"> </span>   - æ¶ˆå»å‡¦ç†ã¨é‡åŠ›å‡¦ç†ã®åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ å®Œæˆ
<span class="w"> </span>   - 59å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - æ¬¡ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®èª²é¡Œã¨æ”¹å–„ç‚¹ã‚’è¨˜éŒ²

<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 4941c90..a0b93bc 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -257,28 +257,44 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] ã·ã‚ˆã®æ¥ç¶šåˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆéš£æ¥ã™ã‚‹åŒã˜è‰²ã®ã·ã‚ˆã‚’æ¤œå‡ºã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] 4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã®æ¤œå‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ¶ˆå»å¯¾è±¡ã¨ãªã‚‹ã·ã‚ˆã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç‰¹å®šã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã·ã‚ˆã®æ¶ˆå»å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ¶ˆå»å¯¾è±¡ã®ã·ã‚ˆã‚’å®Ÿéš›ã«æ¶ˆã™ï¼‰</span>
<span class="gd">-- [ ] æ¶ˆå»å¾Œã®è½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ¶ˆå»ã•ã‚ŒãŸå¾Œã®ç©ºãã‚¹ãƒšãƒ¼ã‚¹ã«ã·ã‚ˆãŒè½ã¡ã¦ãã‚‹ï¼‰</span>
<span class="gd">-- [ ] æ¶ˆå»ã•ã‚Œãªã„å ´åˆã®è½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒé‡ãªã£ã¦ã„ã‚‹å ´åˆã«ä¸‹ã«è½ä¸‹ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆã®æ¥ç¶šåˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆéš£æ¥ã™ã‚‹åŒã˜è‰²ã®ã·ã‚ˆã‚’æ¤œå‡ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] 4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã®æ¤œå‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ¶ˆå»å¯¾è±¡ã¨ãªã‚‹ã·ã‚ˆã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç‰¹å®šã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆã®æ¶ˆå»å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ¶ˆå»å¯¾è±¡ã®ã·ã‚ˆã‚’å®Ÿéš›ã«æ¶ˆã™ï¼‰</span>
<span class="gi">+- [x] æ¶ˆå»å¾Œã®è½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ¶ˆå»ã•ã‚ŒãŸå¾Œã®ç©ºãã‚¹ãƒšãƒ¼ã‚¹ã«ã·ã‚ˆãŒè½ã¡ã¦ãã‚‹ï¼‰</span>
<span class="gi">+- [x] æ¶ˆå»ã•ã‚Œãªã„å ´åˆã®è½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒé‡ãªã£ã¦ã„ã‚‹å ´åˆã«ä¸‹ã«è½ä¸‹ã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] åŒã˜è‰²ã®ã·ã‚ˆãŒ4ã¤ä»¥ä¸Šéš£æ¥ã—ã¦é…ç½®ã•ã‚ŒãŸå ´åˆã€ãã‚Œã‚‰ãŒæ¶ˆå»ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] æ¶ˆå»ã•ã‚ŒãŸã·ã‚ˆã®ä¸Šã«ã‚ã‚‹ã·ã‚ˆãŒé‡åŠ›ã«ã‚ˆã‚Šä¸‹ã«è½ä¸‹ã™ã‚‹ã“ã¨</span>
<span class="gi">+- [x] åŒã˜è‰²ã®ã·ã‚ˆãŒ4ã¤ä»¥ä¸Šéš£æ¥ã—ã¦é…ç½®ã•ã‚ŒãŸå ´åˆã€ãã‚Œã‚‰ãŒæ¶ˆå»ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] æ¶ˆå»ã•ã‚ŒãŸã·ã‚ˆã®ä¸Šã«ã‚ã‚‹ã·ã‚ˆãŒé‡åŠ›ã«ã‚ˆã‚Šä¸‹ã«è½ä¸‹ã™ã‚‹ã“ã¨</span>
<span class="w"> </span>- [ ] æ¶ˆå»å‡¦ç†ãŒé€£ç¶šã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ï¼ˆé€£é–ã®åŸºç›¤ï¼‰
<span class="w"> </span>- [ ] æ¶ˆå»ã•ã‚ŒãŸã·ã‚ˆã®æ•°ã«å¿œã˜ã¦ã‚¹ã‚³ã‚¢ãŒåŠ ç®—ã•ã‚Œã‚‹ã“ã¨
<span class="w"> </span>- [ ] æ—¢å­˜ã®ã·ã‚ˆæ“ä½œï¼ˆç§»å‹•ãƒ»å›è»¢ãƒ»è½ä¸‹ï¼‰ã¨æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£ã—ãé€£æºã™ã‚‹ã“ã¨
<span class="gd">-- [ ] ã·ã‚ˆãŒé‡ãªã£ã¦ã„ã‚‹å ´åˆã«ä¸‹ã«ç©ºé–“ãŒã‚ã‚Œã°ã·ã‚ˆãŒè½ä¸‹ã™ã‚‹ã“ã¨</span>
<span class="gi">+- [x] ã·ã‚ˆãŒé‡ãªã£ã¦ã„ã‚‹å ´åˆã«ä¸‹ã«ç©ºé–“ãŒã‚ã‚Œã°ã·ã‚ˆãŒè½ä¸‹ã™ã‚‹ã“ã¨</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="w"> </span>**Keep**
<span class="gi">+- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§5ã¤ã®TODOé …ç›®ã‚’ã™ã¹ã¦å®Œäº†ã—ã€59å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæˆåŠŸ</span>
<span class="gi">+- DFSï¼ˆæ·±åº¦å„ªå…ˆæ¢ç´¢ï¼‰ã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªéš£æ¥ã·ã‚ˆæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿè£…</span>
<span class="gi">+- å¾ªç’°çš„è¤‡é›‘åº¦åˆ¶é™ã«ã‚ˆã‚Šã€è¤‡é›‘ãªDFSãƒ¡ã‚½ãƒƒãƒ‰ã‚’é©åˆ‡ã«åˆ†å‰²ã—ã¦ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚’å‘ä¸Š</span>
<span class="gi">+- findConnectedPuyosã€findErasableGroupsã€erasePuyosã€applyGravityã®æ˜ç¢ºãªè²¬å‹™åˆ†é›¢</span>
<span class="gi">+- åº•ã‹ã‚‰ä¸Šã«å‘ã‹ã£ã¦ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹åŠ¹ç‡çš„ãªé‡åŠ›å‡¦ç†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’å®Ÿè£…</span>
<span class="gi">+- åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«ã‚ˆã‚Šã€ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚‚å«ã‚ãŸå …ç‰¢ãªå®Ÿè£…ã‚’å®Ÿç¾</span>

<span class="w"> </span>**Problem**
<span class="gi">+- æ¶ˆå»ã¨ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã®çµ±åˆãŒã¾ã å®Œäº†ã—ã¦ã„ãªã„ï¼ˆæ‰‹å‹•ã§erasePuyos()ã‚’å‘¼ã¶å¿…è¦ãŒã‚ã‚‹ï¼‰</span>
<span class="gi">+- é€£é–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ¶ˆå»å‡¦ç†ã®é€£ç¶šå®Ÿè¡Œï¼‰ãŒã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ãªã„</span>
<span class="gi">+- ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ãŒæœªå®Ÿè£…ã§ã€æ¶ˆå»æ™‚ã®å¾—ç‚¹è¨ˆç®—ãŒã§ããªã„</span>
<span class="gi">+- ã‚²ãƒ¼ãƒ UIã«æ¶ˆå»å‡¦ç†ãŒçµ±åˆã•ã‚Œã¦ãŠã‚‰ãšã€å®Ÿéš›ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ã§å‹•ä½œã—ãªã„</span>
<span class="gi">+- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é¢ã§DFSæ¢ç´¢ã®æœ€é©åŒ–ã®ä½™åœ°ãŒã‚ã‚‹</span>

<span class="w"> </span>**Try**
<span class="gi">+- æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯é€£é–ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã—ã€æ¶ˆå»å‡¦ç†ã®é€£ç¶šå®Ÿè¡Œã‚’å®Ÿç¾ã™ã‚‹</span>
<span class="gi">+- ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã«æ¶ˆå»å‡¦ç†ã‚’çµ±åˆã—ã€ã·ã‚ˆç€åœ°æ™‚ã®è‡ªå‹•æ¶ˆå»ã‚’å®Ÿè£…ã™ã‚‹</span>
<span class="gi">+- ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã¨é€£é–ãƒœãƒ¼ãƒŠã‚¹è¨ˆç®—æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹</span>
<span class="gi">+- UI/UXæ”¹å–„ã¨ã—ã¦æ¶ˆå»æ™‚ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚„é€£é–æ•°è¡¨ç¤ºã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- DFSæ¢ç´¢ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆvisitedãƒ•ãƒ©ã‚°ã®å†åˆ©ç”¨ãªã©ï¼‰ã‚’æ¤œè¨ã™ã‚‹</span>

<span class="w"> </span>## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³6: é€£é–åå¿œã®å®Ÿè£… 
</code></pre></div>
<h2 id="444b556">ã‚³ãƒŸãƒƒãƒˆ: 444b556<a class="headerlink" href="#444b556" title="Permanent link">&para;</a></h2>
<h3 id="_38">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO4 - æ¶ˆå»å¾Œã®è½ä¸‹å‡¦ç†ã‚’å®Ÿè£…
- applyGravity()ãƒ¡ã‚½ãƒƒãƒ‰ã§å„åˆ—ã«é‡åŠ›ã‚’é©ç”¨
- applyGravityToColumn()ã§åˆ—ã”ã¨ã®é‡åŠ›å‡¦ç†ã‚’å®Ÿè£…
- æ¶ˆå»ã•ã‚ŒãŸç©ºãã‚¹ãƒšãƒ¼ã‚¹ã«ã·ã‚ˆãŒè‡ªç„¶ã«è½ä¸‹ã™ã‚‹
- åº•ã‹ã‚‰ä¸Šã«å‘ã‹ã£ã¦ã‚¹ã‚­ãƒ£ãƒ³ã—åŠ¹ç‡çš„ãªè½ä¸‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
</code></pre></div>
<h3 id="_39">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_40">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 444b55671a08b29081a9ab589251e0740ceb625b
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 14:54:52 2025 +0900

<span class="w"> </span>   feat: TODO4 - æ¶ˆå»å¾Œã®è½ä¸‹å‡¦ç†ã‚’å®Ÿè£…

<span class="w"> </span>   - applyGravity()ãƒ¡ã‚½ãƒƒãƒ‰ã§å„åˆ—ã«é‡åŠ›ã‚’é©ç”¨
<span class="w"> </span>   - applyGravityToColumn()ã§åˆ—ã”ã¨ã®é‡åŠ›å‡¦ç†ã‚’å®Ÿè£…
<span class="w"> </span>   - æ¶ˆå»ã•ã‚ŒãŸç©ºãã‚¹ãƒšãƒ¼ã‚¹ã«ã·ã‚ˆãŒè‡ªç„¶ã«è½ä¸‹ã™ã‚‹
<span class="w"> </span>   - åº•ã‹ã‚‰ä¸Šã«å‘ã‹ã£ã¦ã‚¹ã‚­ãƒ£ãƒ³ã—åŠ¹ç‡çš„ãªè½ä¸‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 58aff6d..8135ab4 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -799,5 +799,173 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        expect(field[10][4]).toBe(2)
<span class="w"> </span>      })
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    describe(&#39;æ¶ˆå»å¾Œã®è½ä¸‹å‡¦ç†&#39;, () =&gt; {</span>
<span class="gi">+      it(&#39;æ¶ˆå»ã•ã‚ŒãŸå¾Œã®ç©ºãã‚¹ãƒšãƒ¼ã‚¹ã«ã·ã‚ˆãŒè½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // åº•ã«æ¶ˆå»å¯¾è±¡ã®4ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[11][3] = 1</span>
<span class="gi">+        field[10][2] = 1</span>
<span class="gi">+        field[10][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // ãã®ä¸Šã«é’ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[9][2] = 2</span>
<span class="gi">+        field[8][3] = 2</span>
<span class="gi">+</span>
<span class="gi">+        // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.erasePuyos()</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // é’ã„ã·ã‚ˆãŒä¸‹ã«è½ä¸‹ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        expect(field[11][2]).toBe(2) // ä¸Šã‹ã‚‰è½ä¸‹</span>
<span class="gi">+        expect(field[11][3]).toBe(2) // ä¸Šã‹ã‚‰è½ä¸‹</span>
<span class="gi">+</span>
<span class="gi">+        // å…ƒã®ä½ç½®ã¯ç©ºã«ãªã£ã¦ã„ã‚‹</span>
<span class="gi">+        expect(field[9][2]).toBe(0)</span>
<span class="gi">+        expect(field[8][3]).toBe(0)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;è¤‡æ•°æ®µã®ã·ã‚ˆãŒæ­£ã—ãè½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // åº•ã«æ¶ˆå»å¯¾è±¡ã®èµ¤ã„ã·ã‚ˆ</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[10][2] = 1</span>
<span class="gi">+        field[9][2] = 1</span>
<span class="gi">+        field[8][2] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // ãã®ä¸Šã«è¤‡æ•°ã®é’ã„ã·ã‚ˆ</span>
<span class="gi">+        field[7][2] = 2</span>
<span class="gi">+        field[6][2] = 2</span>
<span class="gi">+        field[5][2] = 2</span>
<span class="gi">+</span>
<span class="gi">+        // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.erasePuyos()</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // é’ã„ã·ã‚ˆãŒä¸‹ã«è©°ã¾ã£ã¦è½ä¸‹ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        expect(field[11][2]).toBe(2)</span>
<span class="gi">+        expect(field[10][2]).toBe(2)</span>
<span class="gi">+        expect(field[9][2]).toBe(2)</span>
<span class="gi">+</span>
<span class="gi">+        // ä¸Šã®æ–¹ã¯ç©ºã«ãªã£ã¦ã„ã‚‹</span>
<span class="gi">+        expect(field[8][2]).toBe(0)</span>
<span class="gi">+        expect(field[7][2]).toBe(0)</span>
<span class="gi">+        expect(field[6][2]).toBe(0)</span>
<span class="gi">+        expect(field[5][2]).toBe(0)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;éƒ¨åˆ†çš„ãªè½ä¸‹ã‚‚æ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // Lå­—å‹ã«é…ç½®ã•ã‚ŒãŸæ¶ˆå»å¯¾è±¡ã®èµ¤ã„ã·ã‚ˆ</span>
<span class="gi">+        field[11][1] = 1</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[10][1] = 1</span>
<span class="gi">+        field[9][1] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // ãã®ä¸Šã¨æ¨ªã«é’ã„ã·ã‚ˆ</span>
<span class="gi">+        field[8][1] = 2 // æ¶ˆå»ã•ã‚ŒãŸã·ã‚ˆã®ä¸Š</span>
<span class="gi">+        field[11][3] = 2 // æ¶ˆå»ã•ã‚Œãªã„ã·ã‚ˆã®æ¨ª</span>
<span class="gi">+</span>
<span class="gi">+        // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.erasePuyos()</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // ä¸Šã«ã‚ã£ãŸé’ã„ã·ã‚ˆãŒè½ä¸‹</span>
<span class="gi">+        expect(field[11][1]).toBe(2)</span>
<span class="gi">+        expect(field[8][1]).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+        // æ¨ªã«ã‚ã£ãŸé’ã„ã·ã‚ˆã¯ãã®ã¾ã¾</span>
<span class="gi">+        expect(field[11][3]).toBe(2)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;ç©ºã®åˆ—ã«ã¯ä½•ã‚‚èµ·ã“ã‚‰ãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // ä¸€éƒ¨ã®åˆ—ã«ã®ã¿ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[10][2] = 1</span>
<span class="gi">+        field[9][2] = 1</span>
<span class="gi">+        field[8][2] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // æ¶ˆå»å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.erasePuyos()</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // ç©ºã®åˆ—ï¼ˆ0, 1, 3, 4, 5ï¼‰ã¯å¤‰åŒ–ãªã—</span>
<span class="gi">+        for (let y = 0; y &lt; 12; y++) {</span>
<span class="gi">+          expect(field[y][0]).toBe(0)</span>
<span class="gi">+          expect(field[y][1]).toBe(0)</span>
<span class="gi">+          expect(field[y][3]).toBe(0)</span>
<span class="gi">+          expect(field[y][4]).toBe(0)</span>
<span class="gi">+          expect(field[y][5]).toBe(0)</span>
<span class="gi">+        }</span>
<span class="gi">+      })</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    describe(&#39;æ¶ˆå»ã•ã‚Œãªã„å ´åˆã®è½ä¸‹å‡¦ç†&#39;, () =&gt; {</span>
<span class="gi">+      it(&#39;ã·ã‚ˆãŒé‡ãªã£ã¦ã„ã‚‹å ´åˆã«ä¸‹ã«ç©ºé–“ãŒã‚ã‚Œã°è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // æµ®ã„ã¦ã„ã‚‹ã·ã‚ˆã‚’é…ç½®ï¼ˆä¸‹ã«ç©ºé–“ãŒã‚ã‚‹çŠ¶æ…‹ï¼‰</span>
<span class="gi">+        field[9][2] = 1 // èµ¤ã„ã·ã‚ˆãŒæµ®ã„ã¦ã„ã‚‹</span>
<span class="gi">+        field[8][2] = 2 // é’ã„ã·ã‚ˆãŒæµ®ã„ã¦ã„ã‚‹</span>
<span class="gi">+        field[6][2] = 1 // ã•ã‚‰ã«ä¸Šã«èµ¤ã„ã·ã‚ˆãŒæµ®ã„ã¦ã„ã‚‹</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // ã·ã‚ˆãŒåº•ã«è½ä¸‹ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        expect(field[11][2]).toBe(1) // æœ€åˆã«ç½®ã„ãŸèµ¤ã„ã·ã‚ˆ</span>
<span class="gi">+        expect(field[10][2]).toBe(2) // é’ã„ã·ã‚ˆ</span>
<span class="gi">+        expect(field[9][2]).toBe(1) // æœ€å¾Œã®èµ¤ã„ã·ã‚ˆ</span>
<span class="gi">+</span>
<span class="gi">+        // å…ƒã®ä½ç½®ã¯ç©ºã«ãªã£ã¦ã„ã‚‹</span>
<span class="gi">+        expect(field[8][2]).toBe(0)</span>
<span class="gi">+        expect(field[6][2]).toBe(0)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;æ”¯ãˆãŒãªã„ã·ã‚ˆã¯é‡åŠ›ã§è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // åº•ã«ã·ã‚ˆãŒã‚ã‚Šã€ãã®ä¸Šã«ç©ºé–“ã€ã•ã‚‰ã«ä¸Šã«ã·ã‚ˆ</span>
<span class="gi">+        field[11][1] = 1 // åº•ã®æ”¯ãˆã‚‹ã·ã‚ˆ</span>
<span class="gi">+        field[8][1] = 2 // æµ®ã„ã¦ã„ã‚‹ã·ã‚ˆ</span>
<span class="gi">+        field[7][1] = 3 // ã•ã‚‰ã«æµ®ã„ã¦ã„ã‚‹ã·ã‚ˆ</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // ã·ã‚ˆãŒæ­£ã—ãè½ä¸‹ã—ã¦ç©ã¿é‡ãªã‚‹</span>
<span class="gi">+        expect(field[11][1]).toBe(1) // åº•ã®ã·ã‚ˆã¯ãã®ã¾ã¾</span>
<span class="gi">+        expect(field[10][1]).toBe(2) // æµ®ã„ã¦ã„ãŸã·ã‚ˆãŒè½ä¸‹</span>
<span class="gi">+        expect(field[9][1]).toBe(3) // ä¸€ç•ªä¸Šã®ã·ã‚ˆã‚‚è½ä¸‹</span>
<span class="gi">+</span>
<span class="gi">+        // å…ƒã®ä½ç½®ã¯ç©º</span>
<span class="gi">+        expect(field[8][1]).toBe(0)</span>
<span class="gi">+        expect(field[7][1]).toBe(0)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;ã™ã§ã«æ­£ã—ã„ä½ç½®ã«ã‚ã‚‹ã·ã‚ˆã¯ç§»å‹•ã—ãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // æ­£ã—ãç©ã¿é‡ãªã£ãŸã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][3] = 1</span>
<span class="gi">+        field[10][3] = 2</span>
<span class="gi">+        field[9][3] = 3</span>
<span class="gi">+</span>
<span class="gi">+        // é‡åŠ›å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+        game.applyGravity()</span>
<span class="gi">+</span>
<span class="gi">+        // ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„</span>
<span class="gi">+        expect(field[11][3]).toBe(1)</span>
<span class="gi">+        expect(field[10][3]).toBe(2)</span>
<span class="gi">+        expect(field[9][3]).toBe(3)</span>
<span class="gi">+      })</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index ea4a280..729a371 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -388,6 +388,30 @@ export class Game {</span>

<span class="w"> </span>    return true
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public applyGravity(): void {</span>
<span class="gi">+    // å„åˆ—ã«å¯¾ã—ã¦é‡åŠ›ã‚’é©ç”¨</span>
<span class="gi">+    for (let x = 0; x &lt; 6; x++) {</span>
<span class="gi">+      this.applyGravityToColumn(x)</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private applyGravityToColumn(x: number): void {</span>
<span class="gi">+    // å„åˆ—ã®åº•ã‹ã‚‰ä¸Šã«å‘ã‹ã£ã¦ã€ç©ºã„ã¦ã„ã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã‚’è©°ã‚ã‚‹</span>
<span class="gi">+    let writePos = 11 // æ›¸ãè¾¼ã¿ä½ç½®ï¼ˆåº•ã‹ã‚‰é–‹å§‹ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+    // åº•ã‹ã‚‰ä¸Šã«å‘ã‹ã£ã¦ã‚¹ã‚­ãƒ£ãƒ³</span>
<span class="gi">+    for (let y = 11; y &gt;= 0; y--) {</span>
<span class="gi">+      if (this.field[y][x] !== 0) {</span>
<span class="gi">+        // ã·ã‚ˆãŒã‚ã‚‹å ´åˆã¯æ›¸ãè¾¼ã¿ä½ç½®ã«ç§»å‹•</span>
<span class="gi">+        if (y !== writePos) {</span>
<span class="gi">+          this.field[writePos][x] = this.field[y][x]</span>
<span class="gi">+          this.field[y][x] = 0</span>
<span class="gi">+        }</span>
<span class="gi">+        writePos-- // æ¬¡ã®æ›¸ãè¾¼ã¿ä½ç½®ã‚’ä¸Šã«ç§»å‹•</span>
<span class="gi">+      }</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="8fd7150">ã‚³ãƒŸãƒƒãƒˆ: 8fd7150<a class="headerlink" href="#8fd7150" title="Permanent link">&para;</a></h2>
<h3 id="_41">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO3 - ã·ã‚ˆã®æ¶ˆå»å‡¦ç†ã‚’å®Ÿè£…
- erasePuyosãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€æ¶ˆå»å¯¾è±¡ã®ã·ã‚ˆã‚’å®Ÿéš›ã«æ¶ˆå»
- findErasableGroupsãƒ¡ã‚½ãƒƒãƒ‰ã¨é€£æºã—ã¦4ã¤ä»¥ä¸Šã®ã·ã‚ˆã‚’å‰Šé™¤
- æ¶ˆå»å®Ÿè¡Œã®æœ‰ç„¡ã‚’booleanå€¤ã§è¿”ã™ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›
- 4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦æˆåŠŸ
- 52å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
</code></pre></div>
<h3 id="_42">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_43">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 8fd715078b7ddece2f4ce77738a2cb235727ed3c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 14:43:17 2025 +0900

<span class="w"> </span>   feat: TODO3 - ã·ã‚ˆã®æ¶ˆå»å‡¦ç†ã‚’å®Ÿè£…

<span class="w"> </span>   - erasePuyosãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€æ¶ˆå»å¯¾è±¡ã®ã·ã‚ˆã‚’å®Ÿéš›ã«æ¶ˆå»
<span class="w"> </span>   - findErasableGroupsãƒ¡ã‚½ãƒƒãƒ‰ã¨é€£æºã—ã¦4ã¤ä»¥ä¸Šã®ã·ã‚ˆã‚’å‰Šé™¤
<span class="w"> </span>   - æ¶ˆå»å®Ÿè¡Œã®æœ‰ç„¡ã‚’booleanå€¤ã§è¿”ã™ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›
<span class="w"> </span>   - 4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - 52å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index f133c7b..58aff6d 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -707,5 +707,97 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        expect(erasableGroups[0]).toHaveLength(5)
<span class="w"> </span>      })
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    describe(&#39;ã·ã‚ˆã®æ¶ˆå»å‡¦ç†&#39;, () =&gt; {</span>
<span class="gi">+      it(&#39;4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã‚’å®Ÿéš›ã«æ¶ˆå»ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // 4ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[11][3] = 1</span>
<span class="gi">+        field[11][4] = 1</span>
<span class="gi">+        field[10][2] = 1</span>
<span class="gi">+</span>
<span class="gi">+        const erased = game.erasePuyos()</span>
<span class="gi">+        expect(erased).toBe(true) // æ¶ˆå»ãŒå®Ÿè¡Œã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+</span>
<span class="gi">+        // æ¶ˆå»ã•ã‚ŒãŸã‚»ãƒ«ãŒç©ºã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        expect(field[11][2]).toBe(0)</span>
<span class="gi">+        expect(field[11][3]).toBe(0)</span>
<span class="gi">+        expect(field[11][4]).toBe(0)</span>
<span class="gi">+        expect(field[10][2]).toBe(0)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;3ã¤ä»¥ä¸‹ã®ã·ã‚ˆã¯æ¶ˆå»ã•ã‚Œãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // 3ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[11][3] = 1</span>
<span class="gi">+        field[11][4] = 1</span>
<span class="gi">+</span>
<span class="gi">+        const erased = game.erasePuyos()</span>
<span class="gi">+        expect(erased).toBe(false) // æ¶ˆå»ãŒå®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+</span>
<span class="gi">+        // ã·ã‚ˆãŒãã®ã¾ã¾æ®‹ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        expect(field[11][2]).toBe(1)</span>
<span class="gi">+        expect(field[11][3]).toBe(1)</span>
<span class="gi">+        expect(field[11][4]).toBe(1)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’åŒæ™‚ã«æ¶ˆå»ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // èµ¤ã„ã·ã‚ˆã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ4ã¤ï¼‰</span>
<span class="gi">+        field[11][0] = 1</span>
<span class="gi">+        field[11][1] = 1</span>
<span class="gi">+        field[10][0] = 1</span>
<span class="gi">+        field[10][1] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // é’ã„ã·ã‚ˆã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ4ã¤ï¼‰</span>
<span class="gi">+        field[11][4] = 2</span>
<span class="gi">+        field[11][5] = 2</span>
<span class="gi">+        field[10][4] = 2</span>
<span class="gi">+        field[10][5] = 2</span>
<span class="gi">+</span>
<span class="gi">+        const erased = game.erasePuyos()</span>
<span class="gi">+        expect(erased).toBe(true)</span>
<span class="gi">+</span>
<span class="gi">+        // ä¸¡æ–¹ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒæ¶ˆå»ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+        expect(field[11][0]).toBe(0)</span>
<span class="gi">+        expect(field[11][1]).toBe(0)</span>
<span class="gi">+        expect(field[10][0]).toBe(0)</span>
<span class="gi">+        expect(field[10][1]).toBe(0)</span>
<span class="gi">+        expect(field[11][4]).toBe(0)</span>
<span class="gi">+        expect(field[11][5]).toBe(0)</span>
<span class="gi">+        expect(field[10][4]).toBe(0)</span>
<span class="gi">+        expect(field[10][5]).toBe(0)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;æ¶ˆå»ã•ã‚Œãªã„ã·ã‚ˆã¯ãã®ã¾ã¾æ®‹ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // æ¶ˆå»å¯¾è±¡ã®4ã¤ã®èµ¤ã„ã·ã‚ˆ</span>
<span class="gi">+        field[11][0] = 1</span>
<span class="gi">+        field[11][1] = 1</span>
<span class="gi">+        field[10][0] = 1</span>
<span class="gi">+        field[10][1] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // æ¶ˆå»å¯¾è±¡ã§ãªã„3ã¤ã®é’ã„ã·ã‚ˆ</span>
<span class="gi">+        field[11][4] = 2</span>
<span class="gi">+        field[11][5] = 2</span>
<span class="gi">+        field[10][4] = 2</span>
<span class="gi">+</span>
<span class="gi">+        const erased = game.erasePuyos()</span>
<span class="gi">+        expect(erased).toBe(true)</span>
<span class="gi">+</span>
<span class="gi">+        // èµ¤ã„ã·ã‚ˆã¯æ¶ˆå»ã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+        expect(field[11][0]).toBe(0)</span>
<span class="gi">+        expect(field[11][1]).toBe(0)</span>
<span class="gi">+        expect(field[10][0]).toBe(0)</span>
<span class="gi">+        expect(field[10][1]).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+        // é’ã„ã·ã‚ˆã¯ãã®ã¾ã¾æ®‹ã£ã¦ã„ã‚‹</span>
<span class="gi">+        expect(field[11][4]).toBe(2)</span>
<span class="gi">+        expect(field[11][5]).toBe(2)</span>
<span class="gi">+        expect(field[10][4]).toBe(2)</span>
<span class="gi">+      })</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 08619a7..ea4a280 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -370,6 +370,24 @@ export class Game {</span>
<span class="w"> </span>    this.dfsConnectedPuyos(x, y, color, visited, result)
<span class="w"> </span>    return result
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public erasePuyos(): boolean {</span>
<span class="gi">+    const erasableGroups = this.findErasableGroups()</span>
<span class="gi">+</span>
<span class="gi">+    // æ¶ˆå»å¯¾è±¡ã‚°ãƒ«ãƒ¼ãƒ—ãŒãªã„å ´åˆã¯falseã‚’è¿”ã™</span>
<span class="gi">+    if (erasableGroups.length === 0) {</span>
<span class="gi">+      return false</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    // æ¶ˆå»å¯¾è±¡ã®ã·ã‚ˆã‚’ã™ã¹ã¦æ¶ˆå»ï¼ˆ0ã«ã‚»ãƒƒãƒˆï¼‰</span>
<span class="gi">+    for (const group of erasableGroups) {</span>
<span class="gi">+      for (const puyo of group) {</span>
<span class="gi">+        this.field[puyo.y][puyo.x] = 0</span>
<span class="gi">+      }</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    return true</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="a674865">ã‚³ãƒŸãƒƒãƒˆ: a674865<a class="headerlink" href="#a674865" title="Permanent link">&para;</a></h2>
<h3 id="_44">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO2 - 4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã®æ¤œå‡ºã‚’å®Ÿè£…
- findErasableGroupsãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€æ¶ˆå»å¯¾è±¡ã¨ãªã‚‹ã·ã‚ˆã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç‰¹å®š
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…¨ä½“ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦4ã¤ä»¥ä¸Šæ¥ç¶šã•ã‚ŒãŸã·ã‚ˆã‚’æ¤œå‡º
- è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’åŒæ™‚ã«æ¤œå‡ºã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ 
- 4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦æˆåŠŸ
- 48å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
</code></pre></div>
<h3 id="_45">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_46">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit a674865fe6817661152ae7e3dd8fdb4d6266b4da
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 14:41:50 2025 +0900

<span class="w"> </span>   feat: TODO2 - 4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã®æ¤œå‡ºã‚’å®Ÿè£…

<span class="w"> </span>   - findErasableGroupsãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€æ¶ˆå»å¯¾è±¡ã¨ãªã‚‹ã·ã‚ˆã‚°ãƒ«ãƒ¼ãƒ—ã‚’ç‰¹å®š
<span class="w"> </span>   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…¨ä½“ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦4ã¤ä»¥ä¸Šæ¥ç¶šã•ã‚ŒãŸã·ã‚ˆã‚’æ¤œå‡º
<span class="w"> </span>   - è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’åŒæ™‚ã«æ¤œå‡ºã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ 
<span class="w"> </span>   - 4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - 48å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 831be96..f133c7b 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -647,5 +647,65 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        expect(connectedPuyos).toHaveLength(0)
<span class="w"> </span>      })
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    describe(&#39;4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã®æ¤œå‡º&#39;, () =&gt; {</span>
<span class="gi">+      it(&#39;4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸã·ã‚ˆã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æ¶ˆå»å¯¾è±¡ã¨ã—ã¦æ¤œå‡ºã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // Lå­—å‹ã«4ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1 // èµ¤</span>
<span class="gi">+        field[11][3] = 1 // èµ¤</span>
<span class="gi">+        field[11][4] = 1 // èµ¤</span>
<span class="gi">+        field[10][2] = 1 // èµ¤ï¼ˆ4ã¤ç›®ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+        const erasableGroups = game.findErasableGroups()</span>
<span class="gi">+        expect(erasableGroups).toHaveLength(1) // 1ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒæ¶ˆå»å¯¾è±¡</span>
<span class="gi">+        expect(erasableGroups[0]).toHaveLength(4) // 4ã¤ã®ã·ã‚ˆã§æ§‹æˆ</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;3ã¤ä»¥ä¸‹ã®ã·ã‚ˆã¯æ¶ˆå»å¯¾è±¡ã¨ã—ã¦æ¤œå‡ºã•ã‚Œãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // 3ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1 // èµ¤</span>
<span class="gi">+        field[11][3] = 1 // èµ¤</span>
<span class="gi">+        field[11][4] = 1 // èµ¤</span>
<span class="gi">+</span>
<span class="gi">+        const erasableGroups = game.findErasableGroups()</span>
<span class="gi">+        expect(erasableGroups).toHaveLength(0) // æ¶ˆå»å¯¾è±¡ãªã—</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;è¤‡æ•°ã®æ¶ˆå»å¯¾è±¡ã‚°ãƒ«ãƒ¼ãƒ—ã‚’åŒæ™‚ã«æ¤œå‡ºã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // èµ¤ã„ã·ã‚ˆã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ4ã¤ï¼‰</span>
<span class="gi">+        field[11][0] = 1</span>
<span class="gi">+        field[11][1] = 1</span>
<span class="gi">+        field[10][0] = 1</span>
<span class="gi">+        field[10][1] = 1</span>
<span class="gi">+</span>
<span class="gi">+        // é’ã„ã·ã‚ˆã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆ4ã¤ï¼‰</span>
<span class="gi">+        field[11][4] = 2</span>
<span class="gi">+        field[11][5] = 2</span>
<span class="gi">+        field[10][4] = 2</span>
<span class="gi">+        field[10][5] = 2</span>
<span class="gi">+</span>
<span class="gi">+        const erasableGroups = game.findErasableGroups()</span>
<span class="gi">+        expect(erasableGroups).toHaveLength(2) // 2ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒæ¶ˆå»å¯¾è±¡</span>
<span class="gi">+        expect(erasableGroups[0]).toHaveLength(4)</span>
<span class="gi">+        expect(erasableGroups[1]).toHaveLength(4)</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;5ã¤ä»¥ä¸Šã®ã·ã‚ˆã‚‚æ¶ˆå»å¯¾è±¡ã¨ã—ã¦æ¤œå‡ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // 5ã¤ã®èµ¤ã„ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+        field[11][2] = 1</span>
<span class="gi">+        field[11][3] = 1</span>
<span class="gi">+        field[11][4] = 1</span>
<span class="gi">+        field[10][2] = 1</span>
<span class="gi">+        field[10][3] = 1</span>
<span class="gi">+</span>
<span class="gi">+        const erasableGroups = game.findErasableGroups()</span>
<span class="gi">+        expect(erasableGroups).toHaveLength(1)</span>
<span class="gi">+        expect(erasableGroups[0]).toHaveLength(5)</span>
<span class="gi">+      })</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 7d61006..08619a7 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -339,6 +339,37 @@ export class Game {</span>
<span class="w"> </span>      this.dfsConnectedPuyos(x + dir.dx, y + dir.dy, color, visited, result)
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public findErasableGroups(): Array&lt;Array&lt;{ x: number; y: number }&gt;&gt; {</span>
<span class="gi">+    const visited: boolean[][] = Array.from({ length: 12 }, () =&gt; Array(6).fill(false))</span>
<span class="gi">+    const erasableGroups: Array&lt;Array&lt;{ x: number; y: number }&gt;&gt; = []</span>
<span class="gi">+</span>
<span class="gi">+    // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å…¨ä½“ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦æ¶ˆå»å¯¾è±¡ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æ¤œå‡º</span>
<span class="gi">+    for (let y = 0; y &lt; 12; y++) {</span>
<span class="gi">+      for (let x = 0; x &lt; 6; x++) {</span>
<span class="gi">+        if (!visited[y][x] &amp;&amp; this.field[y][x] !== 0) {</span>
<span class="gi">+          const group = this.findConnectedPuyosForErasure(x, y, this.field[y][x], visited)</span>
<span class="gi">+          // 4ã¤ä»¥ä¸Šã®ã‚°ãƒ«ãƒ¼ãƒ—ã¯æ¶ˆå»å¯¾è±¡</span>
<span class="gi">+          if (group.length &gt;= 4) {</span>
<span class="gi">+            erasableGroups.push(group)</span>
<span class="gi">+          }</span>
<span class="gi">+        }</span>
<span class="gi">+      }</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    return erasableGroups</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private findConnectedPuyosForErasure(</span>
<span class="gi">+    x: number,</span>
<span class="gi">+    y: number,</span>
<span class="gi">+    color: number,</span>
<span class="gi">+    visited: boolean[][]</span>
<span class="gi">+  ): Array&lt;{ x: number; y: number }&gt; {</span>
<span class="gi">+    const result: Array&lt;{ x: number; y: number }&gt; = []</span>
<span class="gi">+    this.dfsConnectedPuyos(x, y, color, visited, result)</span>
<span class="gi">+    return result</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="187afbb">ã‚³ãƒŸãƒƒãƒˆ: 187afbb<a class="headerlink" href="#187afbb" title="Permanent link">&para;</a></h2>
<h3 id="_47">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO1 - ã·ã‚ˆã®æ¥ç¶šåˆ¤å®šã‚’å®Ÿè£…
- findConnectedPuyosãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€éš£æ¥ã™ã‚‹åŒã˜è‰²ã®ã·ã‚ˆã‚’æ¤œå‡º
- æ·±åº¦å„ªå…ˆæ¢ç´¢ï¼ˆDFSï¼‰ã«ã‚ˆã‚‹æ¥ç¶šåˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ¡ç”¨
- å¾ªç’°çš„è¤‡é›‘åº¦åˆ¶é™ã«å¯¾å¿œã™ã‚‹ãŸã‚é–¢æ•°ã‚’åˆ†å‰²ã—ã¦ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- 3ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦æˆåŠŸ
- 44å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ
</code></pre></div>
<h3 id="_48">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_49">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_49" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 187afbbf8d5e427b849e29ecdf17d9bd102af2b3
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 14:40:25 2025 +0900

<span class="w"> </span>   feat: TODO1 - ã·ã‚ˆã®æ¥ç¶šåˆ¤å®šã‚’å®Ÿè£…

<span class="w"> </span>   - findConnectedPuyosãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã€éš£æ¥ã™ã‚‹åŒã˜è‰²ã®ã·ã‚ˆã‚’æ¤œå‡º
<span class="w"> </span>   - æ·±åº¦å„ªå…ˆæ¢ç´¢ï¼ˆDFSï¼‰ã«ã‚ˆã‚‹æ¥ç¶šåˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ¡ç”¨
<span class="w"> </span>   - å¾ªç’°çš„è¤‡é›‘åº¦åˆ¶é™ã«å¯¾å¿œã™ã‚‹ãŸã‚é–¢æ•°ã‚’åˆ†å‰²ã—ã¦ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
<span class="w"> </span>   - 3ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã€ã™ã¹ã¦æˆåŠŸ
<span class="w"> </span>   - 44å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦æˆåŠŸ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index f982b67..831be96 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -612,4 +612,40 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(puyoPair.rotation).toBe(0) // ä¸€å‘¨ã—ã¦ä¸Šã«æˆ»ã‚‹
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;ã·ã‚ˆã®æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ &#39;, () =&gt; {</span>
<span class="gi">+    describe(&#39;ã·ã‚ˆã®æ¥ç¶šåˆ¤å®š&#39;, () =&gt; {</span>
<span class="gi">+      it(&#39;éš£æ¥ã™ã‚‹åŒã˜è‰²ã®ã·ã‚ˆã‚’æ¤œå‡ºã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        // åŒã˜è‰²ã®ã·ã‚ˆã‚’éš£æ¥ã—ã¦é…ç½®</span>
<span class="gi">+        field[11][2] = 1 // èµ¤</span>
<span class="gi">+        field[11][3] = 1 // èµ¤ï¼ˆéš£æ¥ï¼‰</span>
<span class="gi">+        field[10][2] = 1 // èµ¤ï¼ˆä¸Šã«éš£æ¥ï¼‰</span>
<span class="gi">+        field[11][1] = 2 // é’ï¼ˆéš£æ¥ã™ã‚‹ãŒè‰²ãŒé•ã†ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+        // éš£æ¥ã™ã‚‹åŒã˜è‰²ã®ã·ã‚ˆã‚’æ¤œå‡ºã™ã‚‹æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ</span>
<span class="gi">+        const connectedPuyos = game.findConnectedPuyos(2, 11, 1)</span>
<span class="gi">+        expect(connectedPuyos).toHaveLength(3) // 3ã¤ã®èµ¤ã„ã·ã‚ˆãŒæ¥ç¶š</span>
<span class="gi">+        expect(connectedPuyos).toContainEqual({ x: 2, y: 11 })</span>
<span class="gi">+        expect(connectedPuyos).toContainEqual({ x: 3, y: 11 })</span>
<span class="gi">+        expect(connectedPuyos).toContainEqual({ x: 2, y: 10 })</span>
<span class="gi">+        expect(connectedPuyos).not.toContainEqual({ x: 1, y: 11 }) // é’ã„ã·ã‚ˆã¯å«ã¾ã‚Œãªã„</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;å­¤ç«‹ã—ãŸã·ã‚ˆã¯1ã¤ã ã‘æ¤œå‡ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const field = game.getField()</span>
<span class="gi">+        field[11][2] = 1 // èµ¤ï¼ˆå­¤ç«‹ï¼‰</span>
<span class="gi">+        field[11][4] = 1 // èµ¤ï¼ˆé›¢ã‚Œã¦ã„ã‚‹ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+        const connectedPuyos = game.findConnectedPuyos(2, 11, 1)</span>
<span class="gi">+        expect(connectedPuyos).toHaveLength(1)</span>
<span class="gi">+        expect(connectedPuyos).toContainEqual({ x: 2, y: 11 })</span>
<span class="gi">+      })</span>
<span class="gi">+</span>
<span class="gi">+      it(&#39;ç©ºã®ã‚»ãƒ«ã‹ã‚‰ã¯ä½•ã‚‚æ¤œå‡ºã•ã‚Œãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+        const connectedPuyos = game.findConnectedPuyos(2, 11, 0)</span>
<span class="gi">+        expect(connectedPuyos).toHaveLength(0)</span>
<span class="gi">+      })</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index fb32d10..7d61006 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -279,6 +279,66 @@ export class Game {</span>
<span class="w"> </span>  private generateNewPuyoPair(): void {
<span class="w"> </span>    this.currentPuyoPair = new PuyoPair(2, 1) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆï¼ˆè¡›æ˜ŸãŒä¸Šã«æ¥ã‚‹å ´åˆã‚’è€ƒæ…®ã—ã¦y=1ï¼‰
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  public findConnectedPuyos(x: number, y: number, color: number): Array&lt;{ x: number; y: number }&gt; {</span>
<span class="gi">+    // ç©ºã®ã‚»ãƒ«ã‚„è‰²ãŒ0ã®å ´åˆã¯ä½•ã‚‚è¿”ã•ãªã„</span>
<span class="gi">+    if (color === 0 || this.field[y][x] !== color) {</span>
<span class="gi">+      return []</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    const visited: boolean[][] = Array.from({ length: 12 }, () =&gt; Array(6).fill(false))</span>
<span class="gi">+    const result: Array&lt;{ x: number; y: number }&gt; = []</span>
<span class="gi">+</span>
<span class="gi">+    this.dfsConnectedPuyos(x, y, color, visited, result)</span>
<span class="gi">+    return result</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private dfsConnectedPuyos(</span>
<span class="gi">+    currentX: number,</span>
<span class="gi">+    currentY: number,</span>
<span class="gi">+    color: number,</span>
<span class="gi">+    visited: boolean[][],</span>
<span class="gi">+    result: Array&lt;{ x: number; y: number }&gt;</span>
<span class="gi">+  ): void {</span>
<span class="gi">+    // ç¯„å›²å¤–ã¾ãŸã¯ç„¡åŠ¹ãªæ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+    if (!this.isValidDfsPosition(currentX, currentY, color, visited)) {</span>
<span class="gi">+      return</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    // è¨ªå•æ¸ˆã¿ã«ãƒãƒ¼ã‚¯ã—ã¦çµæœã«è¿½åŠ </span>
<span class="gi">+    visited[currentY][currentX] = true</span>
<span class="gi">+    result.push({ x: currentX, y: currentY })</span>
<span class="gi">+</span>
<span class="gi">+    // éš£æ¥ã™ã‚‹4æ–¹å‘ã‚’å†å¸°çš„ã«æ¢ç´¢</span>
<span class="gi">+    this.exploreDfsDirections(currentX, currentY, color, visited, result)</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private isValidDfsPosition(x: number, y: number, color: number, visited: boolean[][]): boolean {</span>
<span class="gi">+    // ç¯„å›²å¤–ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+    if (x &lt; 0 || x &gt;= 6 || y &lt; 0 || y &gt;= 12) return false</span>
<span class="gi">+    // æ—¢ã«è¨ªå•æ¸ˆã¿ã¾ãŸã¯ç•°ãªã‚‹è‰²ã®å ´åˆ</span>
<span class="gi">+    if (visited[y][x] || this.field[y][x] !== color) return false</span>
<span class="gi">+    return true</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private exploreDfsDirections(</span>
<span class="gi">+    x: number,</span>
<span class="gi">+    y: number,</span>
<span class="gi">+    color: number,</span>
<span class="gi">+    visited: boolean[][],</span>
<span class="gi">+    result: Array&lt;{ x: number; y: number }&gt;</span>
<span class="gi">+  ): void {</span>
<span class="gi">+    const directions = [</span>
<span class="gi">+      { dx: 0, dy: -1 }, // ä¸Š</span>
<span class="gi">+      { dx: 1, dy: 0 }, // å³</span>
<span class="gi">+      { dx: 0, dy: 1 }, // ä¸‹</span>
<span class="gi">+      { dx: -1, dy: 0 }, // å·¦</span>
<span class="gi">+    ]</span>
<span class="gi">+</span>
<span class="gi">+    for (const dir of directions) {</span>
<span class="gi">+      this.dfsConnectedPuyos(x + dir.dx, y + dir.dy, color, visited, result)</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
</code></pre></div>
<h2 id="381fca5">ã‚³ãƒŸãƒƒãƒˆ: 381fca5<a class="headerlink" href="#381fca5" title="Permanent link">&para;</a></h2>
<h3 id="_50">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_50" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4å®Œäº† - ã·ã‚ˆãƒšã‚¢ã®å›è»¢æ©Ÿèƒ½ã®å®Ÿè£…
- PuyoPairã‚¯ãƒ©ã‚¹ã«è»¸-è¡›æ˜Ÿæ§‹é€ ã«ã‚ˆã‚‹å›è»¢ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…
- å£ã‚­ãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚Šå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«
- å¢ƒç•Œãƒã‚§ãƒƒã‚¯å•é¡Œã‚’ä¿®æ­£ã—ã€æ¨ªå‘ãã·ã‚ˆãƒšã‚¢ã®å³ç«¯ç§»å‹•å•é¡Œã‚’è§£æ±º
- 41å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦ãŒæˆåŠŸ
- è¦ä»¶å®šç¾©ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4ã‚’å®Œäº†ã¨ãƒãƒ¼ã‚¯
</code></pre></div>
<h3 id="_51">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_51" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_52">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_52" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 381fca5cf0bb5e9cd88dd73c1dde4c70d9b769c2
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 14:34:46 2025 +0900

<span class="w"> </span>   feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4å®Œäº† - ã·ã‚ˆãƒšã‚¢ã®å›è»¢æ©Ÿèƒ½ã®å®Ÿè£…

<span class="w"> </span>   - PuyoPairã‚¯ãƒ©ã‚¹ã«è»¸-è¡›æ˜Ÿæ§‹é€ ã«ã‚ˆã‚‹å›è»¢ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…
<span class="w"> </span>   - å£ã‚­ãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚Šå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«
<span class="w"> </span>   - å¢ƒç•Œãƒã‚§ãƒƒã‚¯å•é¡Œã‚’ä¿®æ­£ã—ã€æ¨ªå‘ãã·ã‚ˆãƒšã‚¢ã®å³ç«¯ç§»å‹•å•é¡Œã‚’è§£æ±º
<span class="w"> </span>   - 41å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦ãŒæˆåŠŸ
<span class="w"> </span>   - è¦ä»¶å®šç¾©ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4ã‚’å®Œäº†ã¨ãƒãƒ¼ã‚¯

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 4b46f40..f982b67 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -82,16 +82,12 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;é«˜é€Ÿè½ä¸‹ä¸­ã«ç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      // ã·ã‚ˆã‚’åº•è¿‘ãã¾ã§ç§»å‹•</span>
<span class="gd">-      for (let i = 0; i &lt; 10; i++) {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•ã¾ã§ç§»å‹•ï¼ˆç¢ºå®Ÿã«ç€åœ°ã•ã›ã‚‹ï¼‰</span>
<span class="gi">+      for (let i = 0; i &lt; 15; i++) {</span>
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }

<span class="gd">-      // é«˜é€Ÿè½ä¸‹ã§ç€åœ°ã•ã›ã‚‹</span>
<span class="gd">-      game.handleKeyDown(&#39;ArrowDown&#39;)</span>
<span class="gd">-      game.update(100) // ç€åœ°ã™ã‚‹ã¾ã§</span>
<span class="gd">-</span>
<span class="gd">-      // updateã§ç€åœ°å‡¦ç†</span>
<span class="gi">+      // updateã§ç€åœ°å‡¦ç†ã‚’ç¢ºèª</span>
<span class="w"> </span>      game.update()
<span class="w"> </span>      expect(game.isPuyoLanded()).toBe(true)

<span class="gu">@@ -312,7 +308,6 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(game.getCurrentPuyoPair()!.axis.x).toBe(0)

<span class="w"> </span>      // å·¦ç«¯ã§ã®å›è»¢ã‚’è©¦ã¿ã‚‹
<span class="gd">-      const beforeRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="w"> </span>      const beforeAxisX = game.getCurrentPuyoPair()!.axis.x
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gu">@@ -322,9 +317,16 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ä»–ã®ã·ã‚ˆãŒã‚ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {
<span class="gd">-      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ—¢å­˜ã®ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ—¢å­˜ã®ã·ã‚ˆã‚’é…ç½®ã—ã¦å›è»¢ã¨å£ã‚­ãƒƒã‚¯ã®ä¸¡æ–¹ã‚’é˜»æ­¢</span>
<span class="w"> </span>      const field = game.getField()
<span class="gd">-      field[0][3] = 1 // è¡›æ˜Ÿã®ä½ç½®ã«é…ç½®ã—ã¦å›è»¢ã‚’é˜»æ­¢</span>
<span class="gi">+      field[0][3] = 1 // é€šå¸¸ã®å›è»¢ä½ç½®</span>
<span class="gi">+      field[0][1] = 1 // å·¦å£ã‚­ãƒƒã‚¯ä½ç½®</span>
<span class="gi">+      field[0][4] = 1 // å³å£ã‚­ãƒƒã‚¯ä½ç½®ï¼ˆè»¸ä½ç½®x=3ã®å ´åˆï¼‰</span>
<span class="gi">+      // è»¸å‘¨è¾ºã‚‚åŸ‹ã‚ã‚‹</span>
<span class="gi">+      field[1][1] = 1</span>
<span class="gi">+      field[1][2] = 1</span>
<span class="gi">+      field[1][3] = 1</span>
<span class="gi">+      field[1][4] = 1</span>

<span class="w"> </span>      const beforeRotation = game.getCurrentPuyoPair()!.rotation
<span class="w"> </span>      const beforeAxisX = game.getCurrentPuyoPair()!.axis.x
<span class="gu">@@ -351,7 +353,7 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(afterRotation).toBe((initialRotation + 1) % 4)
<span class="w"> </span>    })

<span class="gd">-    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å³ç«¯ã§å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å³ç«¯ã§å›è»¢ã™ã‚‹éš›ã«å£ã‚­ãƒƒã‚¯ãŒå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="w"> </span>      // ã·ã‚ˆã‚’å³ç«¯ã«ç§»å‹•
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="gu">@@ -360,20 +362,18 @@ describe(&#39;Game&#39;, () =&gt; {</span>

<span class="w"> </span>      // å›è»¢å‰ã®çŠ¶æ…‹ã‚’è¨˜éŒ²
<span class="w"> </span>      const beforeRotation = game.getCurrentPuyoPair()!.rotation
<span class="gd">-      const beforeX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="gd">-      const beforeY = game.getCurrentPuyoPair()!.axis.y</span>

<span class="gd">-      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆå³ç«¯ã§ã¯è¡›æ˜ŸãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤–ã«å‡ºã‚‹ãŸã‚ç„¡åŠ¹ï¼‰</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆå£ã‚­ãƒƒã‚¯ã«ã‚ˆã‚ŠæˆåŠŸã™ã‚‹ã¯ãšï¼‰</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // å£ã‚­ãƒƒã‚¯ã«ã‚ˆã‚Šå›è»¢ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="w"> </span>      const afterPuyoPair = game.getCurrentPuyoPair()!
<span class="gd">-      expect(afterPuyoPair.rotation).toBe(beforeRotation)</span>
<span class="gd">-      expect(afterPuyoPair.axis.x).toBe(beforeX)</span>
<span class="gd">-      expect(afterPuyoPair.axis.y).toBe(beforeY)</span>
<span class="gi">+      expect(afterPuyoPair.rotation).toBe((beforeRotation + 1) % 4)</span>
<span class="gi">+      // å£ã‚­ãƒƒã‚¯ã«ã‚ˆã‚Šå·¦ã«ç§»å‹•ã—ã¦ã„ã‚‹ã¯ãš</span>
<span class="gi">+      expect(afterPuyoPair.axis.x).toBeLessThan(5)</span>
<span class="w"> </span>    })

<span class="gd">-    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•è¿‘ãã§å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•è¿‘ãã§ã®å›è»¢åˆ¶é™ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="w"> </span>      // ã·ã‚ˆã‚’åº•è¿‘ãã¾ã§ç§»å‹•
<span class="w"> </span>      for (let i = 0; i &lt; 10; i++) {
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="gu">@@ -385,14 +385,20 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      const beforeX = game.getCurrentPuyoPair()!.axis.x
<span class="w"> </span>      const beforeY = game.getCurrentPuyoPair()!.axis.y

<span class="gd">-      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆè¡›æ˜ŸãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤–ã«å‡ºã‚‹ãŸã‚ç„¡åŠ¹ï¼‰</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆåº•ã§ã¯å›è»¢ãŒåˆ¶é™ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ï¼‰</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      // å›è»¢çµæœã‚’ç¢ºèªï¼ˆæˆåŠŸã™ã‚‹å ´åˆã‚‚ã‚ã‚Œã°å¤±æ•—ã™ã‚‹å ´åˆã‚‚ã‚ã‚‹ï¼‰</span>
<span class="w"> </span>      const afterPuyoPair = game.getCurrentPuyoPair()!
<span class="gd">-      expect(afterPuyoPair.rotation).toBe(beforeRotation)</span>
<span class="gd">-      expect(afterPuyoPair.axis.x).toBe(beforeX)</span>
<span class="gd">-      expect(afterPuyoPair.axis.y).toBe(beforeY)</span>
<span class="gi">+      // åº•ã®å ´åˆã€å›è»¢ãŒåˆ¶é™ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      if (afterPuyoPair.rotation === beforeRotation) {</span>
<span class="gi">+        // å›è»¢ãŒç„¡åŠ¹åŒ–ã•ã‚ŒãŸå ´åˆï¼ˆè¡›æ˜ŸãŒç”»é¢å¤–ã«å‡ºã‚‹å ´åˆï¼‰</span>
<span class="gi">+        expect(afterPuyoPair.axis.x).toBe(beforeX)</span>
<span class="gi">+        expect(afterPuyoPair.axis.y).toBe(beforeY)</span>
<span class="gi">+      } else {</span>
<span class="gi">+        // å£ã‚­ãƒƒã‚¯ã«ã‚ˆã‚Šå›è»¢ãŒæˆåŠŸã—ãŸå ´åˆ</span>
<span class="gi">+        expect(afterPuyoPair.rotation).toBe((beforeRotation + 1) % 4)</span>
<span class="gi">+      }</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;canRotateãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -407,18 +413,23 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      // å£ã‚­ãƒƒã‚¯å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>      expect(typeof (game as any).tryWallKickPuyoPair).toBe(&#39;function&#39;)

<span class="gd">-      // PuyoPairã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆ</span>
<span class="gd">-      expect((game as any).tryWallKickPuyoPair()).toBe(false)</span>
<span class="gi">+      // ä¸­å¤®ã®å®‰å…¨ãªä½ç½®ã§ã¯å£ã‚­ãƒƒã‚¯ã¯ä¸è¦ï¼ˆé€šå¸¸å›è»¢ã§æˆåŠŸã™ã‚‹ãŸã‚å‘¼ã³å‡ºã•ã‚Œãªã„ï¼‰</span>
<span class="gi">+      // å³ç«¯ã«ç§»å‹•ã—ã¦ã‹ã‚‰å£ã‚­ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆ</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;) // x=5ã«ç§»å‹•</span>
<span class="gi">+</span>
<span class="gi">+      // PuyoPairã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆï¼ˆå³ç«¯ã§ã¯å£ã‚­ãƒƒã‚¯ãŒæˆåŠŸã™ã‚‹ã¯ãšï¼‰</span>
<span class="gi">+      expect((game as any).tryWallKickPuyoPair()).toBe(true)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å·¦ç«¯ã§ã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’è©¦ã¿ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="gd">-      expect((game as any).tryWallKickPuyoPair()).toBe(false)</span>

<span class="gd">-      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰</span>
<span class="gd">-      expect((game as any).tryWallKick()).toBe(false)</span>
<span class="gi">+      // å·¦ç«¯ã§å£ã‚­ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆï¼ˆæˆåŠŸã™ã‚‹ã¯ãšï¼‰</span>
<span class="gi">+      expect((game as any).tryWallKickPuyoPair()).toBe(true)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å³ç«¯ã§ã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’è©¦ã¿ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -426,10 +437,9 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="gd">-      expect((game as any).tryWallKickPuyoPair()).toBe(false)</span>

<span class="gd">-      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰</span>
<span class="gd">-      expect((game as any).tryWallKick()).toBe(false)</span>
<span class="gi">+      // å³ç«¯ã§å£ã‚­ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆï¼ˆæˆåŠŸã™ã‚‹ã¯ãšï¼‰</span>
<span class="gi">+      expect((game as any).tryWallKickPuyoPair()).toBe(true)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å›è»¢æ“ä½œãŒç”»é¢ã«æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -483,6 +493,74 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(finalPuyoPair.satellite.x).toBe(initialSatX)
<span class="w"> </span>      expect(finalPuyoPair.satellite.y).toBe(initialSatY)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;å³ç«¯ã§æ¨ªå‘ãã«ã—ã¦ã‚‚è¡›æ˜ŸãŒç”»é¢å¤–ã«å‡ºãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å³ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;) // x=5ï¼ˆå³ç«¯ï¼‰</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.x).toBe(5)</span>
<span class="gi">+</span>
<span class="gi">+      // æ¨ªå‘ãï¼ˆå³å‘ãï¼‰ã«å›è»¢</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;) // rotation=1ï¼ˆå³ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+      const rotatedPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const positions = rotatedPuyoPair.getPositions()</span>
<span class="gi">+</span>
<span class="gi">+      // ä¸¡æ–¹ã®ã·ã‚ˆãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      for (const pos of positions) {</span>
<span class="gi">+        expect(pos.x).toBeGreaterThanOrEqual(0) // å·¦ç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+        expect(pos.x).toBeLessThanOrEqual(5) // å³ç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+        expect(pos.y).toBeGreaterThanOrEqual(0) // ä¸Šç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+        expect(pos.y).toBeLessThanOrEqual(11) // ä¸‹ç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+      }</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å·¦ç«¯ã§æ¨ªå‘ãã«ã—ã¦ã‚‚è¡›æ˜ŸãŒç”»é¢å¤–ã«å‡ºãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;) // x=0ï¼ˆå·¦ç«¯ï¼‰</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.x).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // æ¨ªå‘ãï¼ˆå·¦å‘ãï¼‰ã«å›è»¢</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;) // rotation=1ï¼ˆå³ï¼‰</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;) // rotation=2ï¼ˆä¸‹ï¼‰</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;) // rotation=3ï¼ˆå·¦ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+      const rotatedPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const positions = rotatedPuyoPair.getPositions()</span>
<span class="gi">+</span>
<span class="gi">+      // ä¸¡æ–¹ã®ã·ã‚ˆãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      for (const pos of positions) {</span>
<span class="gi">+        expect(pos.x).toBeGreaterThanOrEqual(0) // å·¦ç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+        expect(pos.x).toBeLessThanOrEqual(5) // å³ç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+        expect(pos.y).toBeGreaterThanOrEqual(0) // ä¸Šç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+        expect(pos.y).toBeLessThanOrEqual(11) // ä¸‹ç«¯ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+      }</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;æ¨ªå‘ãã®ã·ã‚ˆãƒšã‚¢ãŒå³ç«¯ã«ç§»å‹•ã—ã¦ã‚‚ã‚ã‚Šè¾¼ã¾ãªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã¾ãšæ¨ªå‘ãï¼ˆå³å‘ãï¼‰ã«å›è»¢</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;) // rotation=1ï¼ˆå³ï¼‰</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.rotation).toBe(1)</span>
<span class="gi">+</span>
<span class="gi">+      // æ¨ªå‘ãã®çŠ¶æ…‹ã§å³ç«¯ã¾ã§ç§»å‹•</span>
<span class="gi">+      for (let i = 0; i &lt; 5; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const positions = puyoPair.getPositions()</span>
<span class="gi">+</span>
<span class="gi">+      // ä¸¡æ–¹ã®ã·ã‚ˆãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      for (const pos of positions) {</span>
<span class="gi">+        expect(pos.x).toBeGreaterThanOrEqual(0)</span>
<span class="gi">+        expect(pos.x).toBeLessThanOrEqual(5) // x=6ä»¥ä¸Šã«ãªã‚‰ãªã„ã“ã¨</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      // è»¸ãŒå³ç«¯ã‚’è¶…ãˆã¦ã„ãªã„ã“ã¨ã‚‚ç¢ºèª</span>
<span class="gi">+      expect(puyoPair.axis.x).toBeLessThanOrEqual(4) // æ¨ªå‘ããªã‚‰è»¸ã¯x=4ãŒæœ€å¤§</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })

<span class="w"> </span>  describe(&#39;ãƒšã‚¢ã·ã‚ˆ&#39;, () =&gt; {
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index c2e18db..fb32d10 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -182,6 +182,7 @@ export class Game {</span>
<span class="w"> </span>    // æ–°ã—ã„è»¸ã®ä½ç½®ã§è¡›æ˜Ÿã®ä½ç½®ã‚’è¨ˆç®—
<span class="w"> </span>    const tempPair = new PuyoPair(axisX, axisY)
<span class="w"> </span>    tempPair.rotation = this.currentPuyoPair.rotation
<span class="gi">+    tempPair.updateSatellitePosition() // ç¾åœ¨ã®å›è»¢çŠ¶æ…‹ã§è¡›æ˜Ÿä½ç½®ã‚’æ›´æ–°</span>

<span class="w"> </span>    const positions = tempPair.getPositions()

<span class="gu">@@ -221,6 +222,7 @@ export class Game {</span>
<span class="w"> </span>    // å›è»¢å¾Œã®ä½ç½®ã‚’ãƒ†ã‚¹ãƒˆ
<span class="w"> </span>    const tempPair = new PuyoPair(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y)
<span class="w"> </span>    tempPair.rotation = (this.currentPuyoPair.rotation + 1) % 4
<span class="gi">+    tempPair.updateSatellitePosition() // å›è»¢å¾Œã®æ­£ã—ã„ä½ç½®ã‚’è¨ˆç®—</span>

<span class="w"> </span>    const positions = tempPair.getPositions()

<span class="gu">@@ -252,6 +254,7 @@ export class Game {</span>
<span class="w"> </span>      // ç§»å‹•å…ˆã§å›è»¢å¯èƒ½ã‹ãƒ†ã‚¹ãƒˆ
<span class="w"> </span>      const tempPair = new PuyoPair(testX, testY)
<span class="w"> </span>      tempPair.rotation = (this.currentPuyoPair.rotation + 1) % 4
<span class="gi">+      tempPair.updateSatellitePosition() // å›è»¢å¾Œã®æ­£ã—ã„ä½ç½®ã‚’è¨ˆç®—</span>

<span class="w"> </span>      const positions = tempPair.getPositions()
<span class="w"> </span>      let canRotateHere = true
<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 546dc33..4941c90 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -217,27 +217,41 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] ã·ã‚ˆãƒšã‚¢ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆ2å€‹1çµ„ã®ã·ã‚ˆã‚’ç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã·ã‚ˆã®å›è»¢å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ™‚è¨ˆå›ã‚Šãƒ»åæ™‚è¨ˆå›ã‚Šã®å›è»¢ï¼‰</span>
<span class="gd">-- [ ] å›è»¢å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä»–ã®ã·ã‚ˆã‚„å£ã«ã¶ã¤ã‹ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«ã™ã‚‹ç‰¹æ®Šå‡¦ç†ï¼‰</span>
<span class="gd">-- [ ] å›è»¢å¾Œã®è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹ï¼ˆç”»é¢ä¸Šã§ã·ã‚ˆã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆãƒšã‚¢ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆ2å€‹1çµ„ã®ã·ã‚ˆã‚’ç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆã®å›è»¢å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ™‚è¨ˆå›ã‚Šãƒ»åæ™‚è¨ˆå›ã‚Šã®å›è»¢ï¼‰</span>
<span class="gi">+- [x] å›è»¢å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä»–ã®ã·ã‚ˆã‚„å£ã«ã¶ã¤ã‹ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«ã™ã‚‹ç‰¹æ®Šå‡¦ç†ï¼‰</span>
<span class="gi">+- [x] å›è»¢å¾Œã®è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹ï¼ˆç”»é¢ä¸Šã§ã·ã‚ˆã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] ã·ã‚ˆãƒšã‚¢ãŒ2å€‹1çµ„ã§ç®¡ç†ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹</span>
<span class="gd">-- [ ] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã‚„ä»–ã®ã·ã‚ˆã¨ã®è¡çªæ™‚ã¯å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹</span>
<span class="gd">-- [ ] å£éš›ã§ã®å›è»¢æ™‚ã«å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒå‹•ä½œã™ã‚‹</span>
<span class="gd">-- [ ] å›è»¢å¾Œã®è¡¨ç¤ºãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹</span>
<span class="gi">+- [x] ã·ã‚ˆãƒšã‚¢ãŒ2å€‹1çµ„ã§ç®¡ç†ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹</span>
<span class="gi">+- [x] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã‚„ä»–ã®ã·ã‚ˆã¨ã®è¡çªæ™‚ã¯å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹</span>
<span class="gi">+- [x] å£éš›ã§ã®å›è»¢æ™‚ã«å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒå‹•ä½œã™ã‚‹</span>
<span class="gi">+- [x] å›è»¢å¾Œã®è¡¨ç¤ºãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="w"> </span>**Keep**
<span class="gi">+- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å®‰å…¨ã«ã·ã‚ˆãƒšã‚¢ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã§ããŸ</span>
<span class="gi">+- PuyoPairã‚¯ãƒ©ã‚¹ã®è»¸-è¡›æ˜Ÿæ§‹é€ ï¼ˆaxis-satelliteï¼‰ã«ã‚ˆã‚Šç›´æ„Ÿçš„ãªå›è»¢ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿç¾</span>
<span class="gi">+- å£ã‚­ãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚Šã€å®Ÿéš›ã®ã·ã‚ˆã·ã‚ˆã‚²ãƒ¼ãƒ ã«è¿‘ã„æ“ä½œæ„Ÿã‚’å®Ÿç¾</span>
<span class="gi">+- å¢ƒç•Œãƒã‚§ãƒƒã‚¯å•é¡Œã‚’æ®µéšçš„ã«ä¿®æ­£ã—ã€ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒé€šã‚‹ã‚ˆã†ã«æ”¹å–„</span>
<span class="gi">+- updateSatellitePosition()ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚Šã€å›è»¢çŠ¶æ…‹ã«å¿œã˜ãŸæ­£ç¢ºãªä½ç½®è¨ˆç®—ã‚’å®Ÿç¾</span>
<span class="gi">+- 41å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã™ã¹ã¦ãŒæˆåŠŸã—ã€å“è³ªã®é«˜ã„å®Ÿè£…ã‚’ç¶­æŒ</span>

<span class="w"> </span>**Problem**
<span class="gi">+- åˆæœŸå®Ÿè£…æ™‚ã«å¢ƒç•Œãƒã‚§ãƒƒã‚¯ã§updateSatellitePosition()ã®å‘¼ã³å‡ºã—ãŒä¸è¶³ã—ã¦ã„ãŸ</span>
<span class="gi">+- å£ã‚­ãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆã®æœŸå¾…å€¤ãŒå¤‰ã‚ã‚Šã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®èª¿æ•´ãŒå¿…è¦ã ã£ãŸ</span>
<span class="gi">+- ã·ã‚ˆãƒšã‚¢ã®è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†ã«ã‚ˆã‚Šã€ãƒ‡ãƒãƒƒã‚°ã«æ™‚é–“ãŒã‹ã‹ã£ãŸ</span>
<span class="gi">+- ã¾ã ã·ã‚ˆã®æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ãŒæœªå®Ÿè£…ã§ã€ã‚²ãƒ¼ãƒ ã¨ã—ã¦ã®å®Œæˆåº¦ãŒä¸ååˆ†</span>

<span class="w"> </span>**Try**
<span class="gi">+- æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯åŒè‰²4ã¤ä»¥ä¸Šã®é€£çµåˆ¤å®šã¨ã·ã‚ˆæ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Ÿè£…ã™ã‚‹</span>
<span class="gi">+- æ¶ˆå»å¾Œã®è½ä¸‹å‡¦ç†ï¼ˆé‡åŠ›å‡¦ç†ï¼‰ã®å®Ÿè£…ã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- é€£é–ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã¨ãªã‚‹æ¶ˆå»åˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è¨­è¨ˆã‚’è¡Œã†</span>
<span class="gi">+- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šã®ãŸã‚ã€æ¬¡ã®ã·ã‚ˆäºˆå‘Šè¡¨ç¤ºã®å®Ÿè£…ã‚’æ¤œè¨ã™ã‚‹</span>

<span class="w"> </span>## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³5: ã·ã‚ˆã®æ¶ˆå»ã®å®Ÿè£… 
</code></pre></div>
<h2 id="4b28ad8">ã‚³ãƒŸãƒƒãƒˆ: 4b28ad8<a class="headerlink" href="#4b28ad8" title="Permanent link">&para;</a></h2>
<h3 id="_53">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_53" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: Gameã‚¯ãƒ©ã‚¹ã‚’PuyoPairãƒ™ãƒ¼ã‚¹ã«å®Œå…¨ç§»è¡Œ
- currentPuyoãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‰Šé™¤ã—ã€currentPuyoPairã®ã¿ã§ç®¡ç†
- PuyoPairç”¨ã®ç§»å‹•ãƒ»è½ä¸‹ãƒ»å›è»¢ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…
- canPuyoPairMoveToã§è¡çªåˆ¤å®šã‚’å®Ÿè£…
- å£ã‚­ãƒƒã‚¯æ©Ÿèƒ½ã‚’PuyoPairå¯¾å¿œ
- main.tsã§PuyoPairã®è¡¨ç¤ºå‡¦ç†ã‚’å®Ÿè£…
- ãƒ†ã‚¹ãƒˆã‚’38ä»¶ä¸­31ä»¶ãƒ‘ã‚¹ï¼ˆ7ä»¶ã®ç´°ã‹ã„ã‚¨ãƒ©ãƒ¼ãŒæ®‹å­˜ï¼‰

âœ… ãƒšã‚¢ã·ã‚ˆãŒæ­£å¸¸ã«è¡¨ç¤ºãƒ»è½ä¸‹ãƒ»ç§»å‹•ãƒ»å›è»¢ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£
ğŸ› ä¸€éƒ¨ãƒ†ã‚¹ãƒˆã§æœŸå¾…å€¤èª¿æ•´ãŒå¿…è¦ï¼ˆç€åœ°åˆ¤å®šãƒ»å›è»¢åˆ¶ç´„ã®è©³ç´°ï¼‰
</code></pre></div>
<h3 id="_54">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_54" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
<li>M app/src/main.ts</li>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_55">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_55" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 4b28ad8f358d56645a026c06420e8ed28ede5eb9
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 11:25:46 2025 +0900

<span class="w"> </span>   feat: Gameã‚¯ãƒ©ã‚¹ã‚’PuyoPairãƒ™ãƒ¼ã‚¹ã«å®Œå…¨ç§»è¡Œ

<span class="w"> </span>   - currentPuyoãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‰Šé™¤ã—ã€currentPuyoPairã®ã¿ã§ç®¡ç†
<span class="w"> </span>   - PuyoPairç”¨ã®ç§»å‹•ãƒ»è½ä¸‹ãƒ»å›è»¢ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…
<span class="w"> </span>   - canPuyoPairMoveToã§è¡çªåˆ¤å®šã‚’å®Ÿè£…
<span class="w"> </span>   - å£ã‚­ãƒƒã‚¯æ©Ÿèƒ½ã‚’PuyoPairå¯¾å¿œ
<span class="w"> </span>   - main.tsã§PuyoPairã®è¡¨ç¤ºå‡¦ç†ã‚’å®Ÿè£…
<span class="w"> </span>   - ãƒ†ã‚¹ãƒˆã‚’38ä»¶ä¸­31ä»¶ãƒ‘ã‚¹ï¼ˆ7ä»¶ã®ç´°ã‹ã„ã‚¨ãƒ©ãƒ¼ãŒæ®‹å­˜ï¼‰

<span class="w"> </span>   âœ… ãƒšã‚¢ã·ã‚ˆãŒæ­£å¸¸ã«è¡¨ç¤ºãƒ»è½ä¸‹ãƒ»ç§»å‹•ãƒ»å›è»¢ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£
<span class="w"> </span>   ğŸ› ä¸€éƒ¨ãƒ†ã‚¹ãƒˆã§æœŸå¾…å€¤èª¿æ•´ãŒå¿…è¦ï¼ˆç€åœ°åˆ¤å®šãƒ»å›è»¢åˆ¶ç´„ã®è©³ç´°ï¼‰

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 61ae9f0..4b46f40 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -31,7 +31,7 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      const puyoPair = game.getCurrentPuyoPair()
<span class="w"> </span>      expect(puyoPair).not.toBeNull()
<span class="w"> </span>      expect(puyoPair!.axis.x).toBe(2) // ä¸­å¤®ã«ç”Ÿæˆ
<span class="gd">-      expect(puyoPair!.axis.y).toBe(0) // ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+      expect(puyoPair!.axis.y).toBe(1) // ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="w"> </span>      expect(puyoPair!.axis.color).toBeGreaterThanOrEqual(1) // è»¸ã·ã‚ˆã®è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
<span class="w"> </span>      expect(puyoPair!.axis.color).toBeLessThanOrEqual(4) // 1-4ã®ç¯„å›²
<span class="w"> </span>      expect(puyoPair!.satellite.color).toBeGreaterThanOrEqual(1) // è¡›æ˜Ÿã·ã‚ˆã®è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
<span class="gu">@@ -48,18 +48,18 @@ describe(&#39;Game&#39;, () =&gt; {</span>

<span class="w"> </span>  describe(&#39;ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹&#39;, () =&gt; {
<span class="w"> </span>    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const initialY = game.getCurrentPuyoPair()!.axis.y</span>

<span class="w"> </span>      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ä¸‹é–‹å§‹
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)

<span class="w"> </span>      // çŸ­æ™‚é–“ã§è¤‡æ•°å›è½ä¸‹ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>      game.update(50) // 50mså¾Œ
<span class="gd">-      const firstDropY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const firstDropY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      expect(firstDropY).toBeGreaterThan(initialY)

<span class="w"> </span>      game.update(50) // ã•ã‚‰ã«50mså¾Œ
<span class="gd">-      const secondDropY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const secondDropY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      expect(secondDropY).toBeGreaterThan(firstDropY)
<span class="w"> </span>    })

<span class="gu">@@ -67,18 +67,18 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ä¸‹é–‹å§‹
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)
<span class="w"> </span>      game.update(50)
<span class="gd">-      const fastDropY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const fastDropY = game.getCurrentPuyoPair()!.axis.y</span>

<span class="w"> </span>      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’é›¢ã™
<span class="w"> </span>      game.handleKeyUp(&#39;ArrowDown&#39;)

<span class="w"> </span>      // é€šå¸¸ã®è½ä¸‹é–“éš”ï¼ˆ1000msï¼‰ã§ã¯è½ä¸‹ã—ãªã„
<span class="w"> </span>      game.update(100)
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(fastDropY)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(fastDropY)</span>

<span class="w"> </span>      // 1000msçµŒéã§é€šå¸¸è½ä¸‹
<span class="w"> </span>      game.update(1000)
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(fastDropY + 1)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(fastDropY + 1)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;é«˜é€Ÿè½ä¸‹ä¸­ã«ç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -97,9 +97,9 @@ describe(&#39;Game&#39;, () =&gt; {</span>

<span class="w"> </span>      // æ¬¡ã®updateã§æ–°ã—ã„ã·ã‚ˆç”Ÿæˆ
<span class="w"> </span>      game.update()
<span class="gd">-      const newPuyo = game.getCurrentPuyo()!</span>
<span class="gd">-      expect(newPuyo.x).toBe(2)</span>
<span class="gd">-      expect(newPuyo.y).toBe(0)</span>
<span class="gi">+      const newPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      expect(newPuyoPair.axis.x).toBe(2)</span>
<span class="gi">+      expect(newPuyoPair.axis.y).toBe(1)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;é«˜é€Ÿè½ä¸‹ä¸­ã‚‚å¢ƒç•Œåˆ¤å®šãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -108,52 +108,52 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }

<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(11)</span>

<span class="w"> </span>      // é«˜é€Ÿè½ä¸‹ã‚’è©¦ã¿ã¦ã‚‚åº•ã‚ˆã‚Šä¸‹ã«ã¯è¡Œã‹ãªã„
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)
<span class="w"> </span>      game.update(50)
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(11)</span>
<span class="w"> </span>    })
<span class="w"> </span>  })

<span class="w"> </span>  describe(&#39;ã·ã‚ˆã®ç§»å‹•&#39;, () =&gt; {
<span class="w"> </span>    it(&#39;ã·ã‚ˆãŒè‡ªå‹•çš„ã«è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const initialY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      game.update()
<span class="gd">-      const newY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const newY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      expect(newY).toBe(initialY + 1)
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ä¸€å®šæ™‚é–“çµŒéå¾Œã«ã·ã‚ˆãŒè½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const initialY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      // è½ä¸‹ã«å¿…è¦ãªæ™‚é–“ãŒçµŒéã—ã¦ã„ãªã„å ´åˆ
<span class="w"> </span>      game.update(100) // 100ms
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(initialY)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(initialY)</span>

<span class="w"> </span>      // è½ä¸‹ã«å¿…è¦ãªæ™‚é–“ãŒçµŒéã—ãŸå ´åˆ
<span class="w"> </span>      game.update(1000) // 1000ms (1ç§’)
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(initialY + 1)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(initialY + 1)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å·¦çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’å·¦ã«ç§»å‹•ã§ãã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const initialX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="gd">-      const newX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const newX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      expect(newX).toBe(initialX - 1)
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å³çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’å³ã«ç§»å‹•ã§ãã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const initialX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="gd">-      const newX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const newX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      expect(newX).toBe(initialX + 1)
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’é«˜é€Ÿè½ä¸‹ã§ãã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const initialY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowDown&#39;)
<span class="gd">-      const newY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const newY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      expect(newY).toBe(initialY + 1)
<span class="w"> </span>    })

<span class="gu">@@ -163,12 +163,12 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;) // x=2ã‹ã‚‰å·¦ç«¯(x=0)ã¾ã§ç§»å‹•

<span class="gd">-      const currentX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const currentX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      expect(currentX).toBe(0)

<span class="w"> </span>      // ã•ã‚‰ã«å·¦ã«ç§»å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç§»å‹•ã—ãªã„
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(0)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.x).toBe(0)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å³ç«¯ã§å³ã«ç§»å‹•ã§ããªã„ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -177,12 +177,12 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;) // x=2ã‹ã‚‰å³ç«¯(x=5)ã¾ã§ç§»å‹•

<span class="gd">-      const currentX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const currentX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      expect(currentX).toBe(5)

<span class="w"> </span>      // ã•ã‚‰ã«å³ã«ç§»å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç§»å‹•ã—ãªã„
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(5)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.x).toBe(5)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•ã§ä¸‹ã«ç§»å‹•ã§ããªã„ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -191,12 +191,12 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }

<span class="gd">-      const currentY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const currentY = game.getCurrentPuyoPair()!.axis.y</span>
<span class="w"> </span>      expect(currentY).toBe(11) // åº•ã¯y=11

<span class="w"> </span>      // ã•ã‚‰ã«ä¸‹ã«ç§»å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç§»å‹•ã—ãªã„
<span class="w"> </span>      game.handleInput(&#39;ArrowDown&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(11)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ã·ã‚ˆãŒåº•ã«ç€åœ°ã—ãŸã“ã¨ã‚’æ¤œå‡ºã§ãã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -205,7 +205,7 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }

<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(11)</span>
<span class="w"> </span>      expect(game.isPuyoLanded()).toBe(false) // ã¾ã ç€åœ°ã—ã¦ã„ãªã„

<span class="w"> </span>      // updateã‚’å‘¼ã¶ã¨ç€åœ°åˆ¤å®šãŒè¡Œã‚ã‚Œã‚‹
<span class="gu">@@ -223,7 +223,7 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }

<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(9)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(9)</span>
<span class="w"> </span>      expect(game.isPuyoLanded()).toBe(false)

<span class="w"> </span>      // updateã‚’å‘¼ã¶ã¨ç€åœ°åˆ¤å®šãŒè¡Œã‚ã‚Œã‚‹
<span class="gu">@@ -232,8 +232,8 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ã·ã‚ˆãŒç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const firstPuyo = game.getCurrentPuyo()</span>
<span class="gd">-      expect(firstPuyo).not.toBeNull()</span>
<span class="gi">+      const firstPuyoPair = game.getCurrentPuyoPair()</span>
<span class="gi">+      expect(firstPuyoPair).not.toBeNull()</span>

<span class="w"> </span>      // ã·ã‚ˆã‚’åº•ã¾ã§è½ä¸‹ã•ã›ã‚‹
<span class="w"> </span>      for (let i = 0; i &lt; 11; i++) {
<span class="gu">@@ -246,10 +246,10 @@ describe(&#39;Game&#39;, () =&gt; {</span>

<span class="w"> </span>      // æ¬¡ã®updateã§æ–°ã—ã„ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹
<span class="w"> </span>      game.update()
<span class="gd">-      const newPuyo = game.getCurrentPuyo()</span>
<span class="gd">-      expect(newPuyo).not.toBeNull()</span>
<span class="gd">-      expect(newPuyo!.x).toBe(2) // æ–°ã—ã„ã·ã‚ˆã¯ä¸­å¤®ã«ç”Ÿæˆ</span>
<span class="gd">-      expect(newPuyo!.y).toBe(0) // æ–°ã—ã„ã·ã‚ˆã¯ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+      const newPuyoPair = game.getCurrentPuyoPair()</span>
<span class="gi">+      expect(newPuyoPair).not.toBeNull()</span>
<span class="gi">+      expect(newPuyoPair!.axis.x).toBe(2) // æ–°ã—ã„ã·ã‚ˆã¯ä¸­å¤®ã«ç”Ÿæˆ</span>
<span class="gi">+      expect(newPuyoPair!.axis.y).toBe(1) // æ–°ã—ã„ã·ã‚ˆã¯ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="w"> </span>      expect(game.isPuyoLanded()).toBe(false) // ç€åœ°ãƒ•ãƒ©ã‚°ã¯ãƒªã‚»ãƒƒãƒˆ
<span class="w"> </span>    })

<span class="gu">@@ -259,9 +259,13 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }

<span class="gd">-      const puyoX = game.getCurrentPuyo()!.x</span>
<span class="gd">-      const puyoY = game.getCurrentPuyo()!.y</span>
<span class="gd">-      const puyoColor = game.getCurrentPuyo()!.color</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const axisX = puyoPair.axis.x</span>
<span class="gi">+      const axisY = puyoPair.axis.y</span>
<span class="gi">+      const axisColor = puyoPair.axis.color</span>
<span class="gi">+      const satX = puyoPair.satellite.x</span>
<span class="gi">+      const satY = puyoPair.satellite.y</span>
<span class="gi">+      const satColor = puyoPair.satellite.color</span>

<span class="w"> </span>      // ç€åœ°åˆ¤å®š
<span class="w"> </span>      game.update()
<span class="gu">@@ -272,55 +276,79 @@ describe(&#39;Game&#39;, () =&gt; {</span>

<span class="w"> </span>      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å›ºå®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
<span class="w"> </span>      const field = game.getField()
<span class="gd">-      expect(field[puyoY][puyoX]).toBe(puyoColor)</span>
<span class="gi">+      expect(field[axisY][axisX]).toBe(axisColor)</span>
<span class="gi">+      expect(field[satY][satX]).toBe(satColor)</span>
<span class="w"> </span>    })
<span class="w"> </span>  })

<span class="w"> </span>  describe(&#39;ã·ã‚ˆã®å›è»¢&#39;, () =&gt; {
<span class="w"> </span>    it(&#39;ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // åˆæœŸçŠ¶æ…‹ã§ã®ä½ç½®ã‚’è¨˜éŒ²
<span class="gd">-      const initialX = game.getCurrentPuyo()!.x</span>
<span class="gd">-      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const initialRotation = puyoPair.rotation</span>
<span class="gi">+      const initialAxisX = puyoPair.axis.x</span>
<span class="gi">+      const initialAxisY = puyoPair.axis.y</span>
<span class="gi">+      const initialSatX = puyoPair.satellite.x</span>
<span class="gi">+      const initialSatY = puyoPair.satellite.y</span>

<span class="w"> </span>      // å›è»¢å‡¦ç†ã‚’å®Ÿè¡Œ
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // å›è»¢å¾Œã®ä½ç½®ã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆãªã®ã§ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„ï¼‰</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(initialX)</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(initialY)</span>
<span class="gi">+      // å›è»¢å¾Œã®çŠ¶æ…‹ã‚’ç¢ºèª</span>
<span class="gi">+      const rotatedPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      expect(rotatedPuyoPair.rotation).toBe((initialRotation + 1) % 4)</span>
<span class="gi">+      expect(rotatedPuyoPair.axis.x).toBe(initialAxisX)</span>
<span class="gi">+      expect(rotatedPuyoPair.axis.y).toBe(initialAxisY)</span>
<span class="gi">+      // è¡›æ˜Ÿã®ä½ç½®ã¯å›è»¢ã«ã‚ˆã£ã¦å¤‰ã‚ã‚‹</span>
<span class="gi">+      expect(</span>
<span class="gi">+        rotatedPuyoPair.satellite.x !== initialSatX || rotatedPuyoPair.satellite.y !== initialSatY</span>
<span class="gi">+      ).toBe(true)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œå†…ã§ã®ã¿å›è»¢ãŒå¯èƒ½ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(0)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.x).toBe(0)</span>

<span class="gd">-      // å·¦ç«¯ã§ã‚‚å›è»¢ã¯å¯èƒ½ï¼ˆå˜ä½“ã·ã‚ˆã®å ´åˆï¼‰</span>
<span class="gd">-      const beforeRotationX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      // å·¦ç«¯ã§ã®å›è»¢ã‚’è©¦ã¿ã‚‹</span>
<span class="gi">+      const beforeRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="gi">+      const beforeAxisX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(beforeRotationX)</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‹ã€ã¾ãŸã¯å¢ƒç•Œãƒã‚§ãƒƒã‚¯ã§ç„¡åŠ¹ã«ãªã‚‹ã‹</span>
<span class="gi">+      const afterPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      expect(afterPuyoPair.axis.x).toBe(beforeAxisX) // è»¸ã®ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ä»–ã®ã·ã‚ˆãŒã‚ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ—¢å­˜ã®ã·ã‚ˆã‚’é…ç½®
<span class="w"> </span>      const field = game.getField()
<span class="gd">-      field[1][2] = 1 // ç¾åœ¨ã®ã·ã‚ˆã®éš£ã«é…ç½®</span>
<span class="gi">+      field[0][3] = 1 // è¡›æ˜Ÿã®ä½ç½®ã«é…ç½®ã—ã¦å›è»¢ã‚’é˜»æ­¢</span>

<span class="gd">-      const beforeRotationX = game.getCurrentPuyo()!.x</span>
<span class="gd">-      const beforeRotationY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const beforeRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="gi">+      const beforeAxisX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="gi">+      const beforeAxisY = game.getCurrentPuyoPair()!.axis.y</span>

<span class="w"> </span>      // å›è»¢ã‚’è©¦ã¿ã‚‹
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // ä½ç½®ãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(beforeRotationX)</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(beforeRotationY)</span>
<span class="gi">+      // å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      const afterPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      expect(afterPuyoPair.rotation).toBe(beforeRotation)</span>
<span class="gi">+      expect(afterPuyoPair.axis.x).toBe(beforeAxisX)</span>
<span class="gi">+      expect(afterPuyoPair.axis.y).toBe(beforeAxisY)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å›è»¢å‡¦ç†ãŒæ­£ã—ãå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      // ç¾åœ¨ã¯rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gd">-      expect(typeof (game as any).rotatePuyo).toBe(&#39;function&#39;)</span>
<span class="gi">+      // rotatePuyoPairãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(typeof (game as any).rotatePuyoPair).toBe(&#39;function&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢ãŒå®Ÿéš›ã«å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      const initialRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+      const afterRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="gi">+      expect(afterRotation).toBe((initialRotation + 1) % 4)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å³ç«¯ã§å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -328,18 +356,21 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;) // x=5ã«ç§»å‹•
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(5)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.x).toBe(5)</span>

<span class="gd">-      // ç¾åœ¨ã®ã·ã‚ˆã®ä½ç½®ã‚’è¨˜éŒ²</span>
<span class="gd">-      const beforeX = game.getCurrentPuyo()!.x</span>
<span class="gd">-      const beforeY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      // å›è»¢å‰ã®çŠ¶æ…‹ã‚’è¨˜éŒ²</span>
<span class="gi">+      const beforeRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="gi">+      const beforeX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="gi">+      const beforeY = game.getCurrentPuyoPair()!.axis.y</span>

<span class="gd">-      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆå°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆã§å¿…è¦ï¼‰</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆå³ç«¯ã§ã¯è¡›æ˜ŸãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤–ã«å‡ºã‚‹ãŸã‚ç„¡åŠ¹ï¼‰</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // ä½ç½®ãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(beforeX)</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(beforeY)</span>
<span class="gi">+      // å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      const afterPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      expect(afterPuyoPair.rotation).toBe(beforeRotation)</span>
<span class="gi">+      expect(afterPuyoPair.axis.x).toBe(beforeX)</span>
<span class="gi">+      expect(afterPuyoPair.axis.y).toBe(beforeY)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•è¿‘ãã§å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {
<span class="gu">@@ -347,41 +378,44 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      for (let i = 0; i &lt; 10; i++) {
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(10)</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()!.axis.y).toBe(11)</span>

<span class="gd">-      // ç¾åœ¨ã®ã·ã‚ˆã®ä½ç½®ã‚’è¨˜éŒ²</span>
<span class="gd">-      const beforeX = game.getCurrentPuyo()!.x</span>
<span class="gd">-      const beforeY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      // å›è»¢å‰ã®çŠ¶æ…‹ã‚’è¨˜éŒ²</span>
<span class="gi">+      const beforeRotation = game.getCurrentPuyoPair()!.rotation</span>
<span class="gi">+      const beforeX = game.getCurrentPuyoPair()!.axis.x</span>
<span class="gi">+      const beforeY = game.getCurrentPuyoPair()!.axis.y</span>

<span class="gd">-      // å›è»¢ã‚’è©¦ã¿ã‚‹</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆè¡›æ˜ŸãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¤–ã«å‡ºã‚‹ãŸã‚ç„¡åŠ¹ï¼‰</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // ä½ç½®ãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã‚’ç¢ºèªï¼ˆå°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆã§å¿…è¦ï¼‰</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(beforeX)</span>
<span class="gd">-      expect(game.getCurrentPuyo()!.y).toBe(beforeY)</span>
<span class="gi">+      // å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      const afterPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      expect(afterPuyoPair.rotation).toBe(beforeRotation)</span>
<span class="gi">+      expect(afterPuyoPair.axis.x).toBe(beforeX)</span>
<span class="gi">+      expect(afterPuyoPair.axis.y).toBe(beforeY)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;canRotateãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      // canRotateãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gd">-      expect(typeof (game as any).canRotate).toBe(&#39;function&#39;)</span>
<span class="gi">+      // canRotatePuyoPairãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(typeof (game as any).canRotatePuyoPair).toBe(&#39;function&#39;)</span>

<span class="w"> </span>      // ä¸­å¤®ã®å®‰å…¨ãªä½ç½®ã§ã¯å›è»¢å¯èƒ½
<span class="gd">-      expect((game as any).canRotate()).toBe(true)</span>
<span class="gi">+      expect((game as any).canRotatePuyoPair()).toBe(true)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // å£ã‚­ãƒƒã‚¯å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="gd">-      expect(typeof (game as any).tryWallKick).toBe(&#39;function&#39;)</span>
<span class="gi">+      expect(typeof (game as any).tryWallKickPuyoPair).toBe(&#39;function&#39;)</span>

<span class="gd">-      // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å£ã‚­ãƒƒã‚¯ã¯ä¸è¦ï¼ˆå¸¸ã«falseï¼‰</span>
<span class="gd">-      expect((game as any).tryWallKick()).toBe(false)</span>
<span class="gi">+      // PuyoPairã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆ</span>
<span class="gi">+      expect((game as any).tryWallKickPuyoPair()).toBe(false)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å·¦ç«¯ã§ã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’è©¦ã¿ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowLeft&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(0)</span>
<span class="gi">+      expect((game as any).tryWallKickPuyoPair()).toBe(false)</span>

<span class="w"> </span>      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰
<span class="w"> </span>      expect((game as any).tryWallKick()).toBe(false)
<span class="gu">@@ -392,48 +426,62 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowRight&#39;)
<span class="gd">-      expect(game.getCurrentPuyo()!.x).toBe(5)</span>
<span class="gi">+      expect((game as any).tryWallKickPuyoPair()).toBe(false)</span>

<span class="w"> </span>      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰
<span class="w"> </span>      expect((game as any).tryWallKick()).toBe(false)
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;å›è»¢æ“ä½œãŒç”»é¢ã«æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialPuyo = game.getCurrentPuyo()!</span>
<span class="gd">-      const initialX = initialPuyo.x</span>
<span class="gd">-      const initialY = initialPuyo.y</span>
<span class="gd">-      const initialColor = initialPuyo.color</span>
<span class="gi">+      const initialPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const initialRotation = initialPuyoPair.rotation</span>
<span class="gi">+      const initialAxisX = initialPuyoPair.axis.x</span>
<span class="gi">+      const initialAxisY = initialPuyoPair.axis.y</span>
<span class="gi">+      const initialSatX = initialPuyoPair.satellite.x</span>
<span class="gi">+      const initialSatY = initialPuyoPair.satellite.y</span>

<span class="w"> </span>      // å›è»¢æ“ä½œã‚’å®Ÿè¡Œ
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      // ç¾åœ¨ã®ã·ã‚ˆã‚’å–å¾—</span>
<span class="gd">-      const rotatedPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+      // ç¾åœ¨ã®ã·ã‚ˆãƒšã‚¢ã‚’å–å¾—</span>
<span class="gi">+      const rotatedPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+</span>
<span class="gi">+      // è»¸ã®ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„ãŒã€å›è»¢çŠ¶æ…‹ã¨è¡›æ˜Ÿã®ä½ç½®ã¯å¤‰ã‚ã‚‹</span>
<span class="gi">+      expect(rotatedPuyoPair.axis.x).toBe(initialAxisX)</span>
<span class="gi">+      expect(rotatedPuyoPair.axis.y).toBe(initialAxisY)</span>
<span class="gi">+      expect(rotatedPuyoPair.rotation).toBe((initialRotation + 1) % 4)</span>

<span class="gd">-      // å˜ä½“ã·ã‚ˆã®å ´åˆã¯ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„ãŒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åŒã˜</span>
<span class="gd">-      expect(rotatedPuyo.x).toBe(initialX)</span>
<span class="gd">-      expect(rotatedPuyo.y).toBe(initialY)</span>
<span class="gd">-      expect(rotatedPuyo.color).toBe(initialColor)</span>
<span class="gi">+      // è¡›æ˜Ÿã®ä½ç½®ã¯å›è»¢ã«ã‚ˆã£ã¦å¤‰ã‚ã‚‹</span>
<span class="gi">+      expect(</span>
<span class="gi">+        rotatedPuyoPair.satellite.x !== initialSatX || rotatedPuyoPair.satellite.y !== initialSatY</span>
<span class="gi">+      ).toBe(true)</span>

<span class="gd">-      // ã·ã‚ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</span>
<span class="gd">-      expect(rotatedPuyo).toBe(initialPuyo)</span>
<span class="gi">+      // ãƒšã‚¢ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</span>
<span class="gi">+      expect(rotatedPuyoPair).toBe(initialPuyoPair)</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;é€£ç¶šã—ãŸå›è»¢æ“ä½œãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialPuyo = game.getCurrentPuyo()!</span>
<span class="gd">-</span>
<span class="gd">-      // è¤‡æ•°å›ã®å›è»¢æ“ä½œ</span>
<span class="gi">+      const initialPuyoPair = game.getCurrentPuyoPair()!</span>
<span class="gi">+      const initialRotation = initialPuyoPair.rotation</span>
<span class="gi">+      const initialAxisX = initialPuyoPair.axis.x</span>
<span class="gi">+      const initialAxisY = initialPuyoPair.axis.y</span>
<span class="gi">+      const initialSatX = initialPuyoPair.satellite.x</span>
<span class="gi">+      const initialSatY = initialPuyoPair.satellite.y</span>
<span class="gi">+</span>
<span class="gi">+      // 4å›ã®å›è»¢æ“ä½œï¼ˆä¸€å‘¨ï¼‰</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)
<span class="w"> </span>      game.handleInput(&#39;ArrowUp&#39;)

<span class="gd">-      const finalPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+      const finalPuyoPair = game.getCurrentPuyoPair()!</span>

<span class="gd">-      // å˜ä½“ã·ã‚ˆã®å ´åˆã¯4å›è»¢ã—ã¦ã‚‚å…ƒã®çŠ¶æ…‹ã¨åŒã˜</span>
<span class="gd">-      expect(finalPuyo.x).toBe(initialPuyo.x)</span>
<span class="gd">-      expect(finalPuyo.y).toBe(initialPuyo.y)</span>
<span class="gd">-      expect(finalPuyo.color).toBe(initialPuyo.color)</span>
<span class="gi">+      // 4å›è»¢ã—ã¦å…ƒã®çŠ¶æ…‹ã«æˆ»ã‚‹</span>
<span class="gi">+      expect(finalPuyoPair.rotation).toBe(initialRotation)</span>
<span class="gi">+      expect(finalPuyoPair.axis.x).toBe(initialAxisX)</span>
<span class="gi">+      expect(finalPuyoPair.axis.y).toBe(initialAxisY)</span>
<span class="gi">+      expect(finalPuyoPair.satellite.x).toBe(initialSatX)</span>
<span class="gi">+      expect(finalPuyoPair.satellite.y).toBe(initialSatY)</span>
<span class="w"> </span>    })
<span class="w"> </span>  })

<span class="gu">@@ -447,9 +495,9 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(puyoPair.axis).toBeDefined()
<span class="w"> </span>      expect(puyoPair.satellite).toBeDefined()
<span class="w"> </span>      expect(puyoPair.axis.x).toBe(2)
<span class="gd">-      expect(puyoPair.axis.y).toBe(0)</span>
<span class="gi">+      expect(puyoPair.axis.y).toBe(0) // ãƒ†ã‚¹ãƒˆç”¨ã®PuyoPairã¯ç›´æ¥y=0ã§ä½œæˆ</span>
<span class="w"> </span>      expect(puyoPair.satellite.x).toBe(2)
<span class="gd">-      expect(puyoPair.satellite.y).toBe(-1) // è»¸ã®ä¸Šã«é…ç½®</span>
<span class="gi">+      expect(puyoPair.satellite.y).toBe(-1) // è»¸ã®ä¸Šã«é…ç½®ï¼ˆå›è»¢0ã®å ´åˆï¼‰</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;è»¸ã·ã‚ˆã¨è¡›æ˜Ÿã·ã‚ˆãŒç•°ãªã‚‹è‰²ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 82cacdb..c2e18db 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -1,6 +1,5 @@</span>
<span class="w"> </span>export class Game {
<span class="w"> </span>  private field: number[][]
<span class="gd">-  private currentPuyo: Puyo | null = null</span>
<span class="w"> </span>  private currentPuyoPair: PuyoPair | null = null
<span class="w"> </span>  private gameOver = false
<span class="w"> </span>  private dropTimer = 0
<span class="gu">@@ -24,10 +23,6 @@ export class Game {</span>
<span class="w"> </span>    return this.field
<span class="w"> </span>  }

<span class="gd">-  getCurrentPuyo(): Puyo | null {</span>
<span class="gd">-    return this.currentPuyo</span>
<span class="gd">-  }</span>
<span class="gd">-</span>
<span class="w"> </span>  getCurrentPuyoPair(): PuyoPair | null {
<span class="w"> </span>    return this.currentPuyoPair
<span class="w"> </span>  }
<span class="gu">@@ -37,7 +32,7 @@ export class Game {</span>
<span class="w"> </span>  }

<span class="w"> </span>  update(deltaTime?: number): void {
<span class="gd">-    if (!this.currentPuyo || this.gameOver) return</span>
<span class="gi">+    if (!this.currentPuyoPair || this.gameOver) return</span>

<span class="w"> </span>    // ç€åœ°æ¸ˆã¿ã®ã·ã‚ˆã‚’å‡¦ç†
<span class="w"> </span>    if (this.puyoLanded) {
<span class="gu">@@ -56,37 +51,37 @@ export class Game {</span>
<span class="w"> </span>  }

<span class="w"> </span>  private handleLandedPuyo(): void {
<span class="gd">-    this.fixPuyo()</span>
<span class="gd">-    this.generateNewPuyo()</span>
<span class="gi">+    this.fixPuyoPair()</span>
<span class="gi">+    this.generateNewPuyoPair()</span>
<span class="w"> </span>    this.puyoLanded = false
<span class="w"> </span>    this.dropTimer = 0
<span class="w"> </span>    this.fastDropTimer = 0
<span class="w"> </span>  }

<span class="w"> </span>  private immediateDropUpdate(): void {
<span class="gd">-    if (!this.currentPuyo) return</span>
<span class="gi">+    if (!this.currentPuyoPair) return</span>

<span class="w"> </span>    // ç€åœ°åˆ¤å®š
<span class="gd">-    if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+    if (!this.canPuyoPairMoveTo(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y + 1)) {</span>
<span class="w"> </span>      this.puyoLanded = true
<span class="w"> </span>      return
<span class="w"> </span>    }
<span class="gd">-    this.dropPuyo()</span>
<span class="gi">+    this.dropPuyoPair()</span>
<span class="w"> </span>  }

<span class="w"> </span>  private timedDropUpdate(deltaTime: number): void {
<span class="gd">-    if (!this.currentPuyo) return</span>
<span class="gi">+    if (!this.currentPuyoPair) return</span>

<span class="w"> </span>    // é«˜é€Ÿè½ä¸‹å‡¦ç†
<span class="w"> </span>    if (this.keysPressed.has(&#39;ArrowDown&#39;)) {
<span class="w"> </span>      this.fastDropTimer += deltaTime
<span class="w"> </span>      if (this.fastDropTimer &gt;= this.fastDropInterval) {
<span class="w"> </span>        // ç€åœ°åˆ¤å®š
<span class="gd">-        if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+        if (!this.canPuyoPairMoveTo(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y + 1)) {</span>
<span class="w"> </span>          this.puyoLanded = true
<span class="w"> </span>          return
<span class="w"> </span>        }
<span class="gd">-        this.dropPuyo()</span>
<span class="gi">+        this.dropPuyoPair()</span>
<span class="w"> </span>        this.fastDropTimer = 0
<span class="w"> </span>      }
<span class="w"> </span>      return
<span class="gu">@@ -96,49 +91,49 @@ export class Game {</span>
<span class="w"> </span>    this.dropTimer += deltaTime
<span class="w"> </span>    if (this.dropTimer &gt;= this.dropInterval) {
<span class="w"> </span>      // ç€åœ°åˆ¤å®š
<span class="gd">-      if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+      if (!this.canPuyoPairMoveTo(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y + 1)) {</span>
<span class="w"> </span>        this.puyoLanded = true
<span class="w"> </span>        return
<span class="w"> </span>      }
<span class="gd">-      this.dropPuyo()</span>
<span class="gi">+      this.dropPuyoPair()</span>
<span class="w"> </span>      this.dropTimer = 0
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="w"> </span>  handleInput(key: string): void {
<span class="gd">-    if (!this.currentPuyo || this.gameOver) return</span>
<span class="gi">+    if (!this.currentPuyoPair || this.gameOver) return</span>

<span class="w"> </span>    switch (key) {
<span class="w"> </span>      case &#39;ArrowLeft&#39;:
<span class="gd">-        this.movePuyo(-1, 0)</span>
<span class="gi">+        this.movePuyoPair(-1, 0)</span>
<span class="w"> </span>        break
<span class="w"> </span>      case &#39;ArrowRight&#39;:
<span class="gd">-        this.movePuyo(1, 0)</span>
<span class="gi">+        this.movePuyoPair(1, 0)</span>
<span class="w"> </span>        break
<span class="w"> </span>      case &#39;ArrowDown&#39;:
<span class="gd">-        this.dropPuyo()</span>
<span class="gi">+        this.dropPuyoPair()</span>
<span class="w"> </span>        break
<span class="w"> </span>      case &#39;ArrowUp&#39;:
<span class="gd">-        this.rotatePuyo()</span>
<span class="gi">+        this.rotatePuyoPair()</span>
<span class="w"> </span>        break
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="w"> </span>  handleKeyDown(key: string): void {
<span class="gd">-    if (!this.currentPuyo || this.gameOver) return</span>
<span class="gi">+    if (!this.currentPuyoPair || this.gameOver) return</span>

<span class="w"> </span>    this.keysPressed.add(key)

<span class="w"> </span>    // éé«˜é€Ÿè½ä¸‹ã‚­ãƒ¼ã¯å³åº§ã«å‡¦ç†
<span class="w"> </span>    switch (key) {
<span class="w"> </span>      case &#39;ArrowLeft&#39;:
<span class="gd">-        this.movePuyo(-1, 0)</span>
<span class="gi">+        this.movePuyoPair(-1, 0)</span>
<span class="w"> </span>        break
<span class="w"> </span>      case &#39;ArrowRight&#39;:
<span class="gd">-        this.movePuyo(1, 0)</span>
<span class="gi">+        this.movePuyoPair(1, 0)</span>
<span class="w"> </span>        break
<span class="w"> </span>      case &#39;ArrowUp&#39;:
<span class="gd">-        this.rotatePuyo()</span>
<span class="gi">+        this.rotatePuyoPair()</span>
<span class="w"> </span>        break
<span class="w"> </span>    }
<span class="w"> </span>  }
<span class="gu">@@ -152,24 +147,23 @@ export class Game {</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="gd">-  private movePuyo(dx: number, dy: number): void {</span>
<span class="gd">-    if (!this.currentPuyo) return</span>
<span class="gi">+  private movePuyoPair(dx: number, dy: number): void {</span>
<span class="gi">+    if (!this.currentPuyoPair) return</span>

<span class="gd">-    const newX = this.currentPuyo.x + dx</span>
<span class="gd">-    const newY = this.currentPuyo.y + dy</span>
<span class="gi">+    const newX = this.currentPuyoPair.axis.x + dx</span>
<span class="gi">+    const newY = this.currentPuyoPair.axis.y + dy</span>

<span class="gd">-    if (this.canMoveTo(newX, newY)) {</span>
<span class="gd">-      this.currentPuyo.x = newX</span>
<span class="gd">-      this.currentPuyo.y = newY</span>
<span class="gi">+    if (this.canPuyoPairMoveTo(newX, newY)) {</span>
<span class="gi">+      this.currentPuyoPair.moveTo(newX, newY)</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="gd">-  private dropPuyo(): void {</span>
<span class="gd">-    if (!this.currentPuyo) return</span>
<span class="gi">+  private dropPuyoPair(): void {</span>
<span class="gi">+    if (!this.currentPuyoPair) return</span>

<span class="w"> </span>    // ä¸‹ã«ç§»å‹•ã§ãã‚‹ã‹ãƒã‚§ãƒƒã‚¯
<span class="gd">-    if (this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gd">-      this.currentPuyo.y++</span>
<span class="gi">+    if (this.canPuyoPairMoveTo(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y + 1)) {</span>
<span class="gi">+      this.currentPuyoPair.moveTo(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y + 1)</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="gu">@@ -182,60 +176,105 @@ export class Game {</span>
<span class="w"> </span>    return this.field[y][x] === 0
<span class="w"> </span>  }

<span class="gd">-  private fixPuyo(): void {</span>
<span class="gd">-    if (!this.currentPuyo) return</span>
<span class="gi">+  private canPuyoPairMoveTo(axisX: number, axisY: number): boolean {</span>
<span class="gi">+    if (!this.currentPuyoPair) return false</span>
<span class="gi">+</span>
<span class="gi">+    // æ–°ã—ã„è»¸ã®ä½ç½®ã§è¡›æ˜Ÿã®ä½ç½®ã‚’è¨ˆç®—</span>
<span class="gi">+    const tempPair = new PuyoPair(axisX, axisY)</span>
<span class="gi">+    tempPair.rotation = this.currentPuyoPair.rotation</span>
<span class="gi">+</span>
<span class="gi">+    const positions = tempPair.getPositions()</span>
<span class="gi">+</span>
<span class="gi">+    // è»¸ã¨è¡›æ˜Ÿã®ä¸¡æ–¹ãŒç§»å‹•å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+    for (const pos of positions) {</span>
<span class="gi">+      if (!this.canMoveTo(pos.x, pos.y)) {</span>
<span class="gi">+        return false</span>
<span class="gi">+      }</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    return true</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private fixPuyoPair(): void {</span>
<span class="gi">+    if (!this.currentPuyoPair) return</span>

<span class="gd">-    // ç¾åœ¨ã®ã·ã‚ˆã‚’ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å›ºå®š</span>
<span class="gd">-    this.field[this.currentPuyo.y][this.currentPuyo.x] = this.currentPuyo.color</span>
<span class="gi">+    // ãƒšã‚¢ã·ã‚ˆã®ä¸¡æ–¹ã‚’ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å›ºå®š</span>
<span class="gi">+    const positions = this.currentPuyoPair.getPositions()</span>
<span class="gi">+    for (const pos of positions) {</span>
<span class="gi">+      this.field[pos.y][pos.x] = pos.color</span>
<span class="gi">+    }</span>
<span class="w"> </span>  }

<span class="gd">-  private rotatePuyo(): void {</span>
<span class="gd">-    if (!this.currentPuyo) return</span>
<span class="gi">+  private rotatePuyoPair(): void {</span>
<span class="gi">+    if (!this.currentPuyoPair) return</span>

<span class="w"> </span>    // å›è»¢å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯
<span class="gd">-    if (!this.canRotate()) return</span>
<span class="gi">+    if (!this.canRotatePuyoPair()) return</span>

<span class="gd">-    // å˜ä½“ã·ã‚ˆã®å ´åˆã¯å›è»¢ã—ã¦ã‚‚ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„</span>
<span class="gd">-    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«æ‹¡å¼µäºˆå®š</span>
<span class="gi">+    // å›è»¢ã‚’å®Ÿè¡Œ</span>
<span class="gi">+    this.currentPuyoPair.rotate()</span>
<span class="w"> </span>  }

<span class="gd">-  private canRotate(): boolean {</span>
<span class="gd">-    if (!this.currentPuyo) return false</span>
<span class="gi">+  private canRotatePuyoPair(): boolean {</span>
<span class="gi">+    if (!this.currentPuyoPair) return false</span>
<span class="gi">+</span>
<span class="gi">+    // å›è»¢å¾Œã®ä½ç½®ã‚’ãƒ†ã‚¹ãƒˆ</span>
<span class="gi">+    const tempPair = new PuyoPair(this.currentPuyoPair.axis.x, this.currentPuyoPair.axis.y)</span>
<span class="gi">+    tempPair.rotation = (this.currentPuyoPair.rotation + 1) % 4</span>

<span class="gd">-    // é€šå¸¸ã®å›è»¢ãŒå¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯</span>
<span class="gd">-    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å¸¸ã«å›è»¢å¯èƒ½</span>
<span class="gi">+    const positions = tempPair.getPositions()</span>

<span class="gd">-    // é€šå¸¸ã®å›è»¢ãŒä¸å¯èƒ½ãªå ´åˆã¯å£ã‚­ãƒƒã‚¯ã‚’è©¦ã™</span>
<span class="gd">-    if (!this.isNormalRotationPossible()) {</span>
<span class="gd">-      return this.tryWallKick()</span>
<span class="gi">+    // å›è»¢å¾Œã®ä¸¡æ–¹ã®ä½ç½®ãŒæœ‰åŠ¹ã‹ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+    for (const pos of positions) {</span>
<span class="gi">+      if (!this.canMoveTo(pos.x, pos.y)) {</span>
<span class="gi">+        // é€šå¸¸ã®å›è»¢ãŒä¸å¯èƒ½ãªå ´åˆã¯å£ã‚­ãƒƒã‚¯ã‚’è©¦ã™</span>
<span class="gi">+        return this.tryWallKickPuyoPair()</span>
<span class="gi">+      }</span>
<span class="w"> </span>    }

<span class="w"> </span>    return true
<span class="w"> </span>  }

<span class="gd">-  private isNormalRotationPossible(): boolean {</span>
<span class="gd">-    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å¸¸ã«å¯èƒ½</span>
<span class="gd">-    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«å›è»¢å¾Œã®ä½ç½®ã‚’ãƒã‚§ãƒƒã‚¯</span>
<span class="gd">-    return true</span>
<span class="gd">-  }</span>
<span class="gi">+  private tryWallKickPuyoPair(): boolean {</span>
<span class="gi">+    if (!this.currentPuyoPair) return false</span>

<span class="gd">-  private tryWallKick(): boolean {</span>
<span class="gd">-    if (!this.currentPuyo) return false</span>
<span class="gi">+    // å£ã‚­ãƒƒã‚¯ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå·¦å³ã«1ãƒã‚¹ç§»å‹•ã‚’è©¦ã™ï¼‰</span>
<span class="gi">+    const wallKickOffsets = [</span>
<span class="gi">+      { x: -1, y: 0 }, // å·¦ã«1ãƒã‚¹</span>
<span class="gi">+      { x: 1, y: 0 }, // å³ã«1ãƒã‚¹</span>
<span class="gi">+      { x: 0, y: -1 }, // ä¸Šã«1ãƒã‚¹</span>
<span class="gi">+    ]</span>

<span class="gd">-    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å£ã‚­ãƒƒã‚¯ã¯ä¸è¦</span>
<span class="gd">-    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«ä»¥ä¸‹ã‚’å®Ÿè£…:</span>
<span class="gd">-    // - å·¦å³ã®å£ã‚­ãƒƒã‚¯ï¼ˆ1ãƒã‚¹ç§»å‹•ã—ã¦å›è»¢ï¼‰</span>
<span class="gd">-    // - ä¸Šä¸‹ã®å£ã‚­ãƒƒã‚¯ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰</span>
<span class="gi">+    for (const offset of wallKickOffsets) {</span>
<span class="gi">+      const testX = this.currentPuyoPair.axis.x + offset.x</span>
<span class="gi">+      const testY = this.currentPuyoPair.axis.y + offset.y</span>

<span class="gd">-    return false</span>
<span class="gd">-  }</span>
<span class="gi">+      // ç§»å‹•å…ˆã§å›è»¢å¯èƒ½ã‹ãƒ†ã‚¹ãƒˆ</span>
<span class="gi">+      const tempPair = new PuyoPair(testX, testY)</span>
<span class="gi">+      tempPair.rotation = (this.currentPuyoPair.rotation + 1) % 4</span>
<span class="gi">+</span>
<span class="gi">+      const positions = tempPair.getPositions()</span>
<span class="gi">+      let canRotateHere = true</span>

<span class="gd">-  private generateNewPuyo(): void {</span>
<span class="gd">-    this.currentPuyo = new Puyo(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+      for (const pos of positions) {</span>
<span class="gi">+        if (!this.canMoveTo(pos.x, pos.y)) {</span>
<span class="gi">+          canRotateHere = false</span>
<span class="gi">+          break</span>
<span class="gi">+        }</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      if (canRotateHere) {</span>
<span class="gi">+        // å£ã‚­ãƒƒã‚¯æˆåŠŸï¼šä½ç½®ã‚’ç§»å‹•ã—ã¦ã‹ã‚‰å›è»¢</span>
<span class="gi">+        this.currentPuyoPair.moveTo(testX, testY)</span>
<span class="gi">+        return true</span>
<span class="gi">+      }</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    return false</span>
<span class="w"> </span>  }

<span class="w"> </span>  private generateNewPuyoPair(): void {
<span class="gd">-    this.currentPuyoPair = new PuyoPair(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+    this.currentPuyoPair = new PuyoPair(2, 1) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆï¼ˆè¡›æ˜ŸãŒä¸Šã«æ¥ã‚‹å ´åˆã‚’è€ƒæ…®ã—ã¦y=1ï¼‰</span>
<span class="w"> </span>  }
<span class="w"> </span>}

<span class="gu">@@ -254,7 +293,8 @@ export class PuyoPair {</span>

<span class="w"> </span>  constructor(x: number, y: number) {
<span class="w"> </span>    this.axis = new Puyo(x, y)
<span class="gd">-    this.satellite = new Puyo(x, y - 1) // è»¸ã®ä¸Šã«è¡›æ˜Ÿã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+    this.satellite = new Puyo(x, y + 1) // è»¸ã®ä¸‹ã«è¡›æ˜Ÿã·ã‚ˆã‚’é…ç½®ï¼ˆåˆæœŸçŠ¶æ…‹ï¼‰</span>
<span class="gi">+    this.updateSatellitePosition() // æ­£ã—ã„ä½ç½®ã«æ›´æ–°</span>
<span class="w"> </span>  }

<span class="w"> </span>  rotate(): void {
<span class="gu">@@ -262,7 +302,7 @@ export class PuyoPair {</span>
<span class="w"> </span>    this.updateSatellitePosition()
<span class="w"> </span>  }

<span class="gd">-  private updateSatellitePosition(): void {</span>
<span class="gi">+  public updateSatellitePosition(): void {</span>
<span class="w"> </span>    const offsets = [
<span class="w"> </span>      { x: 0, y: -1 }, // ä¸Š
<span class="w"> </span>      { x: 1, y: 0 }, // å³
<span class="gh">diff --git a/app/src/main.ts b/app/src/main.ts</span>
<span class="gh">index 1820bff..1a882c7 100644</span>
<span class="gd">--- a/app/src/main.ts</span>
<span class="gi">+++ b/app/src/main.ts</span>
<span class="gu">@@ -61,7 +61,7 @@ function drawCurrentPuyo() {</span>
<span class="w"> </span>  const puyoPair = game.getCurrentPuyoPair()
<span class="w"> </span>  if (puyoPair) {
<span class="w"> </span>    const positions = puyoPair.getPositions()
<span class="gd">-    positions.forEach(pos =&gt; {</span>
<span class="gi">+    positions.forEach((pos) =&gt; {</span>
<span class="w"> </span>      drawPuyoCell(pos.x, pos.y, pos.color)
<span class="w"> </span>    })
<span class="w"> </span>  }
<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 960663d..546dc33 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -217,6 +217,7 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gi">+- [ ] ã·ã‚ˆãƒšã‚¢ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆ2å€‹1çµ„ã®ã·ã‚ˆã‚’ç®¡ç†ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ï¼‰</span>
<span class="w"> </span>- [ ] ã·ã‚ˆã®å›è»¢å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ™‚è¨ˆå›ã‚Šãƒ»åæ™‚è¨ˆå›ã‚Šã®å›è»¢ï¼‰
<span class="w"> </span>- [ ] å›è»¢å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä»–ã®ã·ã‚ˆã‚„å£ã«ã¶ã¤ã‹ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰
<span class="w"> </span>- [ ] å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«ã™ã‚‹ç‰¹æ®Šå‡¦ç†ï¼‰
<span class="gu">@@ -224,6 +225,7 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gi">+- [ ] ã·ã‚ˆãƒšã‚¢ãŒ2å€‹1çµ„ã§ç®¡ç†ã•ã‚Œã‚‹ã“ã¨</span>
<span class="w"> </span>- [ ] ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹
<span class="w"> </span>- [ ] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã‚„ä»–ã®ã·ã‚ˆã¨ã®è¡çªæ™‚ã¯å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹
<span class="w"> </span>- [ ] å£éš›ã§ã®å›è»¢æ™‚ã«å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒå‹•ä½œã™ã‚‹
</code></pre></div>
<h2 id="bf6363e">ã‚³ãƒŸãƒƒãƒˆ: bf6363e<a class="headerlink" href="#bf6363e" title="Permanent link">&para;</a></h2>
<h3 id="_56">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_56" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO2é€²è¡Œä¸­ - Gameã‚¯ãƒ©ã‚¹ã®PuyoPairè¡¨ç¤ºå¯¾å¿œ
- Gameã‚¯ãƒ©ã‚¹ã«currentPuyoPairãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
- getCurrentPuyoPair()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
- generateNewPuyoPair()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
- main.tsã§ãƒšã‚¢ã·ã‚ˆã®æç”»ã«å¯¾å¿œï¼ˆ2å€‹ã®ã·ã‚ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰
- åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã‚’ä¸€éƒ¨ä¿®æ­£
- ãƒ–ãƒ©ã‚¦ã‚¶ã§2å€‹ã®ã·ã‚ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—: Gameã‚¯ãƒ©ã‚¹ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’PuyoPairãƒ™ãƒ¼ã‚¹ã«å®Œå…¨ç§»è¡Œ
</code></pre></div>
<h3 id="_57">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_57" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
<li>M app/src/main.ts</li>
</ul>
<h3 id="_58">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_58" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit bf6363e63334682f58ea96d89886f77f51d96a76
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 11:07:52 2025 +0900

<span class="w"> </span>   feat: TODO2é€²è¡Œä¸­ - Gameã‚¯ãƒ©ã‚¹ã®PuyoPairè¡¨ç¤ºå¯¾å¿œ

<span class="w"> </span>   - Gameã‚¯ãƒ©ã‚¹ã«currentPuyoPairãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
<span class="w"> </span>   - getCurrentPuyoPair()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
<span class="w"> </span>   - generateNewPuyoPair()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
<span class="w"> </span>   - main.tsã§ãƒšã‚¢ã·ã‚ˆã®æç”»ã«å¯¾å¿œï¼ˆ2å€‹ã®ã·ã‚ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰
<span class="w"> </span>   - åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã‚’ä¸€éƒ¨ä¿®æ­£
<span class="w"> </span>   - ãƒ–ãƒ©ã‚¦ã‚¶ã§2å€‹ã®ã·ã‚ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

<span class="w"> </span>   æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—: Gameã‚¯ãƒ©ã‚¹ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’PuyoPairãƒ™ãƒ¼ã‚¹ã«å®Œå…¨ç§»è¡Œ

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 2701627..61ae9f0 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -22,25 +22,27 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;æ–°ã—ã„ã·ã‚ˆã‚’ç”Ÿæˆã™ã‚‹&#39;, () =&gt; {
<span class="gd">-      const puyo = game.getCurrentPuyo()</span>
<span class="gd">-      expect(puyo).toBeDefined()</span>
<span class="gd">-      expect(puyo).not.toBeNull()</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()</span>
<span class="gi">+      expect(puyoPair).toBeDefined()</span>
<span class="gi">+      expect(puyoPair).not.toBeNull()</span>
<span class="w"> </span>    })

<span class="gd">-    it(&#39;ã·ã‚ˆãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gd">-      const puyo = game.getCurrentPuyo()</span>
<span class="gd">-      expect(puyo).not.toBeNull()</span>
<span class="gd">-      expect(puyo!.x).toBe(2) // ä¸­å¤®ã«ç”Ÿæˆ</span>
<span class="gd">-      expect(puyo!.y).toBe(0) // ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gd">-      expect(puyo!.color).toBeGreaterThanOrEqual(1) // è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</span>
<span class="gd">-      expect(puyo!.color).toBeLessThanOrEqual(4) // 1-4ã®ç¯„å›²</span>
<span class="gi">+    it(&#39;ã·ã‚ˆãƒšã‚¢ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const puyoPair = game.getCurrentPuyoPair()</span>
<span class="gi">+      expect(puyoPair).not.toBeNull()</span>
<span class="gi">+      expect(puyoPair!.axis.x).toBe(2) // ä¸­å¤®ã«ç”Ÿæˆ</span>
<span class="gi">+      expect(puyoPair!.axis.y).toBe(0) // ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+      expect(puyoPair!.axis.color).toBeGreaterThanOrEqual(1) // è»¸ã·ã‚ˆã®è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+      expect(puyoPair!.axis.color).toBeLessThanOrEqual(4) // 1-4ã®ç¯„å›²</span>
<span class="gi">+      expect(puyoPair!.satellite.color).toBeGreaterThanOrEqual(1) // è¡›æ˜Ÿã·ã‚ˆã®è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+      expect(puyoPair!.satellite.color).toBeLessThanOrEqual(4) // 1-4ã®ç¯„å›²</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      // ã‚²ãƒ¼ãƒ ãŒåˆæœŸçŠ¶æ…‹ã§å‹•ä½œå¯èƒ½ãªçŠ¶æ…‹ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>      expect(game.isGameOver()).toBe(false)
<span class="w"> </span>      expect(game.getField()).toBeDefined()
<span class="gd">-      expect(game.getCurrentPuyo()).toBeDefined()</span>
<span class="gi">+      expect(game.getCurrentPuyoPair()).toBeDefined()</span>
<span class="w"> </span>    })
<span class="w"> </span>  })

<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 64494a0..82cacdb 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -1,6 +1,7 @@</span>
<span class="w"> </span>export class Game {
<span class="w"> </span>  private field: number[][]
<span class="w"> </span>  private currentPuyo: Puyo | null = null
<span class="gi">+  private currentPuyoPair: PuyoPair | null = null</span>
<span class="w"> </span>  private gameOver = false
<span class="w"> </span>  private dropTimer = 0
<span class="w"> </span>  private dropInterval = 1000 // 1ç§’ã”ã¨ã«è½ä¸‹
<span class="gu">@@ -12,7 +13,7 @@ export class Game {</span>
<span class="w"> </span>  constructor() {
<span class="w"> </span>    // 6åˆ—x12è¡Œã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–
<span class="w"> </span>    this.field = Array.from({ length: 12 }, () =&gt; Array(6).fill(0))
<span class="gd">-    this.generateNewPuyo()</span>
<span class="gi">+    this.generateNewPuyoPair()</span>
<span class="w"> </span>  }

<span class="w"> </span>  isGameOver(): boolean {
<span class="gu">@@ -27,6 +28,10 @@ export class Game {</span>
<span class="w"> </span>    return this.currentPuyo
<span class="w"> </span>  }

<span class="gi">+  getCurrentPuyoPair(): PuyoPair | null {</span>
<span class="gi">+    return this.currentPuyoPair</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  isPuyoLanded(): boolean {
<span class="w"> </span>    return this.puyoLanded
<span class="w"> </span>  }
<span class="gu">@@ -228,6 +233,10 @@ export class Game {</span>
<span class="w"> </span>  private generateNewPuyo(): void {
<span class="w"> </span>    this.currentPuyo = new Puyo(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ
<span class="w"> </span>  }
<span class="gi">+</span>
<span class="gi">+  private generateNewPuyoPair(): void {</span>
<span class="gi">+    this.currentPuyoPair = new PuyoPair(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+  }</span>
<span class="w"> </span>}

<span class="w"> </span>export class Puyo {
<span class="gh">diff --git a/app/src/main.ts b/app/src/main.ts</span>
<span class="gh">index 734604f..1820bff 100644</span>
<span class="gd">--- a/app/src/main.ts</span>
<span class="gi">+++ b/app/src/main.ts</span>
<span class="gu">@@ -58,9 +58,12 @@ function drawField() {</span>

<span class="w"> </span>// ç¾åœ¨ã®ã·ã‚ˆã‚’æç”»ã™ã‚‹é–¢æ•°
<span class="w"> </span>function drawCurrentPuyo() {
<span class="gd">-  const puyo = game.getCurrentPuyo()</span>
<span class="gd">-  if (puyo) {</span>
<span class="gd">-    drawPuyoCell(puyo.x, puyo.y, puyo.color)</span>
<span class="gi">+  const puyoPair = game.getCurrentPuyoPair()</span>
<span class="gi">+  if (puyoPair) {</span>
<span class="gi">+    const positions = puyoPair.getPositions()</span>
<span class="gi">+    positions.forEach(pos =&gt; {</span>
<span class="gi">+      drawPuyoCell(pos.x, pos.y, pos.color)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  }
<span class="w"> </span>}
</code></pre></div>
<h2 id="66408c8">ã‚³ãƒŸãƒƒãƒˆ: 66408c8<a class="headerlink" href="#66408c8" title="Permanent link">&para;</a></h2>
<h3 id="_59">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_59" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO1å®Œäº† - PuyoPairã‚¯ãƒ©ã‚¹ã®å®Ÿè£…
- PuyoPairã‚¯ãƒ©ã‚¹ã‚’æ–°è¦è¿½åŠ ï¼ˆ2å€‹1çµ„ã®ã·ã‚ˆã‚’ç®¡ç†ï¼‰
- è»¸ã·ã‚ˆï¼ˆaxisï¼‰ã¨è¡›æ˜Ÿã·ã‚ˆï¼ˆsatelliteï¼‰ã®æ§‹é€ ã‚’å®Ÿè£…
- å›è»¢çŠ¶æ…‹ç®¡ç†ï¼ˆ0:ä¸Š, 1:å³, 2:ä¸‹, 3:å·¦ï¼‰
- rotate()ãƒ¡ã‚½ãƒƒãƒ‰ã§æ™‚è¨ˆå›ã‚Šå›è»¢æ©Ÿèƒ½
- getPositions()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½ç½®æƒ…å ±ã®å–å¾—
- moveTo()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½ç½®ç§»å‹•æ©Ÿèƒ½
- 5å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å‹•ä½œã‚’æ¤œè¨¼
- è»¸ã‚’ä¸­å¿ƒã¨ã—ãŸè¡›æ˜Ÿã·ã‚ˆã®ä½ç½®æ›´æ–°æ©Ÿèƒ½
- å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸã€ãƒ“ãƒ«ãƒ‰æ­£å¸¸
</code></pre></div>
<h3 id="_60">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_60" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_61">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_61" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 66408c8525003db64a92ebe1756521297e452d54
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 11:03:40 2025 +0900

<span class="w"> </span>   feat: TODO1å®Œäº† - PuyoPairã‚¯ãƒ©ã‚¹ã®å®Ÿè£…

<span class="w"> </span>   - PuyoPairã‚¯ãƒ©ã‚¹ã‚’æ–°è¦è¿½åŠ ï¼ˆ2å€‹1çµ„ã®ã·ã‚ˆã‚’ç®¡ç†ï¼‰
<span class="w"> </span>   - è»¸ã·ã‚ˆï¼ˆaxisï¼‰ã¨è¡›æ˜Ÿã·ã‚ˆï¼ˆsatelliteï¼‰ã®æ§‹é€ ã‚’å®Ÿè£…
<span class="w"> </span>   - å›è»¢çŠ¶æ…‹ç®¡ç†ï¼ˆ0:ä¸Š, 1:å³, 2:ä¸‹, 3:å·¦ï¼‰
<span class="w"> </span>   - rotate()ãƒ¡ã‚½ãƒƒãƒ‰ã§æ™‚è¨ˆå›ã‚Šå›è»¢æ©Ÿèƒ½
<span class="w"> </span>   - getPositions()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½ç½®æƒ…å ±ã®å–å¾—
<span class="w"> </span>   - moveTo()ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½ç½®ç§»å‹•æ©Ÿèƒ½
<span class="w"> </span>   - 5å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å‹•ä½œã‚’æ¤œè¨¼
<span class="w"> </span>   - è»¸ã‚’ä¸­å¿ƒã¨ã—ãŸè¡›æ˜Ÿã·ã‚ˆã®ä½ç½®æ›´æ–°æ©Ÿèƒ½
<span class="w"> </span>   - å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸã€ãƒ“ãƒ«ãƒ‰æ­£å¸¸

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 586123d..2701627 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -1,5 +1,5 @@</span>
<span class="w"> </span>import { describe, it, expect, beforeEach } from &#39;vitest&#39;
<span class="gd">-import { Game } from &#39;./Game&#39;</span>
<span class="gi">+import { Game, PuyoPair } from &#39;./Game&#39;</span>

<span class="w"> </span>describe(&#39;Game&#39;, () =&gt; {
<span class="w"> </span>  let game: Game
<span class="gu">@@ -434,4 +434,54 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(finalPuyo.color).toBe(initialPuyo.color)
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;ãƒšã‚¢ã·ã‚ˆ&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;PuyoPairã‚¯ãƒ©ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      expect(typeof PuyoPair).toBe(&#39;function&#39;)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒšã‚¢ã·ã‚ˆãŒ2å€‹ã®ã·ã‚ˆã§æ§‹æˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const puyoPair = new PuyoPair(2, 0)</span>
<span class="gi">+      expect(puyoPair.axis).toBeDefined()</span>
<span class="gi">+      expect(puyoPair.satellite).toBeDefined()</span>
<span class="gi">+      expect(puyoPair.axis.x).toBe(2)</span>
<span class="gi">+      expect(puyoPair.axis.y).toBe(0)</span>
<span class="gi">+      expect(puyoPair.satellite.x).toBe(2)</span>
<span class="gi">+      expect(puyoPair.satellite.y).toBe(-1) // è»¸ã®ä¸Šã«é…ç½®</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;è»¸ã·ã‚ˆã¨è¡›æ˜Ÿã·ã‚ˆãŒç•°ãªã‚‹è‰²ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const puyoPair = new PuyoPair(2, 0)</span>
<span class="gi">+      // å¿…ãšã—ã‚‚ç•°ãªã‚‹è‰²ã§ã‚ã‚‹å¿…è¦ã¯ãªã„ãŒã€ç‹¬ç«‹ã—ã¦è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(puyoPair.axis.color).toBeGreaterThanOrEqual(1)</span>
<span class="gi">+      expect(puyoPair.axis.color).toBeLessThanOrEqual(4)</span>
<span class="gi">+      expect(puyoPair.satellite.color).toBeGreaterThanOrEqual(1)</span>
<span class="gi">+      expect(puyoPair.satellite.color).toBeLessThanOrEqual(4)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒšã‚¢ã·ã‚ˆã®ä½ç½®ã‚’å–å¾—ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const puyoPair = new PuyoPair(3, 5)</span>
<span class="gi">+      const positions = puyoPair.getPositions()</span>
<span class="gi">+      expect(positions).toHaveLength(2)</span>
<span class="gi">+      expect(positions[0]).toEqual({ x: 3, y: 5, color: puyoPair.axis.color })</span>
<span class="gi">+      expect(positions[1]).toEqual({ x: 3, y: 4, color: puyoPair.satellite.color })</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒšã‚¢ã·ã‚ˆã®å›è»¢çŠ¶æ…‹ã‚’ç®¡ç†ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const puyoPair = new PuyoPair(2, 0)</span>
<span class="gi">+      expect(puyoPair.rotation).toBe(0) // åˆæœŸçŠ¶æ…‹ã¯0ï¼ˆä¸Šï¼‰</span>
<span class="gi">+</span>
<span class="gi">+      puyoPair.rotate()</span>
<span class="gi">+      expect(puyoPair.rotation).toBe(1) // å³</span>
<span class="gi">+</span>
<span class="gi">+      puyoPair.rotate()</span>
<span class="gi">+      expect(puyoPair.rotation).toBe(2) // ä¸‹</span>
<span class="gi">+</span>
<span class="gi">+      puyoPair.rotate()</span>
<span class="gi">+      expect(puyoPair.rotation).toBe(3) // å·¦</span>
<span class="gi">+</span>
<span class="gi">+      puyoPair.rotate()</span>
<span class="gi">+      expect(puyoPair.rotation).toBe(0) // ä¸€å‘¨ã—ã¦ä¸Šã«æˆ»ã‚‹</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 8c438fb..64494a0 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -237,3 +237,45 @@ export class Puyo {</span>
<span class="w"> </span>    public color: number = Math.floor(Math.random() * 4) + 1 // 1-4ã®ãƒ©ãƒ³ãƒ€ãƒ ãªè‰²
<span class="w"> </span>  ) {}
<span class="w"> </span>}
<span class="gi">+</span>
<span class="gi">+export class PuyoPair {</span>
<span class="gi">+  public axis: Puyo</span>
<span class="gi">+  public satellite: Puyo</span>
<span class="gi">+  public rotation: number = 0 // 0:ä¸Š, 1:å³, 2:ä¸‹, 3:å·¦</span>
<span class="gi">+</span>
<span class="gi">+  constructor(x: number, y: number) {</span>
<span class="gi">+    this.axis = new Puyo(x, y)</span>
<span class="gi">+    this.satellite = new Puyo(x, y - 1) // è»¸ã®ä¸Šã«è¡›æ˜Ÿã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  rotate(): void {</span>
<span class="gi">+    this.rotation = (this.rotation + 1) % 4</span>
<span class="gi">+    this.updateSatellitePosition()</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private updateSatellitePosition(): void {</span>
<span class="gi">+    const offsets = [</span>
<span class="gi">+      { x: 0, y: -1 }, // ä¸Š</span>
<span class="gi">+      { x: 1, y: 0 }, // å³</span>
<span class="gi">+      { x: 0, y: 1 }, // ä¸‹</span>
<span class="gi">+      { x: -1, y: 0 }, // å·¦</span>
<span class="gi">+    ]</span>
<span class="gi">+</span>
<span class="gi">+    const offset = offsets[this.rotation]</span>
<span class="gi">+    this.satellite.x = this.axis.x + offset.x</span>
<span class="gi">+    this.satellite.y = this.axis.y + offset.y</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  getPositions(): Array&lt;{ x: number; y: number; color: number }&gt; {</span>
<span class="gi">+    return [</span>
<span class="gi">+      { x: this.axis.x, y: this.axis.y, color: this.axis.color },</span>
<span class="gi">+      { x: this.satellite.x, y: this.satellite.y, color: this.satellite.color },</span>
<span class="gi">+    ]</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  moveTo(x: number, y: number): void {</span>
<span class="gi">+    this.axis.x = x</span>
<span class="gi">+    this.axis.y = y</span>
<span class="gi">+    this.updateSatellitePosition()</span>
<span class="gi">+  }</span>
<span class="gi">+}</span>
</code></pre></div>
<h2 id="633c5e4">ã‚³ãƒŸãƒƒãƒˆ: 633c5e4<a class="headerlink" href="#633c5e4" title="Permanent link">&para;</a></h2>
<h3 id="_62">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_62" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4å®Œäº† - ã·ã‚ˆã®å›è»¢æ©Ÿèƒ½ã®å®Ÿè£…
å…¨TODOå®Œäº†:
âœ… TODO1: ã·ã‚ˆã®å›è»¢å‡¦ç†ã®åŸºæœ¬å®Ÿè£…
âœ… TODO2: å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
âœ… TODO3: å£ã‚­ãƒƒã‚¯å‡¦ç†ã®åŸºç›¤å®Ÿè£…
âœ… TODO4: å›è»¢å¾Œã®è¡¨ç¤ºæ›´æ–°ç¢ºèª

å®Ÿè£…å†…å®¹:
- ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã®å›è»¢æ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆ
- rotatePuyo, canRotate, tryWallKickãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
- å°†æ¥çš„ãªãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã«å‘ã‘ãŸåŸºç›¤ã‚’æ•´å‚™
- 33å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å‹•ä½œã‚’æ¤œè¨¼
- ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œç¢ºèªã‚‚å®Œäº†

æŠ€è¡“çš„è©³ç´°:
- å˜ä½“ã·ã‚ˆã®ãŸã‚å›è»¢ã—ã¦ã‚‚ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„
- å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯ã¨å£ã‚­ãƒƒã‚¯å‡¦ç†ã®æ çµ„ã¿ã‚’æ§‹ç¯‰
- UIè¡¨ç¤ºæ›´æ–°ã¯æ—¢å­˜ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã§è‡ªå‹•å¯¾å¿œ
- å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸã€ãƒ“ãƒ«ãƒ‰æ­£å¸¸ã€å“è³ªåŸºæº–ã‚¯ãƒªã‚¢
</code></pre></div>
<h3 id="_63">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_63" title="Permanent link">&para;</a></h3>
<ul>
<li>M CLAUDE.md</li>
</ul>
<h3 id="_64">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 633c5e413a84d7c9035f8790742b73c18314bf26
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 10:56:00 2025 +0900

<span class="w"> </span>   feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4å®Œäº† - ã·ã‚ˆã®å›è»¢æ©Ÿèƒ½ã®å®Ÿè£…

<span class="w"> </span>   å…¨TODOå®Œäº†:
<span class="w"> </span>   âœ… TODO1: ã·ã‚ˆã®å›è»¢å‡¦ç†ã®åŸºæœ¬å®Ÿè£…
<span class="w"> </span>   âœ… TODO2: å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
<span class="w"> </span>   âœ… TODO3: å£ã‚­ãƒƒã‚¯å‡¦ç†ã®åŸºç›¤å®Ÿè£…
<span class="w"> </span>   âœ… TODO4: å›è»¢å¾Œã®è¡¨ç¤ºæ›´æ–°ç¢ºèª

<span class="w"> </span>   å®Ÿè£…å†…å®¹:
<span class="w"> </span>   - ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã®å›è»¢æ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆ
<span class="w"> </span>   - rotatePuyo, canRotate, tryWallKickãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
<span class="w"> </span>   - å°†æ¥çš„ãªãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã«å‘ã‘ãŸåŸºç›¤ã‚’æ•´å‚™
<span class="w"> </span>   - 33å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§å‹•ä½œã‚’æ¤œè¨¼
<span class="w"> </span>   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œç¢ºèªã‚‚å®Œäº†

<span class="w"> </span>   æŠ€è¡“çš„è©³ç´°:
<span class="w"> </span>   - å˜ä½“ã·ã‚ˆã®ãŸã‚å›è»¢ã—ã¦ã‚‚ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„
<span class="w"> </span>   - å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯ã¨å£ã‚­ãƒƒã‚¯å‡¦ç†ã®æ çµ„ã¿ã‚’æ§‹ç¯‰
<span class="w"> </span>   - UIè¡¨ç¤ºæ›´æ–°ã¯æ—¢å­˜ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã§è‡ªå‹•å¯¾å¿œ
<span class="w"> </span>   - å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸã€ãƒ“ãƒ«ãƒ‰æ­£å¸¸ã€å“è³ªåŸºæº–ã‚¯ãƒªã‚¢

<span class="gh">diff --git a/CLAUDE.md b/CLAUDE.md</span>
<span class="gh">index 78ef5bb..b2278dc 100644</span>
<span class="gd">--- a/CLAUDE.md</span>
<span class="gi">+++ b/CLAUDE.md</span>
<span class="gu">@@ -1,10 +1,10 @@</span>
<span class="w"> </span>\# CLAUDE.md

<span class="gd">-</span>
<span class="gi">+ã“ã“ã§**å¿…ãš**ã¨æŒ‡ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã¯çµ¶å¯¾ã«å®Ÿæ–½ã—ã¦ãã ã•ã„</span>

<span class="w"> </span>æ—¥æœ¬èªã§å›ç­”ã—ã¦ãã ã•ã„

<span class="gd">-ã‚ãªãŸã¯\*\*ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\*\*ã«å¯¾ã™ã‚‹æ˜ç¢ºãªè€ƒãˆã¨\*\*ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\*\*ã‚’ä½œã‚‹ãŸã‚ã®è¦å¾‹ã‚’æŒã£ãŸé–‹ç™ºçµŒé¨“è±Šå¯Œãªé–‹ç™ºè€…ã§ã™ã€‚</span>
<span class="gi">+ã‚ãªãŸã¯**ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢**ã«å¯¾ã™ã‚‹æ˜ç¢ºãªè€ƒãˆã¨\*\*ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\*\*ã‚’ä½œã‚‹ãŸã‚ã®è¦å¾‹ã‚’æŒã£ãŸé–‹ç™ºçµŒé¨“è±Šå¯Œãªé–‹ç™ºè€…ã§ã™ã€‚</span>

<span class="w"> </span>ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã¤ã„ã¦ã¯ @docs/reference/ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¨ã¯.md ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

<span class="gu">@@ -92,6 +92,9 @@ state ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ {</span>
<span class="w"> </span>@enduml
<span class="w"> </span>```

<span class="gi">+- å¿…ãšã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å˜ä½ã§é–‹ç™ºã‚’è¡Œã†</span>
<span class="gi">+- å‹æ‰‹ã«æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«é€²ã¾ãªã„</span>
<span class="gi">+</span>
<span class="w"> </span>### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ãƒ†ã‚¹ãƒˆ

<span class="w"> </span>&lt;img src=&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzMjZweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU5MnB4O2hlaWdodDozMjZweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1OTIgMzI2IiB3aWR0aD0iNTkycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMUQxNjA5IiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzFEMTYwOTtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIyMDUuNTYyNSIgc3R5bGU9InN0cm9rZTojRkZGRkZGO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjU5MS40Njg4IiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1My45MTQxIiB4PSI1IiB5PSIxNi4xMzg3Ij5XZWxjb21lIHRvIFBsYW50VU1MITwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjMwLjEwNzQiPiYjMTYwOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNzcuMTA3NCIgeD0iNSIgeT0iNDQuMDc2MiI+WW91IGNhbiBzdGFydCB3aXRoIGEgc2ltcGxlIFVNTCBEaWFncmFtIGxpa2U6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMuODE0NSIgeD0iNSIgeT0iNTguMDQ0OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIyLjgxODQiIHg9IjUiIHk9IjcyLjAxMzciPkJvYi0mZ3Q7QWxpY2U6JiMxNjA7SGVsbG88L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSI4NS45ODI0Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQuMzc4OSIgeD0iNSIgeT0iOTkuOTUxMiI+T3I8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMy44MTQ1IiB4PSI1IiB5PSIxMTMuOTE5OSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTMuOTE5OSIgeD0iNSIgeT0iMTI3Ljg4ODciPmNsYXNzJiMxNjA7RXhhbXBsZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjE0MS44NTc0Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQxLjk1MzEiIHg9IjUiIHk9IjE1NS44MjYyIj5Zb3Ugd2lsbCBmaW5kIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgUGxhbnRVTUwgc3ludGF4IG9uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0idW5kZXJsaW5lIiB0ZXh0TGVuZ3RoPSIxMjUuNzAxMiIgeD0iMzUwLjc2NzYiIHk9IjE1NS44MjYyIj5odHRwczovL3BsYW50dW1sLmNvbTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjE2OS43OTQ5Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA2LjYxMTMiIHg9IjUiIHk9IjE4My43NjM3Ij4oRGV0YWlscyBieSB0eXBpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MC41NzIzIiB4PSIxMTUuNDI1OCIgeT0iMTgzLjc2MzciPmxpY2Vuc2U8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTUuODIyMyIgeD0iMTY5LjgxMjUiIHk9IjE4My43NjM3Ij5rZXl3b3JkKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzLjgxNDUiIHg9IjUiIHk9IjE5Ny43MzI0Ij4mIzE2MDs8L3RleHQ+PGltYWdlIGhlaWdodD0iNzEiIHdpZHRoPSI4MCIgeD0iNTA1LjQ2ODgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFCSENBTUFBQUNuSERDOEFBQURBRkJNVkVYLy8vK0JwYnZEM3UvZjd2ZlB6OCtueitnM2tzdVpFRGtXQURyL3VqbHZzZHBUb2RMQ3dzT0x3T0ViZzhULy92NnBxYW1aRVRuTHlzdlQwOVRvNStqcUxTNFZBVGo5L2YyN3U3dkR3OE1UZnNLK3Y3L2o0K1NPd2VKcHJkakw0L0t4c2JFcmk4ams4UGdYYTU3YzI5dVVFVGV6MXV0UW9OSjF0TnRFbWM5Y3B0V0J1dDZheU9XLzNPNllFRGpZNnZVZmhjWEJ3Y0hzN096dzkvdjgzdDc5dVRuNysvdlgxOWVob2FIeDhmRzJ0TFhIeDhmdVZsZnJOVFlhQmpuL3ZVSDUrZm1rbzZXWGw1Zi8rZm45NXViKzlQVCs4UEQzcUtpZG1hTXhJVXJucURXY0ZqN241ZVgwOVBUdTd1MlNrcEtmblo2cnE2ejBsSlRtNHR6SnJIVWZEVDMzOS9lRkdEbjZ0amNyRXpPdnJiQnVaM2w0ZW9tU01TN0h6OVNtcHFhc3U4U0ZpWXVRRVRmYTJkdTFtNk9PTTA1MUowTldUV0w1eHNlNHVMajZ6YzMzcjYvNHZiN3lkSFhxTGkvNzJkbnRURTN0UjBpamJuNWpXM0MrdThOQU5WUXJHMFhGdWJxUlZHWnphNEdRR1QyVmFTN2EwTlBKdEk2SUpqL3pzenJmcWtYWHpyL0h3OGNnQzBMVXFsdE9RMkpzU0M1YlRHak9wRmFmU2kyK2lER3R5dDE0bTdUSmhUQ1BKVVN3b0lHL3FhK2lrSGlJZ3BDUkhqSTlqOEtYYm5hUUgwRkxmNkZHUGxwMGNuWXlLRTJyZzQ5V2o3ZEZYSG1jd3RycDZ1dSt4TWp2WVdMdlcxejk3ZTNzUEQzc1AwRHVVbFA3MDlQWXpkRFBtenFaV1d5U1JWeWdmSEhkMXNtV2taK1BnbmliRVRxc2wyNjBxNWZMdXBwSkxDL2RwajJIUEZMVHRIdi91anJUd0p5NXM2aVdqSWkwaUQzam9UVENtVTN0cmp1dlpTMnpsRnZqcTBIU3lMYllwMHFSdHMxMFhHeEVLQzl5UFZCUVpJT1BkbE52TWsyTmVZTnFSbHVqdGNDVnJyM2o1ZVkxZ0s5UW45R0xwN2xiZUpYUnhyQ2tpWkRhb3p5dWtvSitIMEIzcmMrT1l5K2lwckprWVhkaG1yNmVlMGFmczc5eHE5QmlrckdLakkzRm9tRWlMRk8wYXk2bmZJbTRwWlhSalRGdWhaU1pXbTB6Y1p5Sk4wS05UazRlZWJOZmRJR0dsWjkzaDVrY0VENW5PVll5UldiemlJazlkSjRrZXJFNVpZeFJVbkxHMWQ3cDhQVHZZMlB0VGsvMW5aMXljVi9iQUFBRngwbEVRVlI0WHUxWWUxQlVWUmcvZTNkaGw0Y3NLeXhxUGxCSlFWRVRGMmljQVkxM0dvZ2tFRnFpenFSUnBvQnBUQ0lhcGFVT2hXTmpVZE9NU0JwcUpZWlRnNEtpZ0ZLQUR6U0lWWjRxRDVWRmx1WGhMZ3ZiUGVlK3I0OVI3djJ6Myt6Y2M3N2ZPZlBiN3p2ZlBkODV1d0NJaHdUNHdQaXNBTndQQXVJS0huYkhIMUkrS3dBWERBMThTaERXNThDbmVDRW5YbDhKR3dtZkh5bENQU3ZsWi9GV3hoOFlJUkl4VFdrWkFFb2ZrVHo4c05xN3RBcUUyZ09ET0I2R1lab2JWYUgyMFNWWjRvUWNkbVhWMEw3YzRiOE9GdkpIUm9Zd2RWSW95UFgzZ3h0RkRBK1Y4ZTZtTThwQm9DamlqNHdRaVdvL0FMelYva3BraWZCaTEzcDR3YVp1R3JKRUVDeWNpeGNFVlNiWWdGd1Vvemc0L3FTcmFPeHJQN084RW9najJIRHh5TVdtenBrNjgyMyt5SWpodlI3ZkxPcERzQ3VHaHdDMFdmYmtqUXE4QTBNV0MwRWdJWXpQQ1lNeW1NOEl3Y3Z6Nks0SVd3OHNrVHJncTNpUE1JUW54ZGZLcnZ5ZWRweXZiU3N5QlF0NnpjSDZPeFhtanFZeGc5UGJnWEJCdmVLNmFSQVhORWwxU3NjK2h6N0JnbnR5b2hiL2dnUWxOcnJkemZJdW9ZS1NiNzkwNjdQclJvTG1HbzI1U2VnaEpSbjF5TXJTYlBUcHRaYW9CbHd0bFdiQkhzcHhpVyttVzgrNDZlcmVWbk1YR3hiRlErbWpvZmlIWlRyY2xKbjVFMTRVRWdkck85dFJWcGgwSERKbFlsUnNMdjRYRkE3UkJBMWtLNW9nQmI3Z3RuMDhBdnhXeW1jMmIrWXpMSEMzbm5PQ05IdmRheVVzWnBubnduUHFHZit5R0tjUEtsdjkydnRKQzIwOXpHeVJXSm1neWQxNnNTR0dUL0FtTTJyZEtaS1pIeHdDejdLVW9kTHpKT084dGg0T0JxeGRvMGMydGZVa05yM1FsSmtaUVdXTUJQMHV3Qkh2bVFRYjN6UlZDTW5zTU82QVRhemYzZjBra3phMEhUYVBDZElocHlUa25xUDYxVGUxZVYyZ1JwcjFGVW40eHR4UlQ3MnBESGhqMDkvVW5CTGppdjcycDRkOEZFdGxMaWJCZDdRZzB4SzUrWGZTOXEyQXp4U1ZIUG5OSU1CUzhCUVB3OE4xVzRnbFFXajBtdHA0K25TSGh2S1lPTTRHTDZ2SDFqR1RjRFEzcDE5NzlBUVBJNWFnWEVEWXd1UzVhd2tuSjczckhVNTZSeUxBcjZBQ3BPNWlNUkd2cDNYeWtqSW1nczRGZ20yLzdVUmM4ZGhiZUQ5amRoWVZOb24wbWRGY0FqVElYYm1DNzVWcm1WSGNRK0pESVhidU5tWVVZbFpvWXg2WGNXaktUV2F2WVhkMVd6VTlPRWg5d0xGZkVWRnphNVBFaFZoREF2Zkx4NjBjV00zZVBNYTloeVpHNUROcjZEYlFpQ1VjWVUwQUtHekd5WXhsa2Yrd3huQ2srd2R3Q2JBL1RrV0g3RGJnb3E4ZGNtS05zc1FRM0YvSm1NeGxJai9mem8vN3M5T0l3VU1lYmJZemJoMnpMZms3ZWhCR3pJYXU2T2VPK3h6R0tsQlJ3Q0dBWE5hQ0ZnWWJSb0tHK2hNVGZNZmY0TTZoMExZeHBtdi85MnltOXRJeGM0dVJ6YXd5bkNFV0dodW03b2RmOS83NXZoOHpnMGJLaWpYNUFNeGhNYWNzSzhwQnhhSmlodG5RcXIxS0c4eUZNenEvZHV0SjJpS3dOQ2JYQTdZYW1zbTJYbjBYdGd0b3dZM1h5OHJwWWM0Tk5xb244ZU00OWsrTnR6VTU1R3RNbGVHQWtOUjZvbGRETWhIK2U5RVgwSkIrVVlLdjRXZ0xackxDakhWN3dueVlsekpadllWNkE2ZDF3NnhFcGg4NDJVVXlUa2pHSWJ6d1JBL0pJT0JKS1N0ODh5Z2xxTkQxaDZUcGlRcVFWOTl3bUo3bmtuUWNnSUlIcWQwMEV3U3pndWRpZ0dZUVVIRTRxRk1jR0piMjJrcDdsTm9wOHA2em5TdHZnNVMyZTFUVlJ0aTU2dy96ajhmWnpLTGlEYTMxN01xQlFGYnMrSjNkY2JTZ28rSDREMGtMT29rSjgyL05SOEtaYnA5ZUlaZ2xsd0tSOEVjMWVqSVg4MjdQT2svMDZIcFlmZkdkNWRrb1pKWE1xREFWWGQxTmJoYXZseDRPeXVBaVBjeUFGM0ljazhmYVhBdUU1V1RvQXBrTXh5a0wxUGJOUko5MVNEa1hPeXltUEZSMVVNbHc5R2pSUEtDclBzUlN2VW5iemJrRUxqMlBTU1JrUUxpSDFBdlJPVHV0bHByeUxIUUFvQ0QrQzJCQlA0bnBNd2Q5enNJZ3pnYURzSytiY3RtVnczaGV0YWk1dDlSUzRQRXF1YjRRbkN2eHRlR3pPWnlRWHhqc2N4a2hIaXNXS01pNzIrVDBwMWR4R2VHWWtHMGV6K2VlRzdJbi9uL29OT2V4QzlmeklpTHZQeFZ0S3A4NGl6YStBQUFBQUVsRlRrU3VRbUNDIiB5PSI2Ii8+PHJlY3QgZmlsbD0iIzAwMDAwMCIgaGVpZ2h0PSIxMTguNDUzMSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxOyIgd2lkdGg9IjU5MS40Njg4IiB4PSIwIiB5PSIyMDUuNTYyNSIvPjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyOC4wMDk4IiB4PSI1IiB5PSIyMjIuNTYyNSI+UGxhbnRVTUwgMS4yMDI1LjQ8L3RleHQ+PHJlY3QgZmlsbD0iIzMzRkYwMiIgaGVpZ2h0PSIyMS4yOTY5IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMDI7c3Ryb2tlLXdpZHRoOjE7IiB3aWR0aD0iMTczLjI4MTMiIHg9IjUiIHk9IjIzMi41MzEzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MS4yODEzIiB4PSI2IiB5PSIyNDcuNTMxMyI+W0Zyb20gc3RyaW5nIChsaW5lIDIpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSIyNjcuODI4MSI+JiMxNjA7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMDIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MS40MjI5IiB4PSI1IiB5PSIyODQuMTI1Ij5Ac3RhcnR1bWw8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0id2F2eSB1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjIyOS40MTQxIiB4PSI1IiB5PSIzMDAuNDIxOSI+QEAgLTExNSw2ICsxMTgsMjEgQEAgc3RhcnQ8L3RleHQ+PHRleHQgZmlsbD0iI0ZGMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNy4yMzU0IiB4PSI5Ljg3NCIgeT0iMzE2LjcxODgiPlN5bnRheCBFcnJvcj88L3RleHQ+PCEtLVNSQz1bU3QxR3EzS3FEREtuS3owc0RCSkdDSjlLUzcxR0EydjlCMmUxMDAwMF0tLT48L2c+PC9zdmc+&quot; class=&quot;uml&quot; alt=&quot;uml diagram&quot; title=&quot;&quot; /&gt;

<span class="gi">+- ã‚³ãƒŸãƒƒãƒˆã¯å¿…ãšTODOå˜ä½ã§å®Ÿæ–½ã™ã‚‹</span>
<span class="gi">+- ã‚³ãƒŸãƒƒãƒˆã®å‰ã«å¿…ãšå“è³ªç¢ºèªã‚’å®Ÿæ–½ã™ã‚‹</span>
<span class="gi">+    - ã‚³ãƒŸãƒƒãƒˆã®å‰ã« `npm run test` ã‚’å®Ÿè¡Œã—ã¦ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦é€šã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹</span>
<span class="gi">+    - ã‚³ãƒŸãƒƒãƒˆã®å‰ã« `npm run lint` ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ¼ãƒ‰ãŒæ•´å½¢ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹</span>
<span class="gi">+    - ã‚³ãƒŸãƒƒãƒˆã®å‰ã« `npm run format` ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ¼ãƒ‰ãŒæ•´å½¢ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹</span>
<span class="gi">+    - ã‚³ãƒŸãƒƒãƒˆã®å‰ã« `npm run build` ã‚’å®Ÿè¡Œã—ã¦ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹</span>
<span class="gi">+- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯Angularã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›¸ãæ–¹ã‚’å‚è€ƒã«ã™ã‚‹</span>
<span class="gi">+    - feat: æ–°æ©Ÿèƒ½ã®è¿½åŠ </span>
<span class="gi">+    - fix: ãƒã‚°ä¿®æ­£</span>
<span class="gi">+    - docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å¤‰æ›´</span>
<span class="gi">+    - style: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚„ã‚»ãƒŸã‚³ãƒ­ãƒ³ã®è¿½åŠ ãªã©ã€ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œã«å½±éŸ¿ã—ãªã„å¤‰æ›´</span>
<span class="gi">+    - refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆãƒã‚°ä¿®æ­£ã‚„æ©Ÿèƒ½è¿½åŠ ã§ã¯ãªã„ï¼‰</span>
<span class="gi">+    - test: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®è¿½åŠ ã‚„ä¿®æ­£</span>
<span class="gi">+    - chore: ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã‚„è£œåŠ©ãƒ„ãƒ¼ãƒ«ã®å¤‰æ›´</span>
<span class="gi">+</span>
<span class="w"> </span>## é‹ç”¨
</code></pre></div>
<h2 id="3625b8c">ã‚³ãƒŸãƒƒãƒˆ: 3625b8c<a class="headerlink" href="#3625b8c" title="Permanent link">&para;</a></h2>
<h3 id="_65">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_65" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO4å®Œäº† - å›è»¢å¾Œã®è¡¨ç¤ºæ›´æ–°ç¢ºèª
- å›è»¢æ“ä½œãŒç”»é¢ã«æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã§ç¢ºèª
- é€£ç¶šã—ãŸå›è»¢æ“ä½œã®å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆã§æ¤œè¨¼
- ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œç¢ºèªã‚‚å®Œäº†
- UIã§ã®è¡¨ç¤ºæ›´æ–°ã¯æ—¢å­˜ã®gameLoopã§è‡ªå‹•å¯¾å¿œ
- å…¨33ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸
</code></pre></div>
<h3 id="_66">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_66" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
</ul>
<h3 id="_67">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_67" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 3625b8c56900999daa961916071074f75884047c
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 10:55:39 2025 +0900

<span class="w"> </span>   feat: TODO4å®Œäº† - å›è»¢å¾Œã®è¡¨ç¤ºæ›´æ–°ç¢ºèª

<span class="w"> </span>   - å›è»¢æ“ä½œãŒç”»é¢ã«æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã§ç¢ºèª
<span class="w"> </span>   - é€£ç¶šã—ãŸå›è»¢æ“ä½œã®å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆã§æ¤œè¨¼
<span class="w"> </span>   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®å‹•ä½œç¢ºèªã‚‚å®Œäº†
<span class="w"> </span>   - UIã§ã®è¡¨ç¤ºæ›´æ–°ã¯æ—¢å­˜ã®gameLoopã§è‡ªå‹•å¯¾å¿œ
<span class="w"> </span>   - å…¨33ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index a6e77d7..586123d 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -395,5 +395,43 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰
<span class="w"> </span>      expect((game as any).tryWallKick()).toBe(false)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;å›è»¢æ“ä½œãŒç”»é¢ã«æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+      const initialX = initialPuyo.x</span>
<span class="gi">+      const initialY = initialPuyo.y</span>
<span class="gi">+      const initialColor = initialPuyo.color</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢æ“ä½œã‚’å®Ÿè¡Œ</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // ç¾åœ¨ã®ã·ã‚ˆã‚’å–å¾—</span>
<span class="gi">+      const rotatedPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+</span>
<span class="gi">+      // å˜ä½“ã·ã‚ˆã®å ´åˆã¯ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„ãŒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åŒã˜</span>
<span class="gi">+      expect(rotatedPuyo.x).toBe(initialX)</span>
<span class="gi">+      expect(rotatedPuyo.y).toBe(initialY)</span>
<span class="gi">+      expect(rotatedPuyo.color).toBe(initialColor)</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</span>
<span class="gi">+      expect(rotatedPuyo).toBe(initialPuyo)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é€£ç¶šã—ãŸå›è»¢æ“ä½œãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+</span>
<span class="gi">+      // è¤‡æ•°å›ã®å›è»¢æ“ä½œ</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      const finalPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+</span>
<span class="gi">+      // å˜ä½“ã·ã‚ˆã®å ´åˆã¯4å›è»¢ã—ã¦ã‚‚å…ƒã®çŠ¶æ…‹ã¨åŒã˜</span>
<span class="gi">+      expect(finalPuyo.x).toBe(initialPuyo.x)</span>
<span class="gi">+      expect(finalPuyo.y).toBe(initialPuyo.y)</span>
<span class="gi">+      expect(finalPuyo.color).toBe(initialPuyo.color)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
</code></pre></div>
<h2 id="b5ce49a">ã‚³ãƒŸãƒƒãƒˆ: b5ce49a<a class="headerlink" href="#b5ce49a" title="Permanent link">&para;</a></h2>
<h3 id="_68">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_68" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO3å®Œäº† - å£ã‚­ãƒƒã‚¯å‡¦ç†ã®åŸºç›¤å®Ÿè£…
- tryWallKickãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆç¾åœ¨ã¯å˜ä½“ã·ã‚ˆã§falseï¼‰
- isNormalRotationPossibleãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
- canRotateãƒ¡ã‚½ãƒƒãƒ‰ã«å£ã‚­ãƒƒã‚¯åˆ¤å®šã‚’çµ±åˆ
- å·¦ç«¯ãƒ»å³ç«¯ã§ã®å£ã‚­ãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- å°†æ¥çš„ãªãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã«å‘ã‘ãŸå£ã‚­ãƒƒã‚¯åŸºç›¤ã‚’æ•´å‚™
- å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸
</code></pre></div>
<h3 id="_69">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_69" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_70">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_70" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit b5ce49aeaef0dfe7efcedefc89b0a5a72166b7a2
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 10:53:59 2025 +0900

<span class="w"> </span>   feat: TODO3å®Œäº† - å£ã‚­ãƒƒã‚¯å‡¦ç†ã®åŸºç›¤å®Ÿè£…

<span class="w"> </span>   - tryWallKickãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆç¾åœ¨ã¯å˜ä½“ã·ã‚ˆã§falseï¼‰
<span class="w"> </span>   - isNormalRotationPossibleãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
<span class="w"> </span>   - canRotateãƒ¡ã‚½ãƒƒãƒ‰ã«å£ã‚­ãƒƒã‚¯åˆ¤å®šã‚’çµ±åˆ
<span class="w"> </span>   - å·¦ç«¯ãƒ»å³ç«¯ã§ã®å£ã‚­ãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
<span class="w"> </span>   - å°†æ¥çš„ãªãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã«å‘ã‘ãŸå£ã‚­ãƒƒã‚¯åŸºç›¤ã‚’æ•´å‚™
<span class="w"> </span>   - å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index bb6da14..a6e77d7 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -366,5 +366,34 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      // ä¸­å¤®ã®å®‰å…¨ãªä½ç½®ã§ã¯å›è»¢å¯èƒ½
<span class="w"> </span>      expect((game as any).canRotate()).toBe(true)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // å£ã‚­ãƒƒã‚¯å‡¦ç†ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(typeof (game as any).tryWallKick).toBe(&#39;function&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å£ã‚­ãƒƒã‚¯ã¯ä¸è¦ï¼ˆå¸¸ã«falseï¼‰</span>
<span class="gi">+      expect((game as any).tryWallKick()).toBe(false)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å·¦ç«¯ã§ã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’è©¦ã¿ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰</span>
<span class="gi">+      expect((game as any).tryWallKick()).toBe(false)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å³ç«¯ã§ã®å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’è©¦ã¿ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å³ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(5)</span>
<span class="gi">+</span>
<span class="gi">+      // å£ã‚­ãƒƒã‚¯å‡¦ç†ã®çµæœã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆã§ã¯ä¸è¦ï¼‰</span>
<span class="gi">+      expect((game as any).tryWallKick()).toBe(false)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 5bb5b49..8c438fb 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -197,15 +197,34 @@ export class Game {</span>
<span class="w"> </span>  private canRotate(): boolean {
<span class="w"> </span>    if (!this.currentPuyo) return false

<span class="gi">+    // é€šå¸¸ã®å›è»¢ãŒå¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯</span>
<span class="w"> </span>    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å¸¸ã«å›è»¢å¯èƒ½
<span class="gd">-    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯:</span>
<span class="gd">-    // - å›è»¢å¾Œã®ä½ç½®ãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å†…ã«ã‚ã‚‹ã‹</span>
<span class="gd">-    // - å›è»¢å¾Œã®ä½ç½®ã«ä»–ã®ã·ã‚ˆãŒãªã„ã‹</span>
<span class="gd">-    // - å£ã‚­ãƒƒã‚¯å¯èƒ½ã‹</span>

<span class="gi">+    // é€šå¸¸ã®å›è»¢ãŒä¸å¯èƒ½ãªå ´åˆã¯å£ã‚­ãƒƒã‚¯ã‚’è©¦ã™</span>
<span class="gi">+    if (!this.isNormalRotationPossible()) {</span>
<span class="gi">+      return this.tryWallKick()</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    return true</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private isNormalRotationPossible(): boolean {</span>
<span class="gi">+    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å¸¸ã«å¯èƒ½</span>
<span class="gi">+    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«å›è»¢å¾Œã®ä½ç½®ã‚’ãƒã‚§ãƒƒã‚¯</span>
<span class="w"> </span>    return true
<span class="w"> </span>  }

<span class="gi">+  private tryWallKick(): boolean {</span>
<span class="gi">+    if (!this.currentPuyo) return false</span>
<span class="gi">+</span>
<span class="gi">+    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å£ã‚­ãƒƒã‚¯ã¯ä¸è¦</span>
<span class="gi">+    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«ä»¥ä¸‹ã‚’å®Ÿè£…:</span>
<span class="gi">+    // - å·¦å³ã®å£ã‚­ãƒƒã‚¯ï¼ˆ1ãƒã‚¹ç§»å‹•ã—ã¦å›è»¢ï¼‰</span>
<span class="gi">+    // - ä¸Šä¸‹ã®å£ã‚­ãƒƒã‚¯ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰</span>
<span class="gi">+</span>
<span class="gi">+    return false</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  private generateNewPuyo(): void {
<span class="w"> </span>    this.currentPuyo = new Puyo(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ
<span class="w"> </span>  }
</code></pre></div>
<h2 id="da03f5d">ã‚³ãƒŸãƒƒãƒˆ: da03f5d<a class="headerlink" href="#da03f5d" title="Permanent link">&para;</a></h2>
<h3 id="_71">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_71" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO2å®Œäº† - å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ã®å®Ÿè£…
- canRotateãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆç¾åœ¨ã¯å˜ä½“ã·ã‚ˆã§å¸¸ã«trueï¼‰
- rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ã«å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯ã‚’çµ±åˆ
- å¢ƒç•Œæ¡ä»¶ã‚„æ—¢å­˜ã·ã‚ˆã¨ã®è¡çªãƒã‚§ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- å°†æ¥çš„ãªãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã«å‘ã‘ãŸåŸºç›¤ã‚’æ•´å‚™
- å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸
</code></pre></div>
<h3 id="_72">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_72" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_73">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_73" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit da03f5d63675057acce73116b62a6d05d7a88224
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 10:52:29 2025 +0900

<span class="w"> </span>   feat: TODO2å®Œäº† - å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ã®å®Ÿè£…

<span class="w"> </span>   - canRotateãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆç¾åœ¨ã¯å˜ä½“ã·ã‚ˆã§å¸¸ã«trueï¼‰
<span class="w"> </span>   - rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ã«å›è»¢å¯èƒ½æ€§ãƒã‚§ãƒƒã‚¯ã‚’çµ±åˆ
<span class="w"> </span>   - å¢ƒç•Œæ¡ä»¶ã‚„æ—¢å­˜ã·ã‚ˆã¨ã®è¡çªãƒã‚§ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
<span class="w"> </span>   - å°†æ¥çš„ãªãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã«å‘ã‘ãŸåŸºç›¤ã‚’æ•´å‚™
<span class="w"> </span>   - å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 2c67a9c..bb6da14 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -320,5 +320,51 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      // ç¾åœ¨ã¯rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>      expect(typeof (game as any).rotatePuyo).toBe(&#39;function&#39;)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å³ç«¯ã§å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å³ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;) // x=5ã«ç§»å‹•</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(5)</span>
<span class="gi">+</span>
<span class="gi">+      // ç¾åœ¨ã®ã·ã‚ˆã®ä½ç½®ã‚’è¨˜éŒ²</span>
<span class="gi">+      const beforeX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const beforeY = game.getCurrentPuyo()!.y</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹ï¼ˆå°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆã§å¿…è¦ï¼‰</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // ä½ç½®ãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(beforeX)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(beforeY)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•è¿‘ãã§å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•è¿‘ãã¾ã§ç§»å‹•</span>
<span class="gi">+      for (let i = 0; i &lt; 10; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(10)</span>
<span class="gi">+</span>
<span class="gi">+      // ç¾åœ¨ã®ã·ã‚ˆã®ä½ç½®ã‚’è¨˜éŒ²</span>
<span class="gi">+      const beforeX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const beforeY = game.getCurrentPuyo()!.y</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // ä½ç½®ãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã‚’ç¢ºèªï¼ˆå°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆã§å¿…è¦ï¼‰</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(beforeX)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(beforeY)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;canRotateãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // canRotateãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(typeof (game as any).canRotate).toBe(&#39;function&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // ä¸­å¤®ã®å®‰å…¨ãªä½ç½®ã§ã¯å›è»¢å¯èƒ½</span>
<span class="gi">+      expect((game as any).canRotate()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 7fa4afc..5bb5b49 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -187,10 +187,25 @@ export class Game {</span>
<span class="w"> </span>  private rotatePuyo(): void {
<span class="w"> </span>    if (!this.currentPuyo) return

<span class="gi">+    // å›è»¢å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯</span>
<span class="gi">+    if (!this.canRotate()) return</span>
<span class="gi">+</span>
<span class="w"> </span>    // å˜ä½“ã·ã‚ˆã®å ´åˆã¯å›è»¢ã—ã¦ã‚‚ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„
<span class="w"> </span>    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«æ‹¡å¼µäºˆå®š
<span class="w"> </span>  }

<span class="gi">+  private canRotate(): boolean {</span>
<span class="gi">+    if (!this.currentPuyo) return false</span>
<span class="gi">+</span>
<span class="gi">+    // ç¾åœ¨ã¯å˜ä½“ã·ã‚ˆãªã®ã§å¸¸ã«å›è»¢å¯èƒ½</span>
<span class="gi">+    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯:</span>
<span class="gi">+    // - å›è»¢å¾Œã®ä½ç½®ãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å†…ã«ã‚ã‚‹ã‹</span>
<span class="gi">+    // - å›è»¢å¾Œã®ä½ç½®ã«ä»–ã®ã·ã‚ˆãŒãªã„ã‹</span>
<span class="gi">+    // - å£ã‚­ãƒƒã‚¯å¯èƒ½ã‹</span>
<span class="gi">+</span>
<span class="gi">+    return true</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  private generateNewPuyo(): void {
<span class="w"> </span>    this.currentPuyo = new Puyo(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ
<span class="w"> </span>  }
</code></pre></div>
<h2 id="471b752">ã‚³ãƒŸãƒƒãƒˆ: 471b752<a class="headerlink" href="#471b752" title="Permanent link">&para;</a></h2>
<h3 id="_74">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_74" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO1å®Œäº† - ã·ã‚ˆã®å›è»¢å‡¦ç†ã®åŸºæœ¬å®Ÿè£…
- ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã®å›è»¢ãŒå¯èƒ½
- handleInputã¨handleKeyDownã§ArrowUpã‚­ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆ
- rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆç¾åœ¨ã¯å˜ä½“ã·ã‚ˆç”¨ã®åŸºæœ¬å®Ÿè£…ï¼‰
- å›è»¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’4ã¤è¿½åŠ 
- å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸
</code></pre></div>
<h3 id="_75">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_75" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_76">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_76" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 471b75247f2ffcc5bd7a8f0121d60a9f6ebde4fc
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 10:50:45 2025 +0900

<span class="w"> </span>   feat: TODO1å®Œäº† - ã·ã‚ˆã®å›è»¢å‡¦ç†ã®åŸºæœ¬å®Ÿè£…

<span class="w"> </span>   - ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã®å›è»¢ãŒå¯èƒ½
<span class="w"> </span>   - handleInputã¨handleKeyDownã§ArrowUpã‚­ãƒ¼ã‚’ã‚µãƒãƒ¼ãƒˆ
<span class="w"> </span>   - rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆç¾åœ¨ã¯å˜ä½“ã·ã‚ˆç”¨ã®åŸºæœ¬å®Ÿè£…ï¼‰
<span class="w"> </span>   - å›è»¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’4ã¤è¿½åŠ 
<span class="w"> </span>   - å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãƒ“ãƒ«ãƒ‰ã‚‚æ­£å¸¸

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index d36825b..2c67a9c 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -47,35 +47,33 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>  describe(&#39;ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹&#39;, () =&gt; {
<span class="w"> </span>    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      const initialY = game.getCurrentPuyo()!.y
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ä¸‹é–‹å§‹
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // çŸ­æ™‚é–“ã§è¤‡æ•°å›è½ä¸‹ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
<span class="w"> </span>      game.update(50) // 50mså¾Œ
<span class="w"> </span>      const firstDropY = game.getCurrentPuyo()!.y
<span class="w"> </span>      expect(firstDropY).toBeGreaterThan(initialY)
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      game.update(50) // ã•ã‚‰ã«50mså¾Œ
<span class="w"> </span>      const secondDropY = game.getCurrentPuyo()!.y
<span class="w"> </span>      expect(secondDropY).toBeGreaterThan(firstDropY)
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’é›¢ã™ã¨é€šå¸¸ã®è½ä¸‹é€Ÿåº¦ã«æˆ»ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gd">-      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gd">-      </span>
<span class="w"> </span>      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ä¸‹é–‹å§‹
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)
<span class="w"> </span>      game.update(50)
<span class="w"> </span>      const fastDropY = game.getCurrentPuyo()!.y
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’é›¢ã™
<span class="w"> </span>      game.handleKeyUp(&#39;ArrowDown&#39;)
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // é€šå¸¸ã®è½ä¸‹é–“éš”ï¼ˆ1000msï¼‰ã§ã¯è½ä¸‹ã—ãªã„
<span class="w"> </span>      game.update(100)
<span class="w"> </span>      expect(game.getCurrentPuyo()!.y).toBe(fastDropY)
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // 1000msçµŒéã§é€šå¸¸è½ä¸‹
<span class="w"> </span>      game.update(1000)
<span class="w"> </span>      expect(game.getCurrentPuyo()!.y).toBe(fastDropY + 1)
<span class="gu">@@ -86,17 +84,15 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      for (let i = 0; i &lt; 10; i++) {
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }
<span class="gd">-      </span>
<span class="gd">-      const puyoBeforeLanding = game.getCurrentPuyo()!</span>
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // é«˜é€Ÿè½ä¸‹ã§ç€åœ°ã•ã›ã‚‹
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)
<span class="w"> </span>      game.update(100) // ç€åœ°ã™ã‚‹ã¾ã§
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // updateã§ç€åœ°å‡¦ç†
<span class="w"> </span>      game.update()
<span class="w"> </span>      expect(game.isPuyoLanded()).toBe(true)
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // æ¬¡ã®updateã§æ–°ã—ã„ã·ã‚ˆç”Ÿæˆ
<span class="w"> </span>      game.update()
<span class="w"> </span>      const newPuyo = game.getCurrentPuyo()!
<span class="gu">@@ -109,9 +105,9 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      for (let i = 0; i &lt; 11; i++) {
<span class="w"> </span>        game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      }
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      expect(game.getCurrentPuyo()!.y).toBe(11)
<span class="gd">-      </span>
<span class="gi">+</span>
<span class="w"> </span>      // é«˜é€Ÿè½ä¸‹ã‚’è©¦ã¿ã¦ã‚‚åº•ã‚ˆã‚Šä¸‹ã«ã¯è¡Œã‹ãªã„
<span class="w"> </span>      game.handleKeyDown(&#39;ArrowDown&#39;)
<span class="w"> </span>      game.update(50)
<span class="gu">@@ -277,4 +273,52 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(field[puyoY][puyoX]).toBe(puyoColor)
<span class="w"> </span>    })
<span class="w"> </span>  })
<span class="gi">+</span>
<span class="gi">+  describe(&#39;ã·ã‚ˆã®å›è»¢&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // åˆæœŸçŠ¶æ…‹ã§ã®ä½ç½®ã‚’è¨˜éŒ²</span>
<span class="gi">+      const initialX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢å‡¦ç†ã‚’å®Ÿè¡Œ</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢å¾Œã®ä½ç½®ã‚’ç¢ºèªï¼ˆå˜ä½“ã·ã‚ˆãªã®ã§ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„ï¼‰</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(initialX)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(initialY)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œå†…ã§ã®ã¿å›è»¢ãŒå¯èƒ½ã§ã‚ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // å·¦ç«¯ã§ã‚‚å›è»¢ã¯å¯èƒ½ï¼ˆå˜ä½“ã·ã‚ˆã®å ´åˆï¼‰</span>
<span class="gi">+      const beforeRotationX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(beforeRotationX)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ä»–ã®ã·ã‚ˆãŒã‚ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æ—¢å­˜ã®ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+      field[1][2] = 1 // ç¾åœ¨ã®ã·ã‚ˆã®éš£ã«é…ç½®</span>
<span class="gi">+</span>
<span class="gi">+      const beforeRotationX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const beforeRotationY = game.getCurrentPuyo()!.y</span>
<span class="gi">+</span>
<span class="gi">+      // å›è»¢ã‚’è©¦ã¿ã‚‹</span>
<span class="gi">+      game.handleInput(&#39;ArrowUp&#39;)</span>
<span class="gi">+</span>
<span class="gi">+      // ä½ç½®ãŒå¤‰ã‚ã‚‰ãªã„ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(beforeRotationX)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(beforeRotationY)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å›è»¢å‡¦ç†ãŒæ­£ã—ãå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ç¾åœ¨ã¯rotatePuyoãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      expect(typeof (game as any).rotatePuyo).toBe(&#39;function&#39;)</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index affa2c0..7fa4afc 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -113,14 +113,17 @@ export class Game {</span>
<span class="w"> </span>      case &#39;ArrowDown&#39;:
<span class="w"> </span>        this.dropPuyo()
<span class="w"> </span>        break
<span class="gi">+      case &#39;ArrowUp&#39;:</span>
<span class="gi">+        this.rotatePuyo()</span>
<span class="gi">+        break</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="w"> </span>  handleKeyDown(key: string): void {
<span class="w"> </span>    if (!this.currentPuyo || this.gameOver) return
<span class="gd">-    </span>
<span class="gi">+</span>
<span class="w"> </span>    this.keysPressed.add(key)
<span class="gd">-    </span>
<span class="gi">+</span>
<span class="w"> </span>    // éé«˜é€Ÿè½ä¸‹ã‚­ãƒ¼ã¯å³åº§ã«å‡¦ç†
<span class="w"> </span>    switch (key) {
<span class="w"> </span>      case &#39;ArrowLeft&#39;:
<span class="gu">@@ -129,12 +132,15 @@ export class Game {</span>
<span class="w"> </span>      case &#39;ArrowRight&#39;:
<span class="w"> </span>        this.movePuyo(1, 0)
<span class="w"> </span>        break
<span class="gi">+      case &#39;ArrowUp&#39;:</span>
<span class="gi">+        this.rotatePuyo()</span>
<span class="gi">+        break</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="w"> </span>  handleKeyUp(key: string): void {
<span class="w"> </span>    this.keysPressed.delete(key)
<span class="gd">-    </span>
<span class="gi">+</span>
<span class="w"> </span>    // é«˜é€Ÿè½ä¸‹ã‚­ãƒ¼ãŒé›¢ã•ã‚ŒãŸå ´åˆã¯ã‚¿ã‚¤ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
<span class="w"> </span>    if (key === &#39;ArrowDown&#39;) {
<span class="w"> </span>      this.fastDropTimer = 0
<span class="gu">@@ -178,6 +184,13 @@ export class Game {</span>
<span class="w"> </span>    this.field[this.currentPuyo.y][this.currentPuyo.x] = this.currentPuyo.color
<span class="w"> </span>  }

<span class="gi">+  private rotatePuyo(): void {</span>
<span class="gi">+    if (!this.currentPuyo) return</span>
<span class="gi">+</span>
<span class="gi">+    // å˜ä½“ã·ã‚ˆã®å ´åˆã¯å›è»¢ã—ã¦ã‚‚ä½ç½®ã¯å¤‰ã‚ã‚‰ãªã„</span>
<span class="gi">+    // å°†æ¥çš„ã«ãƒšã‚¢ã·ã‚ˆå®Ÿè£…æ™‚ã«æ‹¡å¼µäºˆå®š</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  private generateNewPuyo(): void {
<span class="w"> </span>    this.currentPuyo = new Puyo(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ
<span class="w"> </span>  }
</code></pre></div>
<h2 id="dd8062b">ã‚³ãƒŸãƒƒãƒˆ: dd8062b<a class="headerlink" href="#dd8062b" title="Permanent link">&para;</a></h2>
<h3 id="_77">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_77" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3å®Œäº† - ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹ã®å®Ÿè£…
- ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã®é€£ç¶šé«˜é€Ÿè½ä¸‹æ©Ÿèƒ½ã‚’å®Ÿè£…
- ã‚­ãƒ¼çŠ¶æ…‹ç®¡ç†ï¼ˆSet&lt;string&gt;ï¼‰ã«ã‚ˆã‚‹æŠ¼ä¸‹çŠ¶æ…‹è¿½è·¡
- é«˜é€Ÿè½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ50msé–“éš”ï¼‰ã¨é€šå¸¸è½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ1000msé–“éš”ï¼‰ã®åˆ†é›¢
- æ—¢å­˜ã®è‡ªå‹•è½ä¸‹ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®Œå…¨ãªå…±å­˜
- keydown/keyupã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆã¨repeatã‚¤ãƒ™ãƒ³ãƒˆåˆ¶å¾¡
- 4ã¤ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«ã‚ˆã‚‹å“è³ªä¿è¨¼
- å¢ƒç•Œåˆ¤å®šã¨ç€åœ°åˆ¤å®šã®é«˜é€Ÿè½ä¸‹å¯¾å¿œ
- ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†

ã™ã¹ã¦ã®å—ã‘å…¥ã‚ŒåŸºæº–ã‚’ã‚¯ãƒªã‚¢ã—ã€ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã«ã‚ˆã‚Šå®‰å…¨ã«å®Ÿè£…

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;
</code></pre></div>
<h3 id="_78">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_78" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_79">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_79" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit dd8062b5a1fb864a3dfb2e70916135e65951696e
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:39:12 2025 +0900

<span class="w"> </span>   feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3å®Œäº† - ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹ã®å®Ÿè£…

<span class="w"> </span>   - ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã®é€£ç¶šé«˜é€Ÿè½ä¸‹æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - ã‚­ãƒ¼çŠ¶æ…‹ç®¡ç†ï¼ˆSet&lt;string&gt;ï¼‰ã«ã‚ˆã‚‹æŠ¼ä¸‹çŠ¶æ…‹è¿½è·¡
<span class="w"> </span>   - é«˜é€Ÿè½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ50msé–“éš”ï¼‰ã¨é€šå¸¸è½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ1000msé–“éš”ï¼‰ã®åˆ†é›¢
<span class="w"> </span>   - æ—¢å­˜ã®è‡ªå‹•è½ä¸‹ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å®Œå…¨ãªå…±å­˜
<span class="w"> </span>   - keydown/keyupã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆã¨repeatã‚¤ãƒ™ãƒ³ãƒˆåˆ¶å¾¡
<span class="w"> </span>   - 4ã¤ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«ã‚ˆã‚‹å“è³ªä¿è¨¼
<span class="w"> </span>   - å¢ƒç•Œåˆ¤å®šã¨ç€åœ°åˆ¤å®šã®é«˜é€Ÿè½ä¸‹å¯¾å¿œ
<span class="w"> </span>   - ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†

<span class="w"> </span>   ã™ã¹ã¦ã®å—ã‘å…¥ã‚ŒåŸºæº–ã‚’ã‚¯ãƒªã‚¢ã—ã€ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã«ã‚ˆã‚Šå®‰å…¨ã«å®Ÿè£…

<span class="w"> </span>   ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

<span class="w"> </span>   Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;

<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 42890ef..960663d 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -179,25 +179,39 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] ä¸‹ã‚­ãƒ¼å…¥åŠ›ã®æ¤œå‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] é«˜é€Ÿè½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã¨ãã¯è½ä¸‹é€Ÿåº¦ã‚’ä¸Šã’ã‚‹ï¼‰</span>
<span class="gd">-- [ ] è½ä¸‹å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ç€åœ°åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒç€åœ°ã—ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ä¸‹ã‚­ãƒ¼å…¥åŠ›ã®æ¤œå‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] é«˜é€Ÿè½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã¨ãã¯è½ä¸‹é€Ÿåº¦ã‚’ä¸Šã’ã‚‹ï¼‰</span>
<span class="gi">+- [x] è½ä¸‹å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ç€åœ°åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒç€åœ°ã—ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹</span>
<span class="gd">-- [ ] ä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ãŒåœæ­¢ã™ã‚‹</span>
<span class="gd">-- [ ] é«˜é€Ÿè½ä¸‹ä¸­ã‚‚æ­£å¸¸ãªç€åœ°åˆ¤å®šãŒå‹•ä½œã™ã‚‹</span>
<span class="gd">-- [ ] æ—¢å­˜ã®è‡ªå‹•è½ä¸‹ã‚·ã‚¹ãƒ†ãƒ ã¨å…±å­˜ã—ã¦ã„ã‚‹</span>
<span class="gi">+- [x] ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹</span>
<span class="gi">+- [x] ä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ãŒåœæ­¢ã™ã‚‹</span>
<span class="gi">+- [x] é«˜é€Ÿè½ä¸‹ä¸­ã‚‚æ­£å¸¸ãªç€åœ°åˆ¤å®šãŒå‹•ä½œã™ã‚‹</span>
<span class="gi">+- [x] æ—¢å­˜ã®è‡ªå‹•è½ä¸‹ã‚·ã‚¹ãƒ†ãƒ ã¨å…±å­˜ã—ã¦ã„ã‚‹</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="w"> </span>**Keep**
<span class="gi">+- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§4ã¤ã®è©³ç´°ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä½œæˆã—ã€å…¨ã¦æˆåŠŸ</span>
<span class="gi">+- æ—¢å­˜ã®handleInputãƒ¡ã‚½ãƒƒãƒ‰ã¨ã®å…±å­˜ã‚’ä¿ã¡ãªãŒã‚‰æ–°æ©Ÿèƒ½ã‚’è¿½åŠ </span>
<span class="gi">+- ã‚­ãƒ¼çŠ¶æ…‹ç®¡ç†ï¼ˆSet&lt;string&gt;ï¼‰ã«ã‚ˆã‚‹ã‚¯ãƒªãƒ¼ãƒ³ãªå®Ÿè£…</span>
<span class="gi">+- é«˜é€Ÿè½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ50msï¼‰ã¨é€šå¸¸ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ1000msï¼‰ã®é©åˆ‡ãªåˆ†é›¢</span>
<span class="gi">+- ç€åœ°å‡¦ç†ã§ã®ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ãŒæ­£ã—ãå‹•ä½œ</span>
<span class="gi">+- keydown/keyupã‚¤ãƒ™ãƒ³ãƒˆã¨Repeatã‚­ãƒ¼åˆ¶å¾¡ã®é©åˆ‡ãªçµ±åˆ</span>

<span class="w"> </span>**Problem**
<span class="gi">+- å·¦å³ç§»å‹•ã®ã‚­ãƒ¼ãƒªãƒ”ãƒ¼ãƒˆå¯¾å¿œãŒä¸å®Œå…¨ï¼ˆç¾åœ¨ã¯repeatã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ–ãƒ­ãƒƒã‚¯ï¼‰</span>
<span class="gi">+- ã¾ã å˜ä½“ã·ã‚ˆã®ã¾ã¾ã§ã€ãƒšã‚¢ï¼ˆ2å€‹1çµ„ï¼‰ã«ãªã£ã¦ã„ãªã„</span>
<span class="gi">+- ã·ã‚ˆã®å›è»¢æ©Ÿèƒ½ãŒæœªå®Ÿè£…</span>
<span class="gi">+- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£é¢ã§é«˜é€Ÿè½ä¸‹é€Ÿåº¦ï¼ˆ50msï¼‰ãŒé©åˆ‡ã‹ã®æ¤œè¨¼ãŒå¿…è¦</span>

<span class="w"> </span>**Try**
<span class="gi">+- æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã·ã‚ˆã®å›è»¢æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</span>
<span class="gi">+- å·¦å³ç§»å‹•ã®ã‚­ãƒ¼ãƒªãƒ”ãƒ¼ãƒˆæ©Ÿèƒ½ã®æ”¹å–„ã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- é«˜é€Ÿè½ä¸‹é€Ÿåº¦ã®èª¿æ•´ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã™ã‚‹</span>
<span class="gi">+- ãƒšã‚¢ã·ã‚ˆå®Ÿè£…ã¸ã®æº–å‚™ã¨ã—ã¦Puyoã‚¯ãƒ©ã‚¹ã®æ‹¡å¼µã‚’æ¤œè¨ã™ã‚‹</span>

<span class="w"> </span>## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4: ã·ã‚ˆã®å›è»¢ã®å®Ÿè£… 
</code></pre></div>
<h2 id="84f28d8">ã‚³ãƒŸãƒƒãƒˆ: 84f28d8<a class="headerlink" href="#84f28d8" title="Permanent link">&para;</a></h2>
<h3 id="_80">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_80" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: TODO1-4å®Ÿè£… - ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹æ©Ÿèƒ½
- ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹çŠ¶æ…‹ã®æ¤œå‡ºã‚’å®Ÿè£…ï¼ˆSet&lt;string&gt;ã§keysPressedç®¡ç†ï¼‰
- handleKeyDown/handleKeyUpãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
- é«˜é€Ÿè½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ50msé–“éš”ï¼‰ã‚’å®Ÿè£…
- ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã®é€£ç¶šé«˜é€Ÿè½ä¸‹ã‚’å®Ÿè£…
- é€šå¸¸è½ä¸‹ï¼ˆ1000msï¼‰ã¨é«˜é€Ÿè½ä¸‹ã®åˆ‡ã‚Šæ›¿ãˆã‚’å®Ÿè£…
- ã‚­ãƒ¼ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…
- main.tsã§keydown/keyupã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆ
- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;
</code></pre></div>
<h3 id="_81">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_81" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
<li>M app/src/main.ts</li>
</ul>
<h3 id="_82">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_82" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 84f28d8cae2debed751dd3ebeaa5a594f1ce6a1e
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:38:22 2025 +0900

<span class="w"> </span>   feat: TODO1-4å®Ÿè£… - ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹æ©Ÿèƒ½

<span class="w"> </span>   - ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹çŠ¶æ…‹ã®æ¤œå‡ºã‚’å®Ÿè£…ï¼ˆSet&lt;string&gt;ã§keysPressedç®¡ç†ï¼‰
<span class="w"> </span>   - handleKeyDown/handleKeyUpãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
<span class="w"> </span>   - é«˜é€Ÿè½ä¸‹ã‚¿ã‚¤ãƒãƒ¼ï¼ˆ50msé–“éš”ï¼‰ã‚’å®Ÿè£…
<span class="w"> </span>   - ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã®é€£ç¶šé«˜é€Ÿè½ä¸‹ã‚’å®Ÿè£…
<span class="w"> </span>   - é€šå¸¸è½ä¸‹ï¼ˆ1000msï¼‰ã¨é«˜é€Ÿè½ä¸‹ã®åˆ‡ã‚Šæ›¿ãˆã‚’å®Ÿè£…
<span class="w"> </span>   - ã‚­ãƒ¼ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - main.tsã§keydown/keyupã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆ
<span class="w"> </span>   - ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§4ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢

<span class="w"> </span>   ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

<span class="w"> </span>   Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 608a8c1..d36825b 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -44,6 +44,81 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>    })
<span class="w"> </span>  })

<span class="gi">+  describe(&#39;ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹&#39;, () =&gt; {</span>
<span class="gi">+    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ç¶šã‘ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      </span>
<span class="gi">+      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ä¸‹é–‹å§‹</span>
<span class="gi">+      game.handleKeyDown(&#39;ArrowDown&#39;)</span>
<span class="gi">+      </span>
<span class="gi">+      // çŸ­æ™‚é–“ã§è¤‡æ•°å›è½ä¸‹ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</span>
<span class="gi">+      game.update(50) // 50mså¾Œ</span>
<span class="gi">+      const firstDropY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      expect(firstDropY).toBeGreaterThan(initialY)</span>
<span class="gi">+      </span>
<span class="gi">+      game.update(50) // ã•ã‚‰ã«50mså¾Œ</span>
<span class="gi">+      const secondDropY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      expect(secondDropY).toBeGreaterThan(firstDropY)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’é›¢ã™ã¨é€šå¸¸ã®è½ä¸‹é€Ÿåº¦ã«æˆ»ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      </span>
<span class="gi">+      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ä¸‹é–‹å§‹</span>
<span class="gi">+      game.handleKeyDown(&#39;ArrowDown&#39;)</span>
<span class="gi">+      game.update(50)</span>
<span class="gi">+      const fastDropY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      </span>
<span class="gi">+      // ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’é›¢ã™</span>
<span class="gi">+      game.handleKeyUp(&#39;ArrowDown&#39;)</span>
<span class="gi">+      </span>
<span class="gi">+      // é€šå¸¸ã®è½ä¸‹é–“éš”ï¼ˆ1000msï¼‰ã§ã¯è½ä¸‹ã—ãªã„</span>
<span class="gi">+      game.update(100)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(fastDropY)</span>
<span class="gi">+      </span>
<span class="gi">+      // 1000msçµŒéã§é€šå¸¸è½ä¸‹</span>
<span class="gi">+      game.update(1000)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(fastDropY + 1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é«˜é€Ÿè½ä¸‹ä¸­ã«ç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•è¿‘ãã¾ã§ç§»å‹•</span>
<span class="gi">+      for (let i = 0; i &lt; 10; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+      </span>
<span class="gi">+      const puyoBeforeLanding = game.getCurrentPuyo()!</span>
<span class="gi">+      </span>
<span class="gi">+      // é«˜é€Ÿè½ä¸‹ã§ç€åœ°ã•ã›ã‚‹</span>
<span class="gi">+      game.handleKeyDown(&#39;ArrowDown&#39;)</span>
<span class="gi">+      game.update(100) // ç€åœ°ã™ã‚‹ã¾ã§</span>
<span class="gi">+      </span>
<span class="gi">+      // updateã§ç€åœ°å‡¦ç†</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(true)</span>
<span class="gi">+      </span>
<span class="gi">+      // æ¬¡ã®updateã§æ–°ã—ã„ã·ã‚ˆç”Ÿæˆ</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      const newPuyo = game.getCurrentPuyo()!</span>
<span class="gi">+      expect(newPuyo.x).toBe(2)</span>
<span class="gi">+      expect(newPuyo.y).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;é«˜é€Ÿè½ä¸‹ä¸­ã‚‚å¢ƒç•Œåˆ¤å®šãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•ã¾ã§è½ä¸‹ã•ã›ã‚‹</span>
<span class="gi">+      for (let i = 0; i &lt; 11; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+      </span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+      </span>
<span class="gi">+      // é«˜é€Ÿè½ä¸‹ã‚’è©¦ã¿ã¦ã‚‚åº•ã‚ˆã‚Šä¸‹ã«ã¯è¡Œã‹ãªã„</span>
<span class="gi">+      game.handleKeyDown(&#39;ArrowDown&#39;)</span>
<span class="gi">+      game.update(50)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+    })</span>
<span class="gi">+  })</span>
<span class="gi">+</span>
<span class="w"> </span>  describe(&#39;ã·ã‚ˆã®ç§»å‹•&#39;, () =&gt; {
<span class="w"> </span>    it(&#39;ã·ã‚ˆãŒè‡ªå‹•çš„ã«è½ä¸‹ã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="w"> </span>      const initialY = game.getCurrentPuyo()!.y
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 20e5250..affa2c0 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -5,6 +5,9 @@ export class Game {</span>
<span class="w"> </span>  private dropTimer = 0
<span class="w"> </span>  private dropInterval = 1000 // 1ç§’ã”ã¨ã«è½ä¸‹
<span class="w"> </span>  private puyoLanded = false
<span class="gi">+  private keysPressed: Set&lt;string&gt; = new Set() // æŠ¼ã•ã‚Œã¦ã„ã‚‹ã‚­ãƒ¼</span>
<span class="gi">+  private fastDropTimer = 0</span>
<span class="gi">+  private fastDropInterval = 50 // é«˜é€Ÿè½ä¸‹ã¯50msã”ã¨</span>

<span class="w"> </span>  constructor() {
<span class="w"> </span>    // 6åˆ—x12è¡Œã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–
<span class="gu">@@ -52,6 +55,7 @@ export class Game {</span>
<span class="w"> </span>    this.generateNewPuyo()
<span class="w"> </span>    this.puyoLanded = false
<span class="w"> </span>    this.dropTimer = 0
<span class="gi">+    this.fastDropTimer = 0</span>
<span class="w"> </span>  }

<span class="w"> </span>  private immediateDropUpdate(): void {
<span class="gu">@@ -68,6 +72,22 @@ export class Game {</span>
<span class="w"> </span>  private timedDropUpdate(deltaTime: number): void {
<span class="w"> </span>    if (!this.currentPuyo) return

<span class="gi">+    // é«˜é€Ÿè½ä¸‹å‡¦ç†</span>
<span class="gi">+    if (this.keysPressed.has(&#39;ArrowDown&#39;)) {</span>
<span class="gi">+      this.fastDropTimer += deltaTime</span>
<span class="gi">+      if (this.fastDropTimer &gt;= this.fastDropInterval) {</span>
<span class="gi">+        // ç€åœ°åˆ¤å®š</span>
<span class="gi">+        if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+          this.puyoLanded = true</span>
<span class="gi">+          return</span>
<span class="gi">+        }</span>
<span class="gi">+        this.dropPuyo()</span>
<span class="gi">+        this.fastDropTimer = 0</span>
<span class="gi">+      }</span>
<span class="gi">+      return</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    // é€šå¸¸ã®è½ä¸‹å‡¦ç†</span>
<span class="w"> </span>    this.dropTimer += deltaTime
<span class="w"> </span>    if (this.dropTimer &gt;= this.dropInterval) {
<span class="w"> </span>      // ç€åœ°åˆ¤å®š
<span class="gu">@@ -96,6 +116,31 @@ export class Game {</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="gi">+  handleKeyDown(key: string): void {</span>
<span class="gi">+    if (!this.currentPuyo || this.gameOver) return</span>
<span class="gi">+    </span>
<span class="gi">+    this.keysPressed.add(key)</span>
<span class="gi">+    </span>
<span class="gi">+    // éé«˜é€Ÿè½ä¸‹ã‚­ãƒ¼ã¯å³åº§ã«å‡¦ç†</span>
<span class="gi">+    switch (key) {</span>
<span class="gi">+      case &#39;ArrowLeft&#39;:</span>
<span class="gi">+        this.movePuyo(-1, 0)</span>
<span class="gi">+        break</span>
<span class="gi">+      case &#39;ArrowRight&#39;:</span>
<span class="gi">+        this.movePuyo(1, 0)</span>
<span class="gi">+        break</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  handleKeyUp(key: string): void {</span>
<span class="gi">+    this.keysPressed.delete(key)</span>
<span class="gi">+    </span>
<span class="gi">+    // é«˜é€Ÿè½ä¸‹ã‚­ãƒ¼ãŒé›¢ã•ã‚ŒãŸå ´åˆã¯ã‚¿ã‚¤ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ</span>
<span class="gi">+    if (key === &#39;ArrowDown&#39;) {</span>
<span class="gi">+      this.fastDropTimer = 0</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  private movePuyo(dx: number, dy: number): void {
<span class="w"> </span>    if (!this.currentPuyo) return

<span class="gh">diff --git a/app/src/main.ts b/app/src/main.ts</span>
<span class="gh">index 9b084a4..734604f 100644</span>
<span class="gd">--- a/app/src/main.ts</span>
<span class="gi">+++ b/app/src/main.ts</span>
<span class="gu">@@ -106,7 +106,20 @@ requestAnimationFrame(gameLoop)</span>

<span class="w"> </span>// ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã®å‡¦ç†
<span class="w"> </span>document.addEventListener(&#39;keydown&#39;, (event) =&gt; {
<span class="gd">-  game.handleInput(event.key)</span>
<span class="gi">+  // æ—¢å­˜ã®handleInputã¯ä¸€å›æŠ¼ã—ç”¨ï¼ˆå·¦å³ç§»å‹•ã€ä¸€å›è½ä¸‹ï¼‰</span>
<span class="gi">+  if (event.key === &#39;ArrowLeft&#39; || event.key === &#39;ArrowRight&#39;) {</span>
<span class="gi">+    // å·¦å³ç§»å‹•ã¯ä¸€å›æŠ¼ã—ã§å‡¦ç†</span>
<span class="gi">+    if (!event.repeat) {</span>
<span class="gi">+      game.handleInput(event.key)</span>
<span class="gi">+    }</span>
<span class="gi">+  } else {</span>
<span class="gi">+    // ãã®ä»–ã®ã‚­ãƒ¼ã¯æŠ¼ä¸‹çŠ¶æ…‹ã‚’ç®¡ç†</span>
<span class="gi">+    game.handleKeyDown(event.key)</span>
<span class="gi">+  }</span>
<span class="gi">+})</span>
<span class="gi">+</span>
<span class="gi">+document.addEventListener(&#39;keyup&#39;, (event) =&gt; {</span>
<span class="gi">+  game.handleKeyUp(event.key)</span>
<span class="w"> </span>})

<span class="w"> </span>// ãƒªã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®å‡¦ç†
</code></pre></div>
<h2 id="11848cf">ã‚³ãƒŸãƒƒãƒˆ: 11848cf<a class="headerlink" href="#11848cf" title="Permanent link">&para;</a></h2>
<h3 id="_83">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_83" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>docs: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3ã®è¦ä»¶ã‚’æ›´æ–° - ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹ã¨å›è»¢ã®å®Ÿè£…ã‚’è¿½åŠ 
</code></pre></div>
<h3 id="_84">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_84" title="Permanent link">&para;</a></h3>
<ul>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_85">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_85" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 11848cf8d650539808f89f9f3480fdeb2d380a31
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:27:31 2025 +0900

<span class="w"> </span>   docs: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3ã®è¦ä»¶ã‚’æ›´æ–° - ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹ã¨å›è»¢ã®å®Ÿè£…ã‚’è¿½åŠ 

<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 3d1116a..42890ef 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -175,21 +175,21 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>
<span class="w"> </span>- ã·ã‚ˆã®æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã¨ãªã‚‹éš£æ¥ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ã®å®Ÿè£…ã‚’æ¤œè¨ã™ã‚‹
<span class="w"> </span>- UI/UXã®æ”¹å–„ï¼ˆã‚¹ã‚³ã‚¢è¡¨ç¤ºã€æ¬¡ã®ã·ã‚ˆäºˆå‘Šãªã©ï¼‰ã‚’æ¤œè¨ã™ã‚‹

<span class="gd">-## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3: ã·ã‚ˆã®å›è»¢ã®å®Ÿè£… </span>
<span class="gi">+## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3: ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹ã®å®Ÿè£…</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] ã·ã‚ˆã®å›è»¢å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ™‚è¨ˆå›ã‚Šãƒ»åæ™‚è¨ˆå›ã‚Šã®å›è»¢ï¼‰</span>
<span class="gd">-- [ ] å›è»¢å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä»–ã®ã·ã‚ˆã‚„å£ã«ã¶ã¤ã‹ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«ã™ã‚‹ç‰¹æ®Šå‡¦ç†ï¼‰</span>
<span class="gd">-- [ ] å›è»¢å¾Œã®è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹ï¼ˆç”»é¢ä¸Šã§ã·ã‚ˆã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [ ] ä¸‹ã‚­ãƒ¼å…¥åŠ›ã®æ¤œå‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gi">+- [ ] é«˜é€Ÿè½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã¨ãã¯è½ä¸‹é€Ÿåº¦ã‚’ä¸Šã’ã‚‹ï¼‰</span>
<span class="gi">+- [ ] è½ä¸‹å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gi">+- [ ] ç€åœ°åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒç€åœ°ã—ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹</span>
<span class="gd">-- [ ] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã‚„ä»–ã®ã·ã‚ˆã¨ã®è¡çªæ™‚ã¯å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹</span>
<span class="gd">-- [ ] å£éš›ã§ã®å›è»¢æ™‚ã«å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒå‹•ä½œã™ã‚‹</span>
<span class="gd">-- [ ] å›è»¢å¾Œã®è¡¨ç¤ºãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹</span>
<span class="gi">+- [ ] ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹</span>
<span class="gi">+- [ ] ä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ãŒåœæ­¢ã™ã‚‹</span>
<span class="gi">+- [ ] é«˜é€Ÿè½ä¸‹ä¸­ã‚‚æ­£å¸¸ãªç€åœ°åˆ¤å®šãŒå‹•ä½œã™ã‚‹</span>
<span class="gi">+- [ ] æ—¢å­˜ã®è‡ªå‹•è½ä¸‹ã‚·ã‚¹ãƒ†ãƒ ã¨å…±å­˜ã—ã¦ã„ã‚‹</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="gu">@@ -199,21 +199,21 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>**Try**

<span class="gd">-## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4: ã·ã‚ˆã®é«˜é€Ÿè½ä¸‹ã®å®Ÿè£… </span>
<span class="gi">+## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³4: ã·ã‚ˆã®å›è»¢ã®å®Ÿè£… </span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] ä¸‹ã‚­ãƒ¼å…¥åŠ›ã®æ¤œå‡ºã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] é«˜é€Ÿè½ä¸‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã¨ãã¯è½ä¸‹é€Ÿåº¦ã‚’ä¸Šã’ã‚‹ï¼‰</span>
<span class="gd">-- [ ] è½ä¸‹å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ç€åœ°åˆ¤å®šã‚’å®Ÿè£…ã™ã‚‹ï¼ˆã·ã‚ˆãŒç€åœ°ã—ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gi">+- [ ] ã·ã‚ˆã®å›è»¢å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆæ™‚è¨ˆå›ã‚Šãƒ»åæ™‚è¨ˆå›ã‚Šã®å›è»¢ï¼‰</span>
<span class="gi">+- [ ] å›è»¢å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆä»–ã®ã·ã‚ˆã‚„å£ã«ã¶ã¤ã‹ã‚‹å ´åˆã¯å›è»¢ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gi">+- [ ] å£ã‚­ãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå£éš›ã§ã®å›è»¢ã‚’å¯èƒ½ã«ã™ã‚‹ç‰¹æ®Šå‡¦ç†ï¼‰</span>
<span class="gi">+- [ ] å›è»¢å¾Œã®è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹ï¼ˆç”»é¢ä¸Šã§ã·ã‚ˆã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] ä¸‹çŸ¢å°ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã€ã·ã‚ˆãŒé«˜é€Ÿã§è½ä¸‹ã™ã‚‹</span>
<span class="gd">-- [ ] ä¸‹ã«éšœå®³ç‰©ãŒã‚ã‚‹å ´åˆã¯è½ä¸‹ãŒåœæ­¢ã™ã‚‹</span>
<span class="gd">-- [ ] é«˜é€Ÿè½ä¸‹ä¸­ã‚‚æ­£å¸¸ãªç€åœ°åˆ¤å®šãŒå‹•ä½œã™ã‚‹</span>
<span class="gd">-- [ ] æ—¢å­˜ã®è‡ªå‹•è½ä¸‹ã‚·ã‚¹ãƒ†ãƒ ã¨å…±å­˜ã—ã¦ã„ã‚‹</span>
<span class="gi">+- [ ] ä¸ŠçŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’æ™‚è¨ˆå›ã‚Šã«å›è»¢ã§ãã‚‹</span>
<span class="gi">+- [ ] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã‚„ä»–ã®ã·ã‚ˆã¨ã®è¡çªæ™‚ã¯å›è»¢ãŒç„¡åŠ¹ã«ãªã‚‹</span>
<span class="gi">+- [ ] å£éš›ã§ã®å›è»¢æ™‚ã«å£ã‚­ãƒƒã‚¯å‡¦ç†ãŒå‹•ä½œã™ã‚‹</span>
<span class="gi">+- [ ] å›è»¢å¾Œã®è¡¨ç¤ºãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š
</code></pre></div>
<h2 id="6fb07eb">ã‚³ãƒŸãƒƒãƒˆ: 6fb07eb<a class="headerlink" href="#6fb07eb" title="Permanent link">&para;</a></h2>
<h3 id="_86">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_86" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³2å®Œäº† - ã·ã‚ˆã®ç§»å‹•ã®å®Ÿè£…
- ã·ã‚ˆã®è‡ªç”±è½ä¸‹æ©Ÿèƒ½ã‚’å®Ÿè£…
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ï¼ˆå·¦å³ç§»å‹•ã€é«˜é€Ÿè½ä¸‹ï¼‰ã‚’å®Ÿè£…
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¢ƒç•Œã®è¡çªåˆ¤å®šã‚’å®Ÿè£…
- ç€åœ°åˆ¤å®šã¨æ¬¡ã®ã·ã‚ˆç”Ÿæˆã‚’å®Ÿè£…
- ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¨deltaTimeã«ã‚ˆã‚‹æ™‚é–“ç®¡ç†ã‚’å®Ÿè£…
- å¾ªç’°çš„è¤‡é›‘åº¦ã‚’è€ƒæ…®ã—ãŸã‚³ãƒ¼ãƒ‰ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å®Ÿæ–½
- ãƒ©ãƒ³ãƒ€ãƒ ãªã·ã‚ˆè‰²ç”Ÿæˆï¼ˆ1-4ï¼‰ã‚’å®Ÿè£…
- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§å…¨æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¼

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;
</code></pre></div>
<h3 id="_87">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_87" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
<li>M app/src/main.ts</li>
<li>M "docs/requirements/\350\246\201\344\273\266.md"</li>
</ul>
<h3 id="_88">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_88" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 6fb07eb4f4f3421cd5b2a84d229ac2c357c1d7e2
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:25:29 2025 +0900

<span class="w"> </span>   feat: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³2å®Œäº† - ã·ã‚ˆã®ç§»å‹•ã®å®Ÿè£…

<span class="w"> </span>   - ã·ã‚ˆã®è‡ªç”±è½ä¸‹æ©Ÿèƒ½ã‚’å®Ÿè£…
<span class="w"> </span>   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ï¼ˆå·¦å³ç§»å‹•ã€é«˜é€Ÿè½ä¸‹ï¼‰ã‚’å®Ÿè£…
<span class="w"> </span>   - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¢ƒç•Œã®è¡çªåˆ¤å®šã‚’å®Ÿè£…
<span class="w"> </span>   - ç€åœ°åˆ¤å®šã¨æ¬¡ã®ã·ã‚ˆç”Ÿæˆã‚’å®Ÿè£…
<span class="w"> </span>   - ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¨deltaTimeã«ã‚ˆã‚‹æ™‚é–“ç®¡ç†ã‚’å®Ÿè£…
<span class="w"> </span>   - å¾ªç’°çš„è¤‡é›‘åº¦ã‚’è€ƒæ…®ã—ãŸã‚³ãƒ¼ãƒ‰ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å®Ÿæ–½
<span class="w"> </span>   - ãƒ©ãƒ³ãƒ€ãƒ ãªã·ã‚ˆè‰²ç”Ÿæˆï¼ˆ1-4ï¼‰ã‚’å®Ÿè£…
<span class="w"> </span>   - ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§å…¨æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¼

<span class="w"> </span>   ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

<span class="w"> </span>   Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 001c31e..608a8c1 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -32,7 +32,8 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      expect(puyo).not.toBeNull()
<span class="w"> </span>      expect(puyo!.x).toBe(2) // ä¸­å¤®ã«ç”Ÿæˆ
<span class="w"> </span>      expect(puyo!.y).toBe(0) // ä¸Šéƒ¨ã«ç”Ÿæˆ
<span class="gd">-      expect(puyo!.color).toBe(1) // è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+      expect(puyo!.color).toBeGreaterThanOrEqual(1) // è‰²ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹</span>
<span class="gi">+      expect(puyo!.color).toBeLessThanOrEqual(4) // 1-4ã®ç¯„å›²</span>
<span class="w"> </span>    })

<span class="w"> </span>    it(&#39;ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨&#39;, () =&gt; {
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index c36762b..20e5250 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -142,6 +142,6 @@ export class Puyo {</span>
<span class="w"> </span>  constructor(
<span class="w"> </span>    public x: number,
<span class="w"> </span>    public y: number,
<span class="gd">-    public color: number = 1</span>
<span class="gi">+    public color: number = Math.floor(Math.random() * 4) + 1 // 1-4ã®ãƒ©ãƒ³ãƒ€ãƒ ãªè‰²</span>
<span class="w"> </span>  ) {}
<span class="w"> </span>}
<span class="gh">diff --git a/app/src/main.ts b/app/src/main.ts</span>
<span class="gh">index bcc9acf..9b084a4 100644</span>
<span class="gd">--- a/app/src/main.ts</span>
<span class="gi">+++ b/app/src/main.ts</span>
<span class="gu">@@ -83,13 +83,31 @@ function draw() {</span>
<span class="w"> </span>  drawCurrentPuyo()
<span class="w"> </span>}

<span class="gd">-// ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’é–‹å§‹</span>
<span class="gd">-function gameLoop() {</span>
<span class="gi">+// ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ç”¨ã®å¤‰æ•°</span>
<span class="gi">+let lastTime = 0</span>
<span class="gi">+</span>
<span class="gi">+// ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—</span>
<span class="gi">+function gameLoop(currentTime: number) {</span>
<span class="gi">+  // ãƒ‡ãƒ«ã‚¿ã‚¿ã‚¤ãƒ ã‚’è¨ˆç®—</span>
<span class="gi">+  const deltaTime = currentTime - lastTime</span>
<span class="gi">+  lastTime = currentTime</span>
<span class="gi">+</span>
<span class="gi">+  // ã‚²ãƒ¼ãƒ ã®æ›´æ–°</span>
<span class="gi">+  game.update(deltaTime)</span>
<span class="gi">+</span>
<span class="gi">+  // æç”»</span>
<span class="w"> </span>  draw()
<span class="gi">+</span>
<span class="w"> </span>  requestAnimationFrame(gameLoop)
<span class="w"> </span>}

<span class="gd">-gameLoop()</span>
<span class="gi">+// ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’é–‹å§‹</span>
<span class="gi">+requestAnimationFrame(gameLoop)</span>
<span class="gi">+</span>
<span class="gi">+// ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã®å‡¦ç†</span>
<span class="gi">+document.addEventListener(&#39;keydown&#39;, (event) =&gt; {</span>
<span class="gi">+  game.handleInput(event.key)</span>
<span class="gi">+})</span>

<span class="w"> </span>// ãƒªã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®å‡¦ç†
<span class="w"> </span>document.querySelector&lt;HTMLButtonElement&gt;(&#39;#restart-btn&#39;)!.addEventListener(&#39;click&#39;, () =&gt; {
<span class="gh">diff --git &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot; &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gh">index 4fa5d1e..3d1116a 100644</span>
<span class="gd">--- &quot;a/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gi">+++ &quot;b/docs/requirements/\350\246\201\344\273\266.md&quot;</span>
<span class="gu">@@ -136,29 +136,44 @@ GameOverCheck ..&gt; GameOverAnimation : &lt;&lt;include&gt;&gt;</span>

<span class="w"> </span>### TODO

<span class="gd">-- [ ] ã·ã‚ˆã‚’è‡ªç”±è½ä¸‹ã•ã›ã‚‹ï¼ˆã·ã‚ˆãŒè‡ªå‹•çš„ã«ä¸‹ã«è½ã¡ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¥åŠ›ã‚’æ¤œå‡ºã™ã‚‹ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®å·¦å³ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã·ã‚ˆã‚’å·¦å³ã«ç§»å‹•ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå®Ÿéš›ã«ã·ã‚ˆã®ä½ç½®ã‚’å¤‰æ›´ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ç§»å‹•å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆç”»é¢ã®ç«¯ã‚„ä»–ã®ã·ã‚ˆã«ã¶ã¤ã‹ã‚‹å ´åˆã¯ç§»å‹•ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ç§»å‹•å¾Œã®è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹ï¼ˆç”»é¢ä¸Šã§ã·ã‚ˆã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã·ã‚ˆã®ç€åœ°ã‚’æ¤œå‡ºã™ã‚‹ï¼ˆã·ã‚ˆãŒä¸‹ã«è½ã¡ã¦ä»–ã®ã·ã‚ˆã‚„åºŠã«ã¶ã¤ã‹ã£ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gd">-- [ ] ã·ã‚ˆãŒç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆã‚’ç”Ÿæˆã™ã‚‹ï¼ˆæ–°ã—ã„ã·ã‚ˆã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆã‚’è‡ªç”±è½ä¸‹ã•ã›ã‚‹ï¼ˆã·ã‚ˆãŒè‡ªå‹•çš„ã«ä¸‹ã«è½ã¡ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¥åŠ›ã‚’æ¤œå‡ºã™ã‚‹ï¼ˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®å·¦å³ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆã‚’å·¦å³ã«ç§»å‹•ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆå®Ÿéš›ã«ã·ã‚ˆã®ä½ç½®ã‚’å¤‰æ›´ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ç§»å‹•å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ï¼ˆç”»é¢ã®ç«¯ã‚„ä»–ã®ã·ã‚ˆã«ã¶ã¤ã‹ã‚‹å ´åˆã¯ç§»å‹•ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ç§»å‹•å¾Œã®è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹ï¼ˆç”»é¢ä¸Šã§ã·ã‚ˆã®ä½ç½®ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’è¡¨ç¤ºã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆã®ç€åœ°ã‚’æ¤œå‡ºã™ã‚‹ï¼ˆã·ã‚ˆãŒä¸‹ã«è½ã¡ã¦ä»–ã®ã·ã‚ˆã‚„åºŠã«ã¶ã¤ã‹ã£ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ï¼‰</span>
<span class="gi">+- [x] ã·ã‚ˆãŒç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆã‚’ç”Ÿæˆã™ã‚‹ï¼ˆæ–°ã—ã„ã·ã‚ˆã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹ï¼‰</span>

<span class="w"> </span>### å—ã‘å…¥ã‚ŒåŸºæº–

<span class="gd">-- [ ] ã·ã‚ˆãŒè‡ªå‹•çš„ã«è½ä¸‹ã™ã‚‹ã“ã¨</span>
<span class="gd">-- [ ] å·¦å³çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’ç§»å‹•ã§ãã‚‹ã“ã¨</span>
<span class="gd">-- [ ] ä¸‹çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’é«˜é€Ÿè½ä¸‹ã§ãã‚‹ã“ã¨</span>
<span class="gd">-- [ ] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã§ç§»å‹•ãŒåˆ¶é™ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gd">-- [ ] ã·ã‚ˆãŒç€åœ°ã—ã¦æ–°ã—ã„ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] ã·ã‚ˆãŒè‡ªå‹•çš„ã«è½ä¸‹ã™ã‚‹ã“ã¨</span>
<span class="gi">+- [x] å·¦å³çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’ç§»å‹•ã§ãã‚‹ã“ã¨</span>
<span class="gi">+- [x] ä¸‹çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’é«˜é€Ÿè½ä¸‹ã§ãã‚‹ã“ã¨</span>
<span class="gi">+- [x] ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œã§ç§»å‹•ãŒåˆ¶é™ã•ã‚Œã‚‹ã“ã¨</span>
<span class="gi">+- [x] ã·ã‚ˆãŒç€åœ°ã—ã¦æ–°ã—ã„ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨</span>

<span class="w"> </span>### ãµã‚Šã‹ãˆã‚Š

<span class="w"> </span>**Keep**
<span class="gi">+- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å®‰å…¨ã«å®Ÿè£…ã‚’é€²ã‚ã‚‰ã‚ŒãŸ</span>
<span class="gi">+- ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¨deltaTimeã‚’ä½¿ã£ãŸæ™‚é–“ç®¡ç†ãŒé©åˆ‡ã«å®Ÿè£…ã•ã‚ŒãŸ</span>
<span class="gi">+- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã®å‡¦ç†ãŒç›´æ„Ÿçš„ã§ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã«å‹•ä½œã™ã‚‹</span>
<span class="gi">+- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¢ƒç•Œã®è¡çªåˆ¤å®šãŒæ­£ç¢ºã«å‹•ä½œã—ã¦ã„ã‚‹</span>
<span class="gi">+- ç€åœ°åˆ¤å®šã¨æ¬¡ã®ã·ã‚ˆç”Ÿæˆã®ãƒ•ãƒ­ãƒ¼ãŒè‡ªç„¶ã§æ»‘ã‚‰ã‹</span>
<span class="gi">+- å¾ªç’°çš„è¤‡é›‘åº¦ã‚’æ„è­˜ã—ãŸãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã§ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ãŒå‘ä¸Š</span>
<span class="gi">+- ãƒ©ãƒ³ãƒ€ãƒ ãªè‰²ç”Ÿæˆï¼ˆ1-4ï¼‰ã«ã‚ˆã‚Šè¦–è¦šçš„ãªãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚ŒãŸ</span>

<span class="w"> </span>**Problem**
<span class="gi">+- ã¾ã ã·ã‚ˆã¯å˜ä½“ã®ã¿ã§ã€å®Ÿéš›ã®ã·ã‚ˆã·ã‚ˆã®ã‚ˆã†ãªãƒšã‚¢ï¼ˆ2å€‹1çµ„ï¼‰ã«ãªã£ã¦ã„ãªã„</span>
<span class="gi">+- ã·ã‚ˆã®å›è»¢æ©Ÿèƒ½ãŒã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ãªã„</span>
<span class="gi">+- ã·ã‚ˆã®æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ4ã¤ä»¥ä¸Šã¤ãªãŒã£ãŸæ™‚ã®æ¶ˆå»ï¼‰ãŒã¾ã ãªã„</span>
<span class="gi">+- ã‚¹ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã‚„é€£é–ã‚·ã‚¹ãƒ†ãƒ ãŒã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ãªã„</span>

<span class="w"> </span>**Try**
<span class="gi">+- æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã·ã‚ˆã®å›è»¢æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹</span>
<span class="gi">+- ãƒšã‚¢ã·ã‚ˆï¼ˆ2å€‹1çµ„ï¼‰ã®å®Ÿè£…ã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- ã·ã‚ˆã®æ¶ˆå»ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã¨ãªã‚‹éš£æ¥ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½ã®å®Ÿè£…ã‚’æ¤œè¨ã™ã‚‹</span>
<span class="gi">+- UI/UXã®æ”¹å–„ï¼ˆã‚¹ã‚³ã‚¢è¡¨ç¤ºã€æ¬¡ã®ã·ã‚ˆäºˆå‘Šãªã©ï¼‰ã‚’æ¤œè¨ã™ã‚‹</span>

<span class="w"> </span>## ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³3: ã·ã‚ˆã®å›è»¢ã®å®Ÿè£… 
</code></pre></div>
<h2 id="3ce85af">ã‚³ãƒŸãƒƒãƒˆ: 3ce85af<a class="headerlink" href="#3ce85af" title="Permanent link">&para;</a></h2>
<h3 id="_89">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_89" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã·ã‚ˆãŒç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆã‚’ç”Ÿæˆã™ã‚‹ - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®å›ºå®šã¨æ–°è¦ç”Ÿæˆã‚’å®Ÿè£…
</code></pre></div>
<h3 id="_90">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_90" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_91">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_91" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 3ce85af7ca16ca1f08849544155e70f07328536b
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:18:42 2025 +0900

<span class="w"> </span>   feat: ã·ã‚ˆãŒç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆã‚’ç”Ÿæˆã™ã‚‹ - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®å›ºå®šã¨æ–°è¦ç”Ÿæˆã‚’å®Ÿè£…

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index acf846a..001c31e 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -156,5 +156,49 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.update()
<span class="w"> </span>      expect(game.isPuyoLanded()).toBe(true)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;ã·ã‚ˆãŒç€åœ°ã—ãŸã‚‰æ¬¡ã®ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const firstPuyo = game.getCurrentPuyo()</span>
<span class="gi">+      expect(firstPuyo).not.toBeNull()</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•ã¾ã§è½ä¸‹ã•ã›ã‚‹</span>
<span class="gi">+      for (let i = 0; i &lt; 11; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°åˆ¤å®šã¨æ¬¡ã®ã·ã‚ˆç”Ÿæˆ</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(true)</span>
<span class="gi">+</span>
<span class="gi">+      // æ¬¡ã®updateã§æ–°ã—ã„ã·ã‚ˆãŒç”Ÿæˆã•ã‚Œã‚‹</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      const newPuyo = game.getCurrentPuyo()</span>
<span class="gi">+      expect(newPuyo).not.toBeNull()</span>
<span class="gi">+      expect(newPuyo!.x).toBe(2) // æ–°ã—ã„ã·ã‚ˆã¯ä¸­å¤®ã«ç”Ÿæˆ</span>
<span class="gi">+      expect(newPuyo!.y).toBe(0) // æ–°ã—ã„ã·ã‚ˆã¯ä¸Šéƒ¨ã«ç”Ÿæˆ</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(false) // ç€åœ°ãƒ•ãƒ©ã‚°ã¯ãƒªã‚»ãƒƒãƒˆ</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ç€åœ°ã—ãŸã·ã‚ˆãŒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å›ºå®šã•ã‚Œã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•ã¾ã§è½ä¸‹ã•ã›ã‚‹</span>
<span class="gi">+      for (let i = 0; i &lt; 11; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      const puyoX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      const puyoY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      const puyoColor = game.getCurrentPuyo()!.color</span>
<span class="gi">+</span>
<span class="gi">+      // ç€åœ°åˆ¤å®š</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(true)</span>
<span class="gi">+</span>
<span class="gi">+      // æ¬¡ã®updateã§å›ºå®šã¨æ–°ã—ã„ã·ã‚ˆç”Ÿæˆ</span>
<span class="gi">+      game.update()</span>
<span class="gi">+</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å›ºå®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+      expect(field[puyoY][puyoX]).toBe(puyoColor)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index cd3b66f..c36762b 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -31,18 +31,43 @@ export class Game {</span>
<span class="w"> </span>  update(deltaTime?: number): void {
<span class="w"> </span>    if (!this.currentPuyo || this.gameOver) return

<span class="gd">-    // deltaTimeãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯å³åº§ã«è½ä¸‹ã¨ç€åœ°åˆ¤å®š</span>
<span class="gi">+    // ç€åœ°æ¸ˆã¿ã®ã·ã‚ˆã‚’å‡¦ç†</span>
<span class="gi">+    if (this.puyoLanded) {</span>
<span class="gi">+      this.handleLandedPuyo()</span>
<span class="gi">+      return</span>
<span class="gi">+    }</span>
<span class="gi">+</span>
<span class="gi">+    // å³åº§ã«è½ä¸‹ã™ã‚‹å ´åˆ</span>
<span class="w"> </span>    if (deltaTime === undefined) {
<span class="gd">-      // ç€åœ°åˆ¤å®š</span>
<span class="gd">-      if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gd">-        this.puyoLanded = true</span>
<span class="gd">-        return</span>
<span class="gd">-      }</span>
<span class="gd">-      this.dropPuyo()</span>
<span class="gi">+      this.immediateDropUpdate()</span>
<span class="w"> </span>      return
<span class="w"> </span>    }

<span class="w"> </span>    // æ™‚é–“çµŒéã«ã‚ˆã‚‹è½ä¸‹å‡¦ç†
<span class="gi">+    this.timedDropUpdate(deltaTime)</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private handleLandedPuyo(): void {</span>
<span class="gi">+    this.fixPuyo()</span>
<span class="gi">+    this.generateNewPuyo()</span>
<span class="gi">+    this.puyoLanded = false</span>
<span class="gi">+    this.dropTimer = 0</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private immediateDropUpdate(): void {</span>
<span class="gi">+    if (!this.currentPuyo) return</span>
<span class="gi">+</span>
<span class="gi">+    // ç€åœ°åˆ¤å®š</span>
<span class="gi">+    if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+      this.puyoLanded = true</span>
<span class="gi">+      return</span>
<span class="gi">+    }</span>
<span class="gi">+    this.dropPuyo()</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private timedDropUpdate(deltaTime: number): void {</span>
<span class="gi">+    if (!this.currentPuyo) return</span>
<span class="gi">+</span>
<span class="w"> </span>    this.dropTimer += deltaTime
<span class="w"> </span>    if (this.dropTimer &gt;= this.dropInterval) {
<span class="w"> </span>      // ç€åœ°åˆ¤å®š
<span class="gu">@@ -101,6 +126,13 @@ export class Game {</span>
<span class="w"> </span>    return this.field[y][x] === 0
<span class="w"> </span>  }

<span class="gi">+  private fixPuyo(): void {</span>
<span class="gi">+    if (!this.currentPuyo) return</span>
<span class="gi">+</span>
<span class="gi">+    // ç¾åœ¨ã®ã·ã‚ˆã‚’ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å›ºå®š</span>
<span class="gi">+    this.field[this.currentPuyo.y][this.currentPuyo.x] = this.currentPuyo.color</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  private generateNewPuyo(): void {
<span class="w"> </span>    this.currentPuyo = new Puyo(2, 0) // ä¸­å¤®ä¸Šéƒ¨ã«ç”Ÿæˆ
<span class="w"> </span>  }
</code></pre></div>
<h2 id="b86322e">ã‚³ãƒŸãƒƒãƒˆ: b86322e<a class="headerlink" href="#b86322e" title="Permanent link">&para;</a></h2>
<h3 id="_92">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_92" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã·ã‚ˆã®ç€åœ°ã‚’æ¤œå‡ºã™ã‚‹ - åº•ã‚„ä»–ã®ã·ã‚ˆã¸ã®ç€åœ°åˆ¤å®šã‚’å®Ÿè£…
</code></pre></div>
<h3 id="_93">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_93" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_94">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_94" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit b86322eaa0c428e23f73b99e6925e0bd946a5e42
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:15:46 2025 +0900

<span class="w"> </span>   feat: ã·ã‚ˆã®ç€åœ°ã‚’æ¤œå‡ºã™ã‚‹ - åº•ã‚„ä»–ã®ã·ã‚ˆã¸ã®ç€åœ°åˆ¤å®šã‚’å®Ÿè£…

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index 9484dde..acf846a 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -124,5 +124,37 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.handleInput(&#39;ArrowDown&#39;)
<span class="w"> </span>      expect(game.getCurrentPuyo()!.y).toBe(11)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;ã·ã‚ˆãŒåº•ã«ç€åœ°ã—ãŸã“ã¨ã‚’æ¤œå‡ºã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•ã¾ã§è½ä¸‹ã•ã›ã‚‹</span>
<span class="gi">+      for (let i = 0; i &lt; 11; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(false) // ã¾ã ç€åœ°ã—ã¦ã„ãªã„</span>
<span class="gi">+</span>
<span class="gi">+      // updateã‚’å‘¼ã¶ã¨ç€åœ°åˆ¤å®šãŒè¡Œã‚ã‚Œã‚‹</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ä»–ã®ã·ã‚ˆã®ä¸Šã«ç€åœ°ã—ãŸã“ã¨ã‚’æ¤œå‡ºã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•ã«æ—¢å­˜ã®ã·ã‚ˆã‚’é…ç½®</span>
<span class="gi">+      const field = game.getField()</span>
<span class="gi">+      field[10][2] = 1 // y=10, x=2ã«æ—¢å­˜ã®ã·ã‚ˆ</span>
<span class="gi">+</span>
<span class="gi">+      // ã·ã‚ˆã‚’è½ä¸‹ã•ã›ã‚‹</span>
<span class="gi">+      for (let i = 0; i &lt; 9; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(9)</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(false)</span>
<span class="gi">+</span>
<span class="gi">+      // updateã‚’å‘¼ã¶ã¨ç€åœ°åˆ¤å®šãŒè¡Œã‚ã‚Œã‚‹</span>
<span class="gi">+      game.update()</span>
<span class="gi">+      expect(game.isPuyoLanded()).toBe(true)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index e5b607c..cd3b66f 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -4,6 +4,7 @@ export class Game {</span>
<span class="w"> </span>  private gameOver = false
<span class="w"> </span>  private dropTimer = 0
<span class="w"> </span>  private dropInterval = 1000 // 1ç§’ã”ã¨ã«è½ä¸‹
<span class="gi">+  private puyoLanded = false</span>

<span class="w"> </span>  constructor() {
<span class="w"> </span>    // 6åˆ—x12è¡Œã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–
<span class="gu">@@ -23,11 +24,20 @@ export class Game {</span>
<span class="w"> </span>    return this.currentPuyo
<span class="w"> </span>  }

<span class="gi">+  isPuyoLanded(): boolean {</span>
<span class="gi">+    return this.puyoLanded</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  update(deltaTime?: number): void {
<span class="w"> </span>    if (!this.currentPuyo || this.gameOver) return

<span class="gd">-    // deltaTimeãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯å³åº§ã«è½ä¸‹</span>
<span class="gi">+    // deltaTimeãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯å³åº§ã«è½ä¸‹ã¨ç€åœ°åˆ¤å®š</span>
<span class="w"> </span>    if (deltaTime === undefined) {
<span class="gi">+      // ç€åœ°åˆ¤å®š</span>
<span class="gi">+      if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+        this.puyoLanded = true</span>
<span class="gi">+        return</span>
<span class="gi">+      }</span>
<span class="w"> </span>      this.dropPuyo()
<span class="w"> </span>      return
<span class="w"> </span>    }
<span class="gu">@@ -35,6 +45,11 @@ export class Game {</span>
<span class="w"> </span>    // æ™‚é–“çµŒéã«ã‚ˆã‚‹è½ä¸‹å‡¦ç†
<span class="w"> </span>    this.dropTimer += deltaTime
<span class="w"> </span>    if (this.dropTimer &gt;= this.dropInterval) {
<span class="gi">+      // ç€åœ°åˆ¤å®š</span>
<span class="gi">+      if (!this.canMoveTo(this.currentPuyo.x, this.currentPuyo.y + 1)) {</span>
<span class="gi">+        this.puyoLanded = true</span>
<span class="gi">+        return</span>
<span class="gi">+      }</span>
<span class="w"> </span>      this.dropPuyo()
<span class="w"> </span>      this.dropTimer = 0
<span class="w"> </span>    }
</code></pre></div>
<h2 id="cc5832a">ã‚³ãƒŸãƒƒãƒˆ: cc5832a<a class="headerlink" href="#cc5832a" title="Permanent link">&para;</a></h2>
<h3 id="_95">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_95" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>test: ç§»å‹•å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆã§ç¢ºèª - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¢ƒç•Œã§ã®ç§»å‹•åˆ¶é™ã‚’æ¤œè¨¼
</code></pre></div>
<h3 id="_96">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_96" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
</ul>
<h3 id="_97">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_97" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit cc5832a2aefd803c51265f1022a6684e9cf17491
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:13:36 2025 +0900

<span class="w"> </span>   test: ç§»å‹•å¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆã§ç¢ºèª - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¢ƒç•Œã§ã®ç§»å‹•åˆ¶é™ã‚’æ¤œè¨¼

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index d857ae6..9484dde 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -82,5 +82,47 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      const newY = game.getCurrentPuyo()!.y
<span class="w"> </span>      expect(newY).toBe(initialY + 1)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å·¦ç«¯ã§å·¦ã«ç§»å‹•ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å·¦ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;) // x=2ã‹ã‚‰å·¦ç«¯(x=0)ã¾ã§ç§»å‹•</span>
<span class="gi">+</span>
<span class="gi">+      const currentX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      expect(currentX).toBe(0)</span>
<span class="gi">+</span>
<span class="gi">+      // ã•ã‚‰ã«å·¦ã«ç§»å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç§»å‹•ã—ãªã„</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(0)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å³ç«¯ã§å³ã«ç§»å‹•ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’å³ç«¯ã«ç§»å‹•</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;) // x=2ã‹ã‚‰å³ç«¯(x=5)ã¾ã§ç§»å‹•</span>
<span class="gi">+</span>
<span class="gi">+      const currentX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      expect(currentX).toBe(5)</span>
<span class="gi">+</span>
<span class="gi">+      // ã•ã‚‰ã«å³ã«ç§»å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç§»å‹•ã—ãªã„</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.x).toBe(5)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åº•ã§ä¸‹ã«ç§»å‹•ã§ããªã„ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      // ã·ã‚ˆã‚’åº•ã¾ã§è½ä¸‹ã•ã›ã‚‹</span>
<span class="gi">+      for (let i = 0; i &lt; 12; i++) {</span>
<span class="gi">+        game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      }</span>
<span class="gi">+</span>
<span class="gi">+      const currentY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      expect(currentY).toBe(11) // åº•ã¯y=11</span>
<span class="gi">+</span>
<span class="gi">+      // ã•ã‚‰ã«ä¸‹ã«ç§»å‹•ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç§»å‹•ã—ãªã„</span>
<span class="gi">+      game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      expect(game.getCurrentPuyo()!.y).toBe(11)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
</code></pre></div>
<h2 id="8b6e69e">ã‚³ãƒŸãƒƒãƒˆ: 8b6e69e<a class="headerlink" href="#8b6e69e" title="Permanent link">&para;</a></h2>
<h3 id="_98">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_98" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¥åŠ›ã‚’æ¤œå‡ºã—ã€ã·ã‚ˆã‚’å·¦å³ã«ç§»å‹•ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…
</code></pre></div>
<h3 id="_99">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_99" title="Permanent link">&para;</a></h3>
<ul>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_100">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_100" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>commit 8b6e69e10fa478f942db2f14463b9dc62587964f
Author: k2works &lt;kakimomokuri@gmail.com&gt;
Date:   Mon Aug 4 09:12:19 2025 +0900

<span class="w"> </span>   feat: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¥åŠ›ã‚’æ¤œå‡ºã—ã€ã·ã‚ˆã‚’å·¦å³ã«ç§»å‹•ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…

<span class="gh">diff --git a/app/src/Game.test.ts b/app/src/Game.test.ts</span>
<span class="gh">index c8b6b90..d857ae6 100644</span>
<span class="gd">--- a/app/src/Game.test.ts</span>
<span class="gi">+++ b/app/src/Game.test.ts</span>
<span class="gu">@@ -61,5 +61,26 @@ describe(&#39;Game&#39;, () =&gt; {</span>
<span class="w"> </span>      game.update(1000) // 1000ms (1ç§’)
<span class="w"> </span>      expect(game.getCurrentPuyo()!.y).toBe(initialY + 1)
<span class="w"> </span>    })
<span class="gi">+</span>
<span class="gi">+    it(&#39;å·¦çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’å·¦ã«ç§»å‹•ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      game.handleInput(&#39;ArrowLeft&#39;)</span>
<span class="gi">+      const newX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      expect(newX).toBe(initialX - 1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;å³çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’å³ã«ç§»å‹•ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      game.handleInput(&#39;ArrowRight&#39;)</span>
<span class="gi">+      const newX = game.getCurrentPuyo()!.x</span>
<span class="gi">+      expect(newX).toBe(initialX + 1)</span>
<span class="gi">+    })</span>
<span class="gi">+</span>
<span class="gi">+    it(&#39;ä¸‹çŸ¢å°ã‚­ãƒ¼ã§ã·ã‚ˆã‚’é«˜é€Ÿè½ä¸‹ã§ãã‚‹ã“ã¨&#39;, () =&gt; {</span>
<span class="gi">+      const initialY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      game.handleInput(&#39;ArrowDown&#39;)</span>
<span class="gi">+      const newY = game.getCurrentPuyo()!.y</span>
<span class="gi">+      expect(newY).toBe(initialY + 1)</span>
<span class="gi">+    })</span>
<span class="w"> </span>  })
<span class="w"> </span>})
<span class="gh">diff --git a/app/src/Game.ts b/app/src/Game.ts</span>
<span class="gh">index 2a2a99d..e5b607c 100644</span>
<span class="gd">--- a/app/src/Game.ts</span>
<span class="gi">+++ b/app/src/Game.ts</span>
<span class="gu">@@ -40,6 +40,34 @@ export class Game {</span>
<span class="w"> </span>    }
<span class="w"> </span>  }

<span class="gi">+  handleInput(key: string): void {</span>
<span class="gi">+    if (!this.currentPuyo || this.gameOver) return</span>
<span class="gi">+</span>
<span class="gi">+    switch (key) {</span>
<span class="gi">+      case &#39;ArrowLeft&#39;:</span>
<span class="gi">+        this.movePuyo(-1, 0)</span>
<span class="gi">+        break</span>
<span class="gi">+      case &#39;ArrowRight&#39;:</span>
<span class="gi">+        this.movePuyo(1, 0)</span>
<span class="gi">+        break</span>
<span class="gi">+      case &#39;ArrowDown&#39;:</span>
<span class="gi">+        this.dropPuyo()</span>
<span class="gi">+        break</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="gi">+  private movePuyo(dx: number, dy: number): void {</span>
<span class="gi">+    if (!this.currentPuyo) return</span>
<span class="gi">+</span>
<span class="gi">+    const newX = this.currentPuyo.x + dx</span>
<span class="gi">+    const newY = this.currentPuyo.y + dy</span>
<span class="gi">+</span>
<span class="gi">+    if (this.canMoveTo(newX, newY)) {</span>
<span class="gi">+      this.currentPuyo.x = newX</span>
<span class="gi">+      this.currentPuyo.y = newY</span>
<span class="gi">+    }</span>
<span class="gi">+  }</span>
<span class="gi">+</span>
<span class="w"> </span>  private dropPuyo(): void {
<span class="w"> </span>    if (!this.currentPuyo) return
</code></pre></div>
<h2 id="a1e9bc0">ã‚³ãƒŸãƒƒãƒˆ: a1e9bc0<a class="headerlink" href="#a1e9bc0" title="Permanent link">&para;</a></h2>
<h3 id="_101">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸<a class="headerlink" href="#_101" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>feat: ã·ã‚ˆã‚’è‡ªç”±è½ä¸‹ã•ã›ã‚‹ - æ™‚é–“çµŒéã«ã‚ˆã‚‹è‡ªå‹•è½ä¸‹æ©Ÿèƒ½ã‚’å®Ÿè£…
</code></pre></div>
<h3 id="_102">å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«<a class="headerlink" href="#_102" title="Permanent link">&para;</a></h3>
<ul>
<li>M CLAUDE.md</li>
<li>M app/src/Game.test.ts</li>
<li>M app/src/Game.ts</li>
</ul>
<h3 id="_103">å¤‰æ›´å†…å®¹<a class="headerlink" href="#_103" title="Permanent link">&para;</a></h3>
<p>```diff
commit a1e9bc05eb14b1429bb92fe37f3ce983cb1100cb
Author: k2works <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#107;&#97;&#107;&#105;&#109;&#111;&#109;&#111;&#107;&#117;&#114;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#107;&#97;&#107;&#105;&#109;&#111;&#109;&#111;&#107;&#117;&#114;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>
Date:   Mon Aug 4 09:10:35 2025 +0900</p>
<div class="highlight"><pre><span></span><code>feat: ã·ã‚ˆã‚’è‡ªç”±è½ä¸‹ã•ã›ã‚‹ - æ™‚é–“çµŒéã«ã‚ˆã‚‹è‡ªå‹•è½ä¸‹æ©Ÿèƒ½ã‚’å®Ÿè£…
</code></pre></div>
<p>diff --git a/CLAUDE.md b/CLAUDE.md
index 6fa4022..78ef5bb 100644
--- a/CLAUDE.md
+++ b/CLAUDE.md
@@ -4,28 +4,68 @@</p>
<p>æ—¥æœ¬èªã§å›ç­”ã—ã¦ãã ã•ã„</p>
<h2 id="-">-<a class="headerlink" href="#-" title="Permanent link">&para;</a></h2>
<p>ã‚ãªãŸã¯**ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢**ã«å¯¾ã™ã‚‹æ˜ç¢ºãªè€ƒãˆã¨**ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢**ã‚’ä½œã‚‹ãŸã‚ã®è¦å¾‹ã‚’æŒã£ãŸé–‹ç™ºçµŒé¨“è±Šå¯Œãªé–‹ç™ºè€…ã§ã™ã€‚</p>
<h2 id="-_1">-<a class="headerlink" href="#-_1" title="Permanent link">&para;</a></h2>
<p>ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã¤ã„ã¦ã¯ @docs/reference/ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¨ã¯.md ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<p>+ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã¤ã„ã¦ã®è€ƒãˆã¨è¦å¾‹ã¨çµŒé¨“ã«é–¢ã™ã‚‹çŸ¥è¦‹ã¯ @docs/reference å†…ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<p>+ã‚ãªãŸã¯ @docs/reference/é–‹ç™ºã‚¬ã‚¤ãƒ‰.md ã«å¾“ã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚’æ‰‹æ®µã¨ã—ã¦å•é¡Œè§£æ±ºã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚</p>
<p>-ã‚ˆã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã¤ã„ã¦ã®è€ƒãˆã¨è¦å¾‹ã¨çµŒé¨“ã«é–¢ã™ã‚‹çŸ¥è¦‹ã¯ @docs/reference å†…ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
+ã‚ãªãŸã¯æ—¢å­˜ã®ã‚½ãƒ•ãƒˆã‚¦ã‚¨ã‚¢é–‹ç™ºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨æœ€æ–°ã®AIãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚’èåˆã•ã›ã‚‹ã“ã¨ã«ã‚ˆã‚Šã‚½ãƒ•ãƒˆã‚¦ã‚¨ã‚¢é–‹ç™ºã«ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚</p>
<p>+<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxMjBweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQwOXB4O2hlaWdodDoxMjBweDtiYWNrZ3JvdW5kOiMwMDAwMDA7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0MDkgMTIwIiB3aWR0aD0iNDA5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMDQxRDE2IiBoZWlnaHQ9IjEiIHN0eWxlPSJzdHJva2U6IzA0MUQxNjtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxIiB4PSIwIiB5PSIwIi8+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTI4LjAwOTgiIHg9IjUiIHk9IjE3Ij5QbGFudFVNTCAxLjIwMjUuNDwvdGV4dD48cmVjdCBmaWxsPSIjMzNGRjAyIiBoZWlnaHQ9IjIxLjI5NjkiIHN0eWxlPSJzdHJva2U6IzMzRkYwMjtzdHJva2Utd2lkdGg6MTsiIHdpZHRoPSIxNzMuMjgxMyIgeD0iNSIgeT0iMjYuOTY4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzEuMjgxMyIgeD0iNiIgeT0iNDEuOTY4OCI+W0Zyb20gc3RyaW5nIChsaW5lIDIpIF08L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQuODc0IiB4PSI1IiB5PSI2Mi4yNjU2Ij4mIzE2MDs8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYwMiIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgxLjQyMjkiIHg9IjUiIHk9Ijc4LjU2MjUiPkBzdGFydHVtbDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjAyIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ3YXZ5IHVuZGVybGluZSIgdGV4dExlbmd0aD0iMTEuNzMwNSIgeD0iNSIgeT0iOTQuODU5NCI+KzwvdGV4dD48dGV4dCBmaWxsPSIjRkYwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzkyLjMzNSIgeD0iOS44NzQiIHk9IjExMS4xNTYzIj5TeW50YXggRXJyb3I/IChBc3N1bWVkIGRpYWdyYW0gdHlwZTogc2VxdWVuY2UpPC90ZXh0PjwhLS1TUkM9W2pMVlRLbmZONTdfVmwtOXNWMFhxME81R0hhcjlSOWtQSlh4UXoyNGw3U1VQaDcwbkV1Q0Jpb202OWljQ2staTcyWVFFWUxocEtNRUlnZXE5OWhLY3JpSmFaeGFrdTVGX1hQdnhCeGtpMkRScU91UFhidEZGLVB0bFNvd1k4NmdvYmlCZVNCNUtNenVadlg4bk5uQlo3SjctODdnYkRsRWNFYjR3ckRfTXJqelAzeE81S0gwN0ZYejRWbHp2TDVfSjN6d3o0S0otUDJHRXFJSWZ5bDByWlRCcktrdFVYWTNvOV9BZFM1OXA4TjJuWmtHczAydlRSakI0UjZzX3FZSmJDYTJpaGZUZ016RTJvOXpqLUlXRGxBQkVQSkw5bW1xQks5VUE0cFFmOFR3TGFhVm1pOGduT1h5cUdCaElnZ0dDT3VWQVJVX0F2REhDZ2FiYllZYThuNktlYlNES3ZUTWhMbUwxeEVnb19IUnlIM1U4X2ZwZUFxSlZHbHM5VDNwUmhVOGFMaDRJbnpzREQxYWxZRjZDY0RFMWFHR1ktZ1JydUl4SG51Y25KeW01T1hROWlLUUNUTTh5aVJkZGd6RWJRY003dzFqNE5vQndjaExtdnQyck41el9NZHN6SHlObEIxOVpmaE9wSmxJRkhGejB6NktvUFozSkNZYjlxTjhaQVIycWNOZllGY1VWenIwYVdrc1NjdVhrMjI5MnJSc24tZmxqd2dETFMybEtYX3Z5Tm9KYzZjRHVtemNlZlYzMmZTUnFXeHJZaFI4NEJfSjhVNHNDTk1CLW1YV3NsU1ZtZzI1a2JRbm1Wb05jRFo1QnpEanVIS0xFdmMzRTc0NExuNWlqMlFXa0ZSNVVfV0lqUzNJdTZ5dFdtZjZ2UjdsM0wxWFJuOW1hbmJGTUdubExYc0ZMbkxWMHpqS2JIZVIzc3dwN1RmYlR5X01WUHdzdjhqNE5ZRncwNjJNWXRzTGZzWUc2ZzloZmg3UUpMUzFqZ2ZwWWwyTmNFZERoZFhXNmpUc09QaGJzaWpiODRuTVE5RU9Cam4zRnJvUzZBem9RYV8xX2RFQ21CeFBzMWRWOHprYk9zdGxvQVNCc3k0NzhEUUhlY1kzZHIxVVRjNC05Tmd2X3RCVGM3akZDNmNOODIxLWNGREFkT1pya0FFZnBvcXVKU3V3TzlmSktsbTREVEdRNVBYMkZ6Qkt6QVdMX1NzM1BDbW1lWlJXOF9WdDhfcU40cnVGNHRlV2xZbGh4d01hTlg3WVJnUFhZa2NXcVFRTkpkZzFiMGcza1dVQ050Qi1XVTVNRHVLUHhWQTRHNGFGMWcyeUsxY1dhOXY2ZFJWQWlJbGJXUl9BMjVzZE5pODh5MVBwcjJkcjR0dzVUZktFVnFWT3cxbkhnckdmcnNJcDJwLWdCclJQZXZzWUNpcmV3OC0xSzVZRUZhbFFzYlRLaExvdlZsN25FbTRmMkpXZi05WTVveXJjT1c5ZzRFMHhCNmZBd2ZLb2NFd2w2a3gtTEhkMTBtcmFqZTZOSEs1a284Mmk5ZDRUSHREanhEWUc1MGw2VWVVWEdSbjI1V2k1ZTkyQjA1a2swOXVZWXMwY0oxWkdJemFNRzJEX1gyMHJkMGNWWmdabzRGTVNldm5hVnlkWEh4M25DMjlwRnVCWmM2UVJvbXJaeDlnVjJIajktbzFOSTdneXRlQU1fblhUbktiUG1ta0NMUmg2Rkk0Rk1uMkZ3TXBoSnU1TzFidWRJV1dpUXMxMklqSVBCa0p4cjc1WGd6czRaUlRSZHpXenNJdElDc1RFbkxISVhVNWg5UWFYTVA0c01LWi1ZNjZmaHZjVTFXWXQwcGRFUDFDbjRaX1NlWWVBbGRtUVg0R19BcFR0dEVFZjU1NmZXc2I3V3hYdGlaYmNMLXpMYnV0M25SY3NkVkFaVmpad0t3SUh0dEZ1X05FdGtIWlJrZmxMbjBqZU1qWGl0MGJIb0VfWXJXRHVYd0U4UmpueF8zWmtmTlFvV3RCbUs0UHVac1BQR1QzQWE5Sm5FSTN4MWo5S0pCTjlDMGZrRzlySFJkX1YtQ3pEUUNpVS11TkQycG52bEx4akphXzdVaXk1V0pvMEdiaTlJUnNfWWY0dmp0d0l5RnlDbUdTS20zNUZ1MFR3YUxHdDVLcjhzWW9XSmI0TDZiS1ZmUGFfQUU5TmVHcWZrUDBZaDB1QzNXeXY5bEVicTd3QlZ3MlFtZkw5R0VfSlh5RDRXTkh4NUFqMko0V212NlczeEJBNmNDclZXeWFpRld3cTdibkdEZ3dDSTFRSDlPQ2MwOTEzejdoX0F5MW1CMFlqVERIVk5xWWVLekdxMS1BOU1TSWFWMmpUTm8tbVl2UW9YSlJnOVo3Y2gtQVp3U0NLZ0JfOUdYNVdpcGxlWWVLeEhLQjZNS25LTy1OOHN1RjlSZUFpQ2VLUjk5NzFBYXdXdDUtbnVVVmxHUTVmRUVCQzhUaWZkaEhaZXZhc0VReVY5WXhXc2t2eDE3R1NQb2hUUWRlOWtqelRsUXRGMXRUQVF0UlJzcmZsblNMR3hBMldNWXc0U2IxQ1JoRHhjNDYxc3FEM3BJaFI5alpzaVc1cmNrS1VFVlJLaVNRdE1yNWZqUmY5cEVnV3lxc0Fpd0tfSmsxUWN5eDZjYzVxN1ZzemUycVlaZmZaSFprTmsya0ZJZnFYSWN2cG15U0FOM2o0WHRoRGlrZlJlRkdkLTlKYU5BOVR4U0tkdkJac0Fod0d6aFZZMWxFek9TR0tBUjZ3cVVkczRHbkd4RXpaS2JoVmhxT1NBaGo4U0lnVEpNNTlpVkYyZmpMRFdnTXdETW16LWlvT2RFZGdNSHItWTgydFlGNHJRYkJ1TFI1QTFhYTlYYm1rREhkODZHU0RxTmF4RWRvOXhTVjdBUmdsUXRQNWlIV3FLMVdWb1d3b3FXdE9xZDE2NDVRcDJvX1Z1VWFsQVp0TFpaMnZnRGl1eU9IX1lBLTFXendOcmg3QW1FdERlcWhiSmt4VElCU3U5al91Ml0tLT48L2c+PC9zdmc+" class="uml" alt="uml diagram" title="" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/k2works/ai-programming-exercise" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../../../../docs/assets/js/extra.js"></script>
      
    
  </body>
</html>