# ADR-0003: Canvas APIの採用

## ステータス

承認済み

## コンテキスト

ぷよぷよゲームの描画システムを実装するにあたり、適切な描画技術を選定する必要がある。
ゲームでは以下の描画要件がある：

考慮すべき要件：
- 2Dグラフィックスの描画（ぷよ、フィールド、スコア表示）
- アニメーション処理（落下、消去、連鎖エフェクト）
- パフォーマンス（60FPSでの滑らかな描画）
- ブラウザ互換性
- 学習コスト
- ゲームに必要な基本図形描画（矩形、円、テキスト）

## 決定

HTML5 Canvas APIを描画システムとして採用する。

## 理由

- **2Dグラフィックス**: ぷよぷよゲームに必要な2D描画機能（矩形、円、テキスト描画）が十分に提供されている
- **パフォーマンス**: ハードウェアアクセラレーションにより高速な描画が可能で、60FPSのゲーム描画に適している
- **標準技術**: 追加のライブラリなしで使用可能な標準Web API
- **ブラウザサポート**: すべてのモダンブラウザでサポートされている
- **シンプル**: 学習コストが低く、実装がシンプル
- **ゲーム向け機能**: フレームバッファ、座標変換、色彩管理などゲーム描画に必要な機能が揃っている
- **デバッグ容易性**: ブラウザ開発者ツールでの描画処理の確認が可能

## 結果

### 良い結果
- 外部依存がない
- 高速な描画パフォーマンス
- 実装の透明性
- ぷよゲームに必要な基本図形描画の実装が容易

### 悪い結果
- 低レベルAPIのため、ゲームエンジンに比べて実装量が多い
- 複雑なアニメーションには追加の実装が必要
- 画像リソース管理は自前で実装する必要がある