# ぷよぷよゲーム開発計画

## 概要

本計画書は、ぷよぷよゲームの開発における全体的な計画と進め方を定義します。

## 開発方針

- **テスト駆動開発（TDD）**: Red-Green-Refactorサイクルに従って開発を進める
- **イテレーティブ開発**: 8つのイテレーションに分けて段階的に機能を実装
- **継続的インテグレーション**: GitHub Actionsによる自動テスト・ビルド
- **ドキュメント駆動**: 各フェーズでドキュメントを更新し、知識を蓄積

## 技術スタック

- **開発言語**: TypeScript
- **テストフレームワーク**: Vitest
- **描画**: HTML5 Canvas API
- **ビルドツール**: Vite
- **CI/CD**: GitHub Actions
- **ホスティング**: Vercel

## 開発フェーズ

### Phase 1: 要件定義（完了）
- 要件の確認と理解
- アーキテクチャと技術スタックの選定
- ADRの作成
- 開発計画の策定

### Phase 2: 構築・配置
- プロジェクトの初期セットアップ
- 開発環境の構築
- CI/CDパイプラインの設定
- デプロイ環境の準備

### Phase 3: 開発
- イテレーション1: ゲーム開始の実装
- イテレーション2: ぷよの移動の実装
- イテレーション3: ぷよの回転の実装
- イテレーション4: ぷよの高速落下の実装
- イテレーション5: ぷよの消去の実装
- イテレーション6: 連鎖反応の実装
- イテレーション7: 全消しボーナスの実装
- イテレーション8: ゲームオーバーの実装

### Phase 4: 運用
- 包括的ドキュメントの作成
- アプリケーション評価レポートの作成

## 開発プロセス

### 各イテレーションの進め方

1. **計画**
   - TODOリストの確認
   - 受け入れ基準の確認

2. **実装**
   - テストの作成（Red）
   - 実装（Green）
   - リファクタリング（Refactor）

3. **検証**
   - 全テストの実行
   - リント・フォーマットチェック
   - ビルド確認

4. **受け入れ**
   - 受け入れ基準の確認
   - ユーザーによる承認

5. **ふりかえり**
   - Keep/Problem/Tryの記録
   - 次イテレーションへの反映

### コミット規約

Conventional Commitsに従う：
- `feat:` 新機能の追加
- `fix:` バグ修正
- `docs:` ドキュメントの変更
- `style:` コードスタイルの変更
- `refactor:` リファクタリング
- `test:` テストの追加・修正
- `chore:` ビルドプロセスなどの変更

### 品質基準

- 全テストが通過すること
- ESLintのエラーがないこと
- コードフォーマットが統一されていること
- ビルドが成功すること
- 受け入れ基準を満たすこと

## スケジュール目安

- Phase 1: 1日（完了）
- Phase 2: 1日
- Phase 3: 8日（各イテレーション1日）
- Phase 4: 2日

合計: 約12日

## リスクと対策

### 技術的リスク
- **リスク**: Canvas APIの学習コスト
- **対策**: シンプルな実装から始め、段階的に複雑化

### スケジュールリスク
- **リスク**: イテレーション遅延の累積
- **対策**: 各イテレーションでのタイムボックス設定

### 品質リスク
- **リスク**: テストカバレッジの低下
- **対策**: TDDの厳格な実施とカバレッジ測定