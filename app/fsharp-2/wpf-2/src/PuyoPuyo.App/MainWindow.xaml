<Window
    x:Class="PuyoPuyo.App.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="ぷよぷよゲーム" Height="600" Width="500">
  <StackPanel Orientation="Vertical">
    <!-- タイトル -->
    <TextBlock Text="ぷよぷよゲーム" FontSize="24" HorizontalAlignment="Center" Margin="10"/>

    <!-- ゲームエリア（ボードと情報パネルを横に並べる） -->
    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
      <!-- ゲームボード -->
      <Border BorderBrush="Black" BorderThickness="2" Margin="10">
        <Canvas Background="WhiteSmoke" Width="240" Height="480">
          <ItemsControl ItemsSource="{Binding Puyos}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <Canvas/>
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemContainerStyle>
              <Style>
                <Setter Property="Canvas.Left" Value="{Binding X}"/>
                <Setter Property="Canvas.Top" Value="{Binding Y}"/>
              </Style>
            </ItemsControl.ItemContainerStyle>
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <Ellipse Width="36" Height="36" Fill="{Binding Color}" Stroke="Black" StrokeThickness="1"/>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </Canvas>
      </Border>

      <!-- 情報パネル -->
      <StackPanel Orientation="Vertical" Margin="10" VerticalAlignment="Top">
        <!-- スコア表示 -->
        <TextBlock Text="Score" FontSize="14" FontWeight="Bold" Margin="0,5,0,5"/>
        <TextBlock Text="{Binding Score}" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

        <!-- 連鎖数表示 -->
        <TextBlock Text="Chain" FontSize="14" FontWeight="Bold" Margin="0,5,0,5"/>
        <TextBlock Text="{Binding Chain}" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

        <!-- 次のぷよ表示 -->
        <TextBlock Text="Next" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,5,0,5"/>
        <Border Width="50" Height="50" BorderBrush="LightGray" BorderThickness="1" Margin="0,0,0,10">
          <Canvas Background="Transparent" Width="50" Height="50">
            <!-- 次のぷよはここに表示される（将来実装） -->
          </Canvas>
        </Border>
      </StackPanel>
    </StackPanel>

    <!-- コントロールボタン -->
    <Button Command="{Binding StartGame}" Content="ゲーム開始" Width="120" Height="40" Margin="10"/>
  </StackPanel>
</Window>
